<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.ConsistentProp</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.ConsistentProp</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.sflib.html#"><span class="id" title="library">sflib</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Axioms.html#"><span class="id" title="library">Axioms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Basic.html#"><span class="id" title="library">Basic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DataStructure.html#"><span class="id" title="library">DataStructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Loc.html#"><span class="id" title="library">Loc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Coqlib.html#"><span class="id" title="library">Coqlib</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Language.html#"><span class="id" title="library">Language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Time.html#"><span class="id" title="library">Time</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Event.html#"><span class="id" title="library">Event</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.View.html#"><span class="id" title="library">View</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Cell.html#"><span class="id" title="library">Cell</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Memory.html#"><span class="id" title="library">Memory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.TView.html#"><span class="id" title="library">TView</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Local.html#"><span class="id" title="library">Local</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Thread.html#"><span class="id" title="library">Thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPThread.html#"><span class="id" title="library">NPThread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Configuration.html#"><span class="id" title="library">Configuration</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MsgMapping.html#"><span class="id" title="library">MsgMapping</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DelaySet.html#"><span class="id" title="library">DelaySet</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPConfiguration.html#"><span class="id" title="library">NPConfiguration</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.LibTactics.html#"><span class="id" title="library">LibTactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Reordering.html#"><span class="id" title="library">Reordering</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#"><span class="id" title="library">ps_to_np_thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.WFConfig.html#"><span class="id" title="library">WFConfig</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#"><span class="id" title="library">PromiseConsistent</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemoryReorder.html#"><span class="id" title="library">MemoryReorder</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ReorderPromise.html#"><span class="id" title="library">ReorderPromise</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ReorderReserve.html#"><span class="id" title="library">ReorderReserve</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ReorderCancel.html#"><span class="id" title="library">ReorderCancel</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#"><span class="id" title="library">ConsistentLemmas</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.PromiseInjection.html#"><span class="id" title="library">PromiseInjection</span></a>.<br/>

<br/>
</div>

<div class="doc">
Equivalence between the thread consisten and NPthread consistent 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="Thread_consistent_nprm_to_consistent" class="idref" href="#Thread_consistent_nprm_to_consistent"><span class="id" title="lemma">Thread_consistent_nprm_to_consistent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lang:1" class="idref" href="#lang:1"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>) (<a id="e:2" class="idref" href="#e:2"><span class="id" title="binder">e</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:1"><span class="id" title="variable">lang</span></a>) (<a id="lo:3" class="idref" href="#lo:3"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:2"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:3"><span class="id" title="variable">lo</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:2"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:3"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Thread.consistent</span>, <span class="id" title="var">Thread.consistent_nprm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CAP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e2</span> &amp; <span class="id" title="var">Hthrd_nprm_steps</span> &amp; <span class="id" title="var">Hfulfill</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_nprm_promise_consistent" class="idref" href="#consistent_nprm_promise_consistent"><span class="id" title="lemma">consistent_nprm_promise_consistent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:4" class="idref" href="#lang:4"><span class="id" title="binder">lang</span></a> <a id="th:5" class="idref" href="#th:5"><span class="id" title="binder">th</span></a> <a id="lo:6" class="idref" href="#lo:6"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:7" class="idref" href="#CONS:7"><span class="id" title="binder">CONS</span></a>: @<a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:4"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th:5"><span class="id" title="variable">th</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:6"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF:8" class="idref" href="#WF:8"><span class="id" title="binder">WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th:5"><span class="id" title="variable">th</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th:5"><span class="id" title="variable">th</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SC:9" class="idref" href="#SC:9"><span class="id" title="binder">SC</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th:5"><span class="id" title="variable">th</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th:5"><span class="id" title="variable">th</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM:10" class="idref" href="#MEM:10"><span class="id" title="binder">MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th:5"><span class="id" title="variable">th</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th:5"><span class="id" title="variable">th</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#Thread_consistent_nprm_to_consistent"><span class="id" title="lemma">Thread_consistent_nprm_to_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#consistent_promise_consistent"><span class="id" title="lemma">consistent_promise_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_one_step</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eauto</span>].<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_event_contr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hcontr</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;(<span class="id" title="tactic">intro</span> <span class="id" title="var">Hcontr</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcontr</span>; <span class="id" title="var">tryfalse</span>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nprm_steps_fulfill_implies_no_scfence_nprm_step_fulfill" class="idref" href="#nprm_steps_fulfill_implies_no_scfence_nprm_step_fulfill"><span class="id" title="lemma">nprm_steps_fulfill_implies_no_scfence_nprm_step_fulfill</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:11" class="idref" href="#n:11"><span class="id" title="binder">n</span></a> <a id="lang:12" class="idref" href="#lang:12"><span class="id" title="binder">lang</span></a> <a id="lo:13" class="idref" href="#lo:13"><span class="id" title="binder">lo</span></a> <a id="e:14" class="idref" href="#e:14"><span class="id" title="binder">e</span></a> <a id="e':15" class="idref" href="#e':15"><span class="id" title="binder">e'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NPRM_STEPS:16" class="idref" href="#NPRM_STEPS:16"><span class="id" title="binder">NPRM_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:12"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:13"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#n:11"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:14"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':15"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:17" class="idref" href="#BOT:17"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':15"><span class="id" title="variable">e'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e0:18" class="idref" href="#e0:18"><span class="id" title="binder">e0</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step"><span class="id" title="inductive">no_scfence_nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:12"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:13"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:14"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:18"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:18"><span class="id" title="variable">e0</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">NPRM_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">NPRM_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">SC_FENCE_OR_NOT</span>: <span class="id" title="var">ordw</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <span class="id" title="var">ordw</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ordw</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">right</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">SC_FENCE_OR_NOT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">SC_FENCE</span> | <span class="id" title="var">NOT_SC_FENCE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro2"><span class="id" title="constructor">no_scfence_nprm_step_intro2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="no_scfence_step_promise_consistent" class="idref" href="#no_scfence_step_promise_consistent"><span class="id" title="lemma">no_scfence_step_promise_consistent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:19" class="idref" href="#lang:19"><span class="id" title="binder">lang</span></a> <a id="lo:20" class="idref" href="#lo:20"><span class="id" title="binder">lo</span></a> <a id="th1:21" class="idref" href="#th1:21"><span class="id" title="binder">th1</span></a> <a id="th2:22" class="idref" href="#th2:22"><span class="id" title="binder">th2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_SCFENCE_STEP:23" class="idref" href="#NO_SCFENCE_STEP:23"><span class="id" title="binder">NO_SCFENCE_STEP</span></a>: <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step"><span class="id" title="inductive">no_scfence_nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:20"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:19"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:21"><span class="id" title="variable">th1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th2:22"><span class="id" title="variable">th2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:24" class="idref" href="#CONS:24"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th2:22"><span class="id" title="variable">th2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF1:25" class="idref" href="#WF1:25"><span class="id" title="binder">WF1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:21"><span class="id" title="variable">th1</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:21"><span class="id" title="variable">th1</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM1:26" class="idref" href="#MEM1:26"><span class="id" title="binder">MEM1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:21"><span class="id" title="variable">th1</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:21"><span class="id" title="variable">th1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">NO_SCFENCE_STEP</span>; [<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#read_step_promise_consistent"><span class="id" title="lemma">read_step_promise_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#write_step_promise_consistent"><span class="id" title="lemma">write_step_promise_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#read_step_promise_consistent"><span class="id" title="lemma">read_step_promise_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#write_step_promise_consistent"><span class="id" title="lemma">write_step_promise_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#fence_step_promise_consistent"><span class="id" title="lemma">fence_step_promise_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#promise_step_promise_consistent"><span class="id" title="lemma">promise_step_promise_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="no_scfence_steps_promise_consistent" class="idref" href="#no_scfence_steps_promise_consistent"><span class="id" title="lemma">no_scfence_steps_promise_consistent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:27" class="idref" href="#lang:27"><span class="id" title="binder">lang</span></a> <a id="lo:28" class="idref" href="#lo:28"><span class="id" title="binder">lo</span></a> <a id="th1:29" class="idref" href="#th1:29"><span class="id" title="binder">th1</span></a> <a id="th2:30" class="idref" href="#th2:30"><span class="id" title="binder">th2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_SCFENCE_STEPS:31" class="idref" href="#NO_SCFENCE_STEPS:31"><span class="id" title="binder">NO_SCFENCE_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step"><span class="id" title="inductive">no_scfence_nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:28"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:27"><span class="id" title="variable">lang</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#th1:29"><span class="id" title="variable">th1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th2:30"><span class="id" title="variable">th2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:32" class="idref" href="#CONS:32"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th2:30"><span class="id" title="variable">th2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF1:33" class="idref" href="#WF1:33"><span class="id" title="binder">WF1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:29"><span class="id" title="variable">th1</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:29"><span class="id" title="variable">th1</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM1:34" class="idref" href="#MEM1:34"><span class="id" title="binder">MEM1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:29"><span class="id" title="variable">th1</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:29"><span class="id" title="variable">th1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">NO_SCFENCE_STEPS</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">CONS_Y</span>: <span class="id" title="var">CONS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHNO_SCFENCE_STEPS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS_Y</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#no_scfence_step_promise_consistent"><span class="id" title="lemma">no_scfence_step_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="no_scfence_steps_to_bot_promise_consistent" class="idref" href="#no_scfence_steps_to_bot_promise_consistent"><span class="id" title="lemma">no_scfence_steps_to_bot_promise_consistent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:35" class="idref" href="#lang:35"><span class="id" title="binder">lang</span></a> <a id="lo:36" class="idref" href="#lo:36"><span class="id" title="binder">lo</span></a> <a id="th1:37" class="idref" href="#th1:37"><span class="id" title="binder">th1</span></a> <a id="th2:38" class="idref" href="#th2:38"><span class="id" title="binder">th2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_SCFENCE_STEPS:39" class="idref" href="#NO_SCFENCE_STEPS:39"><span class="id" title="binder">NO_SCFENCE_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step"><span class="id" title="inductive">no_scfence_nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:36"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:35"><span class="id" title="variable">lang</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#th1:37"><span class="id" title="variable">th1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th2:38"><span class="id" title="variable">th2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:40" class="idref" href="#BOT:40"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th2:38"><span class="id" title="variable">th2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF1:41" class="idref" href="#WF1:41"><span class="id" title="binder">WF1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:37"><span class="id" title="variable">th1</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:37"><span class="id" title="variable">th1</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM1:42" class="idref" href="#MEM1:42"><span class="id" title="binder">MEM1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:37"><span class="id" title="variable">th1</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:37"><span class="id" title="variable">th1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#no_scfence_steps_promise_consistent"><span class="id" title="lemma">no_scfence_steps_promise_consistent</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NO_SCFENCE_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BOT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nprm_steps_to_bot_promise_consistent" class="idref" href="#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:43" class="idref" href="#lang:43"><span class="id" title="binder">lang</span></a> <a id="lo:44" class="idref" href="#lo:44"><span class="id" title="binder">lo</span></a> <a id="th1:45" class="idref" href="#th1:45"><span class="id" title="binder">th1</span></a> <a id="th2:46" class="idref" href="#th2:46"><span class="id" title="binder">th2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NPRM_STEPS:47" class="idref" href="#NPRM_STEPS:47"><span class="id" title="binder">NPRM_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:44"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:43"><span class="id" title="variable">lang</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#th1:45"><span class="id" title="variable">th1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th2:46"><span class="id" title="variable">th2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:48" class="idref" href="#BOT:48"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th2:46"><span class="id" title="variable">th2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF1:49" class="idref" href="#WF1:49"><span class="id" title="binder">WF1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:45"><span class="id" title="variable">th1</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:45"><span class="id" title="variable">th1</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM1:50" class="idref" href="#MEM1:50"><span class="id" title="binder">MEM1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:45"><span class="id" title="variable">th1</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#th1:45"><span class="id" title="variable">th1</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NPRM_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_fulfill_implies_no_scfence_nprm_step_fulfill"><span class="id" title="lemma">nprm_steps_fulfill_implies_no_scfence_nprm_step_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NPRM_STEPS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#no_scfence_steps_to_bot_promise_consistent"><span class="id" title="lemma">no_scfence_steps_to_bot_promise_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="program_step_promise_prsv_or_elim'" class="idref" href="#program_step_promise_prsv_or_elim'"><span class="id" title="lemma">program_step_promise_prsv_or_elim'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lang:51" class="idref" href="#lang:51"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>) (<a id="st:52" class="idref" href="#st:52"><span class="id" title="binder">st</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.state"><span class="id" title="projection">Language.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:51"><span class="id" title="variable">lang</span></a>) <a id="lc:53" class="idref" href="#lc:53"><span class="id" title="binder">lc</span></a> <a id="sc:54" class="idref" href="#sc:54"><span class="id" title="binder">sc</span></a> <a id="mem:55" class="idref" href="#mem:55"><span class="id" title="binder">mem</span></a> <a id="lo:56" class="idref" href="#lo:56"><span class="id" title="binder">lo</span></a> <a id="te:57" class="idref" href="#te:57"><span class="id" title="binder">te</span></a> <a id="e:58" class="idref" href="#e:58"><span class="id" title="binder">e</span></a> <a id="lc':59" class="idref" href="#lc':59"><span class="id" title="binder">lc'</span></a> <a id="mem':60" class="idref" href="#mem':60"><span class="id" title="binder">mem'</span></a> <a id="loc:61" class="idref" href="#loc:61"><span class="id" title="binder">loc</span></a> <a id="from:62" class="idref" href="#from:62"><span class="id" title="binder">from</span></a> <a id="to:63" class="idref" href="#to:63"><span class="id" title="binder">to</span></a> <a id="msg:64" class="idref" href="#msg:64"><span class="id" title="binder">msg</span></a> <a id="kind:65" class="idref" href="#kind:65"><span class="id" title="binder">kind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM:66" class="idref" href="#CLOSED_MEM:66"><span class="id" title="binder">CLOSED_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:55"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:67" class="idref" href="#LOCAL_WF:67"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:53"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:55"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROG:68" class="idref" href="#PROG:68"><span class="id" title="binder">PROG</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:57"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:56"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:51"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st:52"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':59"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:54"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':60"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:58"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOSCF:70" class="idref" href="#NOSCF:70"><span class="id" title="binder">NOSCF</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="ordr:69" class="idref" href="#ordr:69"><span class="id" title="binder">ordr</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:57"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.fence"><span class="id" title="constructor">ThreadEvent.fence</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:69"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_OUT:71" class="idref" href="#NOT_OUT:71"><span class="id" title="binder">NOT_OUT</span></a>: <a class="idref" href="CompOptCert.Local.html#ThreadEvent.get_machine_event"><span class="id" title="definition">ThreadEvent.get_machine_event</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:57"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#MachineEvent.silent"><span class="id" title="constructor">MachineEvent.silent</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:72" class="idref" href="#CONS:72"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:58"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PRM:73" class="idref" href="#PRM:73"><span class="id" title="binder">PRM</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:53"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:55"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:61"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:62"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:63"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg:64"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':59"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':60"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:65"><span class="id" title="variable">kind</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONPF:74" class="idref" href="#NONPF:74"><span class="id" title="binder">NONPF</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_is_lower_concrete"><span class="id" title="definition">Memory.op_kind_is_lower_concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:65"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.is_released_none"><span class="id" title="definition">Message.is_released_none</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg:64"><span class="id" title="variable">msg</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="KIND:75" class="idref" href="#KIND:75"><span class="id" title="binder">KIND</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_is_cancel"><span class="id" title="definition">Memory.op_kind_is_cancel</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:65"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e':76" class="idref" href="#e':76"><span class="id" title="binder">e'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step"><span class="id" title="inductive">no_scfence_nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:51"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:56"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:51"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st:52"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:53"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:54"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:55"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e':76"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ConsistentProp.html#e:58"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':76"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">∃</span></a> <a id="from':77" class="idref" href="#from':77"><span class="id" title="binder">from'</span></a> <a id="msg':78" class="idref" href="#msg':78"><span class="id" title="binder">msg'</span></a> <a id="kind':79" class="idref" href="#kind':79"><span class="id" title="binder">kind'</span></a><a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':76"><span class="id" title="variable">e'</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':76"><span class="id" title="variable">e'</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#loc:61"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from':77"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:63"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg':78"><span class="id" title="variable">msg'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:58"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:58"><span class="id" title="variable">e</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#kind':79"><span class="id" title="variable">kind'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:58"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':76"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:58"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':76"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CLOSED_MEM'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc'</span> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PRM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro1"><span class="id" title="constructor">no_scfence_nprm_step_intro1</span></a>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">DISJ</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ts</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#read_promise_not_consistent"><span class="id" title="lemma">read_promise_not_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderPromise.html#reorder_promise_read"><span class="id" title="lemma">reorder_promise_read</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PRM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lc1'</span> &amp; <span class="id" title="var">READ</span> &amp; <span class="id" title="var">PROMISE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro1"><span class="id" title="constructor">no_scfence_nprm_step_intro1</span></a>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderPromise.html#reorder_promise_write'"><span class="id" title="lemma">reorder_promise_write'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">REORDER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REORDER</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">CONTR</span> | (<span class="id" title="var">kind2'</span> &amp; <span class="id" title="var">lc1'</span> &amp; <span class="id" title="var">mem1'</span> &amp; <span class="id" title="var">WRITE'</span> &amp; <span class="id" title="var">PROMISE'</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONTR</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PRM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">PROMISE'</span>: <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_get0"><span class="id" title="lemma">Memory.promise_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">NONPF</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#promise_consistent_promise_write"><span class="id" title="lemma">promise_consistent_promise_write</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_reserve_write"><span class="id" title="lemma">reorder_reserve_write</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro1"><span class="id" title="constructor">no_scfence_nprm_step_intro1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_write"><span class="id" title="constructor">Local.step_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE'</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#promise_consistent_promise_write"><span class="id" title="lemma">promise_consistent_promise_write</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE'</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">PROMISES'</span>: <span class="id" title="var">PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#promise_consistent_promise_write"><span class="id" title="lemma">promise_consistent_promise_write</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PROMISES'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISES'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOWER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">NONPF</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">CONFIG_EQ</span> | <span class="id" title="var">CONT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CONFIG_EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro1"><span class="id" title="constructor">no_scfence_nprm_step_intro1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_write"><span class="id" title="constructor">Local.step_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro1"><span class="id" title="constructor">no_scfence_nprm_step_intro1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_write"><span class="id" title="constructor">Local.step_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">DISJ</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#read_promise_not_consistent"><span class="id" title="lemma">read_promise_not_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#write_step_promise_consistent"><span class="id" title="lemma">write_step_promise_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderPromise.html#reorder_promise_read"><span class="id" title="lemma">reorder_promise_read</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PRM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">lc1'</span> &amp; <span class="id" title="var">READ</span> &amp; <span class="id" title="var">PROMISE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderPromise.html#reorder_promise_write'"><span class="id" title="lemma">reorder_promise_write'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#closed_mem_implies_wf_msg_view"><span class="id" title="lemma">closed_mem_implies_wf_msg_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#closed_mem_implies_closed_msg"><span class="id" title="lemma">closed_mem_implies_closed_msg</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_read"><span class="id" title="lemma">local_wf_read</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">REORDER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REORDER</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">CONTR</span> | (<span class="id" title="var">kind2'</span> &amp; <span class="id" title="var">lc2'</span> &amp; <span class="id" title="var">mem1'</span> &amp; <span class="id" title="var">WRITE'</span> &amp; <span class="id" title="var">PROMISE'</span>)].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONTR</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">PROMISE'</span>: <span class="id" title="var">PROMISE0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_get0"><span class="id" title="lemma">Memory.promise_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">NONPF</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#promise_consistent_promise_write"><span class="id" title="lemma">promise_consistent_promise_write</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_reserve_write"><span class="id" title="lemma">reorder_reserve_write</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL2</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro1"><span class="id" title="constructor">no_scfence_nprm_step_intro1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_update"><span class="id" title="constructor">Local.step_update</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE'</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#promise_consistent_promise_write"><span class="id" title="lemma">promise_consistent_promise_write</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE'</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">PROMISES'</span>: <span class="id" title="var">PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#promise_consistent_promise_write"><span class="id" title="lemma">promise_consistent_promise_write</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL2</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PROMISES'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISES'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOWER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">NONPF</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">CONFIG_EQ</span> | <span class="id" title="var">CONT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CONFIG_EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderPromise.html#reorder_promise_fence"><span class="id" title="lemma">reorder_promise_fence</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">NONPF</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="var">contradiction</span> <span class="id" title="var">NOSCF</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tryfalse</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="program_step_promise_prsv_or_elim" class="idref" href="#program_step_promise_prsv_or_elim"><span class="id" title="lemma">program_step_promise_prsv_or_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lang:80" class="idref" href="#lang:80"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>) (<a id="st:81" class="idref" href="#st:81"><span class="id" title="binder">st</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.state"><span class="id" title="projection">Language.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:80"><span class="id" title="variable">lang</span></a>) <a id="lc:82" class="idref" href="#lc:82"><span class="id" title="binder">lc</span></a> <a id="sc:83" class="idref" href="#sc:83"><span class="id" title="binder">sc</span></a> <a id="mem:84" class="idref" href="#mem:84"><span class="id" title="binder">mem</span></a> <a id="lo:85" class="idref" href="#lo:85"><span class="id" title="binder">lo</span></a> <a id="te:86" class="idref" href="#te:86"><span class="id" title="binder">te</span></a> <a id="e:87" class="idref" href="#e:87"><span class="id" title="binder">e</span></a> <a id="lc':88" class="idref" href="#lc':88"><span class="id" title="binder">lc'</span></a> <a id="mem':89" class="idref" href="#mem':89"><span class="id" title="binder">mem'</span></a> <a id="loc:90" class="idref" href="#loc:90"><span class="id" title="binder">loc</span></a> <a id="from:91" class="idref" href="#from:91"><span class="id" title="binder">from</span></a> <a id="to:92" class="idref" href="#to:92"><span class="id" title="binder">to</span></a> <a id="msg:93" class="idref" href="#msg:93"><span class="id" title="binder">msg</span></a> <a id="kind:94" class="idref" href="#kind:94"><span class="id" title="binder">kind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM:95" class="idref" href="#CLOSED_MEM:95"><span class="id" title="binder">CLOSED_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:84"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:96" class="idref" href="#LOCAL_WF:96"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:82"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:84"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROG:97" class="idref" href="#PROG:97"><span class="id" title="binder">PROG</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:86"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:85"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:80"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st:81"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':88"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:83"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':89"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:87"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOSCF:99" class="idref" href="#NOSCF:99"><span class="id" title="binder">NOSCF</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="ordr:98" class="idref" href="#ordr:98"><span class="id" title="binder">ordr</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:86"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.fence"><span class="id" title="constructor">ThreadEvent.fence</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:98"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_OUT:100" class="idref" href="#NOT_OUT:100"><span class="id" title="binder">NOT_OUT</span></a>: <a class="idref" href="CompOptCert.Local.html#ThreadEvent.get_machine_event"><span class="id" title="definition">ThreadEvent.get_machine_event</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:86"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#MachineEvent.silent"><span class="id" title="constructor">MachineEvent.silent</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:101" class="idref" href="#CONS:101"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:87"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PRM:102" class="idref" href="#PRM:102"><span class="id" title="binder">PRM</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:82"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:84"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:90"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:91"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:92"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg:93"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':88"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':89"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:94"><span class="id" title="variable">kind</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONPF:103" class="idref" href="#NONPF:103"><span class="id" title="binder">NONPF</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_is_lower_concrete"><span class="id" title="definition">Memory.op_kind_is_lower_concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:94"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.is_released_none"><span class="id" title="definition">Message.is_released_none</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg:93"><span class="id" title="variable">msg</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e':104" class="idref" href="#e':104"><span class="id" title="binder">e'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step"><span class="id" title="inductive">no_scfence_nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:80"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:85"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:80"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st:81"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:82"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:83"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:84"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e':104"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ConsistentProp.html#e:87"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':104"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">∃</span></a> <a id="from':105" class="idref" href="#from':105"><span class="id" title="binder">from'</span></a> <a id="msg':106" class="idref" href="#msg':106"><span class="id" title="binder">msg'</span></a> <a id="kind':107" class="idref" href="#kind':107"><span class="id" title="binder">kind'</span></a><a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':104"><span class="id" title="variable">e'</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':104"><span class="id" title="variable">e'</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#loc:90"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from':105"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:92"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg':106"><span class="id" title="variable">msg'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:87"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:87"><span class="id" title="variable">e</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#kind':107"><span class="id" title="variable">kind'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:87"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':104"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:87"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':104"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_is_cancel"><span class="id" title="definition">Memory.op_kind_is_cancel</span></a> <span class="id" title="var">kind</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">ISCCL</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro2"><span class="id" title="constructor">no_scfence_nprm_step_intro2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#program_step_promise_prsv_or_elim'"><span class="id" title="lemma">program_step_promise_prsv_or_elim'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pf_step_promise_prsv_or_elim'" class="idref" href="#pf_step_promise_prsv_or_elim'"><span class="id" title="lemma">pf_step_promise_prsv_or_elim'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lang:108" class="idref" href="#lang:108"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>) (<a id="st:109" class="idref" href="#st:109"><span class="id" title="binder">st</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.state"><span class="id" title="projection">Language.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:108"><span class="id" title="variable">lang</span></a>) <a id="lc:110" class="idref" href="#lc:110"><span class="id" title="binder">lc</span></a> <a id="sc:111" class="idref" href="#sc:111"><span class="id" title="binder">sc</span></a> <a id="mem:112" class="idref" href="#mem:112"><span class="id" title="binder">mem</span></a> <a id="lo:113" class="idref" href="#lo:113"><span class="id" title="binder">lo</span></a> <a id="te:114" class="idref" href="#te:114"><span class="id" title="binder">te</span></a> <a id="e:115" class="idref" href="#e:115"><span class="id" title="binder">e</span></a> <a id="lc':116" class="idref" href="#lc':116"><span class="id" title="binder">lc'</span></a> <a id="mem':117" class="idref" href="#mem':117"><span class="id" title="binder">mem'</span></a> <a id="loc:118" class="idref" href="#loc:118"><span class="id" title="binder">loc</span></a> <a id="from:119" class="idref" href="#from:119"><span class="id" title="binder">from</span></a> <a id="to:120" class="idref" href="#to:120"><span class="id" title="binder">to</span></a> <a id="msg:121" class="idref" href="#msg:121"><span class="id" title="binder">msg</span></a> <a id="kind:122" class="idref" href="#kind:122"><span class="id" title="binder">kind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM:123" class="idref" href="#CLOSED_MEM:123"><span class="id" title="binder">CLOSED_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:112"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:124" class="idref" href="#LOCAL_WF:124"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:110"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:112"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROG:125" class="idref" href="#PROG:125"><span class="id" title="binder">PROG</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:114"><span class="id" title="variable">te</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:108"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st:109"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':116"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:111"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':117"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:115"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:126" class="idref" href="#CONS:126"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:115"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PRM:127" class="idref" href="#PRM:127"><span class="id" title="binder">PRM</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:110"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:112"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:118"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:119"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:120"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg:121"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':116"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':117"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:122"><span class="id" title="variable">kind</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONPF:128" class="idref" href="#NONPF:128"><span class="id" title="binder">NONPF</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_is_lower_concrete"><span class="id" title="definition">Memory.op_kind_is_lower_concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:122"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.is_released_none"><span class="id" title="definition">Message.is_released_none</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg:121"><span class="id" title="variable">msg</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="KIND:129" class="idref" href="#KIND:129"><span class="id" title="binder">KIND</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_is_cancel"><span class="id" title="definition">Memory.op_kind_is_cancel</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:122"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e':130" class="idref" href="#e':130"><span class="id" title="binder">e'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step"><span class="id" title="inductive">no_scfence_nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:108"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:113"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:108"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st:109"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:110"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:111"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:112"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e':130"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ConsistentProp.html#e:115"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':130"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">∃</span></a> <a id="from':131" class="idref" href="#from':131"><span class="id" title="binder">from'</span></a> <a id="msg':132" class="idref" href="#msg':132"><span class="id" title="binder">msg'</span></a> <a id="kind':133" class="idref" href="#kind':133"><span class="id" title="binder">kind'</span></a><a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':130"><span class="id" title="variable">e'</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':130"><span class="id" title="variable">e'</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#loc:118"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from':131"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:120"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg':132"><span class="id" title="variable">msg'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:115"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:115"><span class="id" title="variable">e</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#kind':133"><span class="id" title="variable">kind'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:115"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':130"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:115"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':130"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind0</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg1</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg0</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">released0</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="to1':136" class="idref" href="#to1':136"><span class="id" title="binder">to1'</span></a> <a id="msg1':137" class="idref" href="#msg1':137"><span class="id" title="binder">msg1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a> <span class="id" title="var">loc</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">loc0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">kind</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to1':134"><span class="id" title="variable">to1'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg1':135"><span class="id" title="variable">msg1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to1':134"><span class="id" title="variable">to1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">to0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">SPLIT_LOWER_SAME</span> | <span class="id" title="var">SPLIT_LOWER_NOT_SAME</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">SPLIT_LOWER_SAME</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">to1'</span> &amp; <span class="id" title="var">msg1'</span> &amp; <span class="id" title="var">LOC</span> &amp; <span class="id" title="var">KIND'</span> &amp; <span class="id" title="var">TO'</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PRM</span>; <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">NONPF</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_lower_same"><span class="id" title="lemma">MemoryReorder.split_lower_same</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_lower_same"><span class="id" title="lemma">MemoryReorder.split_lower_same</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">to</span> <span class="id" title="var">promise1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro2"><span class="id" title="constructor">no_scfence_nprm_step_intro2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_lower"><span class="id" title="constructor">Memory.promise_lower</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_split"><span class="id" title="constructor">Memory.promise_split</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_closed_message"><span class="id" title="lemma">Memory.lower_closed_message</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderPromise.html#reorder_promise_promise"><span class="id" title="lemma">reorder_promise_promise</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="var">ii</span>; <span class="id" title="var">tryfalse</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SPLIT_LOWER_NOT_SAME</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">NONPF</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">CONFIG_EQ</span> | <span class="id" title="var">CONT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CONFIG_EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CONT2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro2"><span class="id" title="constructor">no_scfence_nprm_step_intro2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderPromise.html#reorder_promise_promise_cancel"><span class="id" title="lemma">reorder_promise_promise_cancel</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">NONPF</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eauto</span> | ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro2"><span class="id" title="constructor">no_scfence_nprm_step_intro2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP1</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pf_step_promise_prsv_or_elim" class="idref" href="#pf_step_promise_prsv_or_elim"><span class="id" title="lemma">pf_step_promise_prsv_or_elim</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lang:138" class="idref" href="#lang:138"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>) (<a id="st:139" class="idref" href="#st:139"><span class="id" title="binder">st</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.state"><span class="id" title="projection">Language.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:138"><span class="id" title="variable">lang</span></a>) <a id="lc:140" class="idref" href="#lc:140"><span class="id" title="binder">lc</span></a> <a id="sc:141" class="idref" href="#sc:141"><span class="id" title="binder">sc</span></a> <a id="mem:142" class="idref" href="#mem:142"><span class="id" title="binder">mem</span></a> <a id="lo:143" class="idref" href="#lo:143"><span class="id" title="binder">lo</span></a> <a id="te:144" class="idref" href="#te:144"><span class="id" title="binder">te</span></a> <a id="e:145" class="idref" href="#e:145"><span class="id" title="binder">e</span></a> <a id="lc':146" class="idref" href="#lc':146"><span class="id" title="binder">lc'</span></a> <a id="mem':147" class="idref" href="#mem':147"><span class="id" title="binder">mem'</span></a> <a id="loc:148" class="idref" href="#loc:148"><span class="id" title="binder">loc</span></a> <a id="from:149" class="idref" href="#from:149"><span class="id" title="binder">from</span></a> <a id="to:150" class="idref" href="#to:150"><span class="id" title="binder">to</span></a> <a id="msg:151" class="idref" href="#msg:151"><span class="id" title="binder">msg</span></a> <a id="kind:152" class="idref" href="#kind:152"><span class="id" title="binder">kind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM:153" class="idref" href="#CLOSED_MEM:153"><span class="id" title="binder">CLOSED_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:142"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:154" class="idref" href="#LOCAL_WF:154"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:140"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:142"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROG:155" class="idref" href="#PROG:155"><span class="id" title="binder">PROG</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:144"><span class="id" title="variable">te</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:138"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st:139"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':146"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:141"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':147"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:145"><span class="id" title="variable">e</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:156" class="idref" href="#CONS:156"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:145"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PRM:157" class="idref" href="#PRM:157"><span class="id" title="binder">PRM</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:140"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:142"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:148"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:149"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:150"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg:151"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':146"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':147"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:152"><span class="id" title="variable">kind</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONPF:158" class="idref" href="#NONPF:158"><span class="id" title="binder">NONPF</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_is_lower_concrete"><span class="id" title="definition">Memory.op_kind_is_lower_concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:152"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.is_released_none"><span class="id" title="definition">Message.is_released_none</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg:151"><span class="id" title="variable">msg</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e':159" class="idref" href="#e':159"><span class="id" title="binder">e'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step"><span class="id" title="inductive">no_scfence_nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:138"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:143"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:138"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st:139"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:140"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:141"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:142"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e':159"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ConsistentProp.html#e:145"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':159"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">∃</span></a> <a id="from':160" class="idref" href="#from':160"><span class="id" title="binder">from'</span></a> <a id="msg':161" class="idref" href="#msg':161"><span class="id" title="binder">msg'</span></a> <a id="kind':162" class="idref" href="#kind':162"><span class="id" title="binder">kind'</span></a><a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':159"><span class="id" title="variable">e'</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':159"><span class="id" title="variable">e'</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#loc:148"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from':160"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:150"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg':161"><span class="id" title="variable">msg'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:145"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:145"><span class="id" title="variable">e</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#kind':162"><span class="id" title="variable">kind'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:145"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':159"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:145"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':159"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_is_cancel"><span class="id" title="definition">Memory.op_kind_is_cancel</span></a> <span class="id" title="var">kind</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">ISCCL</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro2"><span class="id" title="constructor">no_scfence_nprm_step_intro2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro2"><span class="id" title="constructor">no_scfence_nprm_step_intro2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#pf_step_promise_prsv_or_elim'"><span class="id" title="lemma">pf_step_promise_prsv_or_elim'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="promise_step_noccl_promise_bot_prsv" class="idref" href="#promise_step_noccl_promise_bot_prsv"><span class="id" title="lemma">promise_step_noccl_promise_bot_prsv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc:163" class="idref" href="#lc:163"><span class="id" title="binder">lc</span></a> <a id="mem:164" class="idref" href="#mem:164"><span class="id" title="binder">mem</span></a> <a id="loc:165" class="idref" href="#loc:165"><span class="id" title="binder">loc</span></a> <a id="from:166" class="idref" href="#from:166"><span class="id" title="binder">from</span></a> <a id="to:167" class="idref" href="#to:167"><span class="id" title="binder">to</span></a> <a id="msg:168" class="idref" href="#msg:168"><span class="id" title="binder">msg</span></a> <a id="lc':169" class="idref" href="#lc':169"><span class="id" title="binder">lc'</span></a> <a id="mem':170" class="idref" href="#mem':170"><span class="id" title="binder">mem'</span></a> <a id="kind:171" class="idref" href="#kind:171"><span class="id" title="binder">kind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PSTEP:172" class="idref" href="#PSTEP:172"><span class="id" title="binder">PSTEP</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:163"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:164"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:165"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:166"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:167"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg:168"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':169"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':170"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:171"><span class="id" title="variable">kind</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOCCL:173" class="idref" href="#NOCCL:173"><span class="id" title="binder">NOCCL</span></a>: <a class="idref" href="CompOptCert.ConsistentProp.html#kind:171"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PBot:174" class="idref" href="#PBot:174"><span class="id" title="binder">PBot</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':169"><span class="id" title="variable">lc'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:163"><span class="id" title="variable">lc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PSTEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONTR1</span>: <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">MEM2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentFun.add_spec_eq"><span class="id" title="lemma">IdentFun.add_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONTR1</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONTR2</span>: <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.find"><span class="id" title="definition">DenseOrder.DOMap.find</span></a> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Cell.Raw.bot"><span class="id" title="definition">Cell.Raw.bot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DenseOrder.html#DOMap.find"><span class="id" title="definition">DenseOrder.DOMap.find</span></a> <span class="id" title="var">to</span> (<a class="idref" href="CompOptCert.DenseOrder.html#DOMap.add"><span class="id" title="definition">DenseOrder.DOMap.add</span></a> <span class="id" title="var">to</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Cell.html#Cell.raw"><span class="id" title="projection">Cell.raw</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span> <span class="id" title="var">loc</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">CELL2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.Facts.empty_o"><span class="id" title="lemma">DenseOrder.DOMap.Facts.empty_o</span></a>, <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gss"><span class="id" title="lemma">DenseOrder.DOMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONTR2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">SPLIT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONTR1</span>: <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">MEM2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentFun.add_spec_eq"><span class="id" title="lemma">IdentFun.add_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONTR1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONTR2</span>: <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.find"><span class="id" title="definition">DenseOrder.DOMap.find</span></a> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Cell.Raw.bot"><span class="id" title="definition">Cell.Raw.bot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DenseOrder.html#DOMap.find"><span class="id" title="definition">DenseOrder.DOMap.find</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">to</span> (<a class="idref" href="CompOptCert.DenseOrder.html#DOMap.add"><span class="id" title="definition">DenseOrder.DOMap.add</span></a> <span class="id" title="var">to</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.DenseOrder.html#DOMap.add"><span class="id" title="definition">DenseOrder.DOMap.add</span></a> <span class="id" title="var">ts3</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg3</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Cell.html#Cell.raw"><span class="id" title="projection">Cell.raw</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span> <span class="id" title="var">loc</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">CELL2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.Facts.empty_o"><span class="id" title="lemma">DenseOrder.DOMap.Facts.empty_o</span></a>, <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gss"><span class="id" title="lemma">DenseOrder.DOMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONTR2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOWER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONTR1</span>: <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">MEM2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentFun.add_spec_eq"><span class="id" title="lemma">IdentFun.add_spec_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONTR1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONTR2</span>: <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.find"><span class="id" title="definition">DenseOrder.DOMap.find</span></a> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Cell.Raw.bot"><span class="id" title="definition">Cell.Raw.bot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DenseOrder.html#DOMap.find"><span class="id" title="definition">DenseOrder.DOMap.find</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">to</span> (<a class="idref" href="CompOptCert.DenseOrder.html#DOMap.add"><span class="id" title="definition">DenseOrder.DOMap.add</span></a> <span class="id" title="var">to</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="CompOptCert.Cell.html#Cell.raw"><span class="id" title="projection">Cell.raw</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span> <span class="id" title="var">loc</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">CELL2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.Facts.empty_o"><span class="id" title="lemma">DenseOrder.DOMap.Facts.empty_o</span></a>, <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gss"><span class="id" title="lemma">DenseOrder.DOMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONTR2</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Thread_promise_step_cons_nprm_fulfill'" class="idref" href="#Thread_promise_step_cons_nprm_fulfill'"><span class="id" title="lemma">Thread_promise_step_cons_nprm_fulfill'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:175" class="idref" href="#n:175"><span class="id" title="binder">n</span></a> <a id="lang:176" class="idref" href="#lang:176"><span class="id" title="binder">lang</span></a> <a id="lo:177" class="idref" href="#lo:177"><span class="id" title="binder">lo</span></a> <a id="st:178" class="idref" href="#st:178"><span class="id" title="binder">st</span></a> <a id="lc:179" class="idref" href="#lc:179"><span class="id" title="binder">lc</span></a> <a id="sc:180" class="idref" href="#sc:180"><span class="id" title="binder">sc</span></a> <a id="mem:181" class="idref" href="#mem:181"><span class="id" title="binder">mem</span></a> <a id="st':182" class="idref" href="#st':182"><span class="id" title="binder">st'</span></a> <a id="lc':183" class="idref" href="#lc':183"><span class="id" title="binder">lc'</span></a> <a id="sc':184" class="idref" href="#sc':184"><span class="id" title="binder">sc'</span></a> <a id="mem':185" class="idref" href="#mem':185"><span class="id" title="binder">mem'</span></a> <a id="lc'':186" class="idref" href="#lc'':186"><span class="id" title="binder">lc''</span></a> <a id="mem'':187" class="idref" href="#mem'':187"><span class="id" title="binder">mem''</span></a> <a id="msg:188" class="idref" href="#msg:188"><span class="id" title="binder">msg</span></a> <a id="loc:189" class="idref" href="#loc:189"><span class="id" title="binder">loc</span></a> <a id="from:190" class="idref" href="#from:190"><span class="id" title="binder">from</span></a> <a id="to:191" class="idref" href="#to:191"><span class="id" title="binder">to</span></a> <a id="kind:192" class="idref" href="#kind:192"><span class="id" title="binder">kind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM:193" class="idref" href="#CLOSED_MEM:193"><span class="id" title="binder">CLOSED_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:181"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:194" class="idref" href="#LOCAL_WF:194"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:179"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:181"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:195" class="idref" href="#PROMISE:195"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:179"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:181"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:189"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:190"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:191"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#msg:188"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':183"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':185"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:192"><span class="id" title="variable">kind</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NPRM_STEPS:196" class="idref" href="#NPRM_STEPS:196"><span class="id" title="binder">NPRM_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:176"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:177"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#n:175"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:176"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st:178"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':183"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:180"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':185"><span class="id" title="variable">mem'</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:176"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st':182"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc'':186"><span class="id" title="variable">lc''</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc':184"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem'':187"><span class="id" title="variable">mem''</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:197" class="idref" href="#FULFILL:197"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc'':186"><span class="id" title="variable">lc''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">∃</span></a> <a id="st0:198" class="idref" href="#st0:198"><span class="id" title="binder">st0</span></a> <a id="lc0:199" class="idref" href="#lc0:199"><span class="id" title="binder">lc0</span></a> <a id="sc0:200" class="idref" href="#sc0:200"><span class="id" title="binder">sc0</span></a> <a id="mem0:201" class="idref" href="#mem0:201"><span class="id" title="binder">mem0</span></a><a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:176"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:177"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:176"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st:178"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:179"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:180"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:181"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:176"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st0:198"><span class="id" title="variable">st0</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc0:199"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc0:200"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem0:201"><span class="id" title="variable">mem0</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc0:199"><span class="id" title="variable">lc0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">NPRM_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">kind</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step_pf_step"><span class="id" title="constructor">Thread.nprm_step_pf_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#promise_step_noccl_promise_bot_prsv"><span class="id" title="lemma">promise_step_noccl_promise_bot_prsv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">NPRM_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_is_lower_concrete"><span class="id" title="definition">Memory.op_kind_is_lower_concrete</span></a> <span class="id" title="var">kind</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.is_released_none"><span class="id" title="definition">Message.is_released_none</span></a> <span class="id" title="var">msg</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">NONPF</span> | <span class="id" title="var">ISPF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="ordr:203" class="idref" href="#ordr:203"><span class="id" title="binder">ordr</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.fence"><span class="id" title="constructor">ThreadEvent.fence</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:202"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">ordr</span> &amp; <span class="id" title="var">E</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PROMISE</span> <span class="id" title="var">BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">kind</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step_pf_step"><span class="id" title="constructor">Thread.nprm_step_pf_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#promise_step_noccl_promise_bot_prsv"><span class="id" title="lemma">promise_step_noccl_promise_bot_prsv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#program_step_promise_prsv_or_elim"><span class="id" title="lemma">program_step_promise_prsv_or_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROG</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PROG</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span> &amp; <span class="id" title="var">NOFENCE_SC_PF_STEPS</span> &amp; <span class="id" title="var">CONT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">CONT</span> | <span class="id" title="var">CONT</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOFENCE_SC_PF_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOFENCE_SC_PF_STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>] | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">from'</span> &amp; <span class="id" title="var">msg'</span> &amp; <span class="id" title="var">kind'</span> &amp; <span class="id" title="var">LOCAL_PROM</span> &amp; <span class="id" title="var">ST</span> &amp; <span class="id" title="var">SC</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">lc</span> := <span class="id" title="var">local0</span>) (<span class="id" title="var">mem</span> := <span class="id" title="var">memory0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st0</span> &amp; <span class="id" title="var">lc0</span> &amp; <span class="id" title="var">sc0</span> &amp; <span class="id" title="var">mem0</span> &amp; <span class="id" title="var">NPRM_STEPS'</span> &amp; <span class="id" title="var">BOT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOFENCE_SC_PF_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOFENCE_SC_PF_STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NPRM_STEPS'</span>] | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOFENCE_SC_PF_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NOFENCE_SC_PF_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">NOFENCE_SC_PF_STEPS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOFENCE_SC_PF_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOFENCE_SC_PF_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NOFENCE_SC_PF_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">NOFENCE_SC_PF_STEPS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOFENCE_SC_PF_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#promise_consistent_prsv_thread_nprm_step"><span class="id" title="lemma">promise_consistent_prsv_thread_nprm_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.bot_promise_consistent"><span class="id" title="lemma">Local.bot_promise_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#pf_step_promise_prsv_or_elim"><span class="id" title="lemma">pf_step_promise_prsv_or_elim</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PF</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PF</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span> &amp; <span class="id" title="var">NO_SCFENCE_FP_STEPS</span> &amp; <span class="id" title="var">CONT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONT</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">CONT</span> | <span class="id" title="var">CONT</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NO_SCFENCE_FP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NO_SCFENCE_FP_STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>] | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">from'</span> &amp; <span class="id" title="var">msg'</span> &amp; <span class="id" title="var">kind'</span> &amp; <span class="id" title="var">PROMISE'</span> &amp; <span class="id" title="var">ST</span> &amp; <span class="id" title="var">SC</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">lc</span> := <span class="id" title="var">local0</span>) (<span class="id" title="var">mem</span> := <span class="id" title="var">memory0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st0</span> &amp; <span class="id" title="var">lc0</span> &amp; <span class="id" title="var">sc1</span> &amp; <span class="id" title="var">mem0</span> &amp; <span class="id" title="var">STEPS</span> &amp; <span class="id" title="var">BOT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NO_SCFENCE_FP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NO_SCFENCE_FP_STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span>] | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NO_SCFENCE_FP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NO_SCFENCE_FP_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">NO_SCFENCE_FP_STEPS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NO_SCFENCE_FP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NO_SCFENCE_FP_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">NO_SCFENCE_FP_STEPS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#promise_consistent_prsv_thread_nprm_step"><span class="id" title="lemma">promise_consistent_prsv_thread_nprm_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.bot_promise_consistent"><span class="id" title="lemma">Local.bot_promise_consistent</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">A12</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step_pf_step"><span class="id" title="constructor">Thread.nprm_step_pf_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">ISPF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#not_or_and"><span class="id" title="lemma">not_or_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ISPF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#NNPP"><span class="id" title="lemma">NNPP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ISPF0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ISPF0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Thread_promise_step_cons_nprm_fulfill" class="idref" href="#Thread_promise_step_cons_nprm_fulfill"><span class="id" title="lemma">Thread_promise_step_cons_nprm_fulfill</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:204" class="idref" href="#n:204"><span class="id" title="binder">n</span></a> <a id="lang:205" class="idref" href="#lang:205"><span class="id" title="binder">lang</span></a> <a id="lo:206" class="idref" href="#lo:206"><span class="id" title="binder">lo</span></a> <a id="te:207" class="idref" href="#te:207"><span class="id" title="binder">te</span></a> (<a id="e:208" class="idref" href="#e:208"><span class="id" title="binder">e</span></a> <a id="e':209" class="idref" href="#e':209"><span class="id" title="binder">e'</span></a> <a id="e'':210" class="idref" href="#e'':210"><span class="id" title="binder">e''</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:205"><span class="id" title="variable">lang</span></a>) <a id="pf:211" class="idref" href="#pf:211"><span class="id" title="binder">pf</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM:212" class="idref" href="#CLOSED_MEM:212"><span class="id" title="binder">CLOSED_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:208"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:213" class="idref" href="#LOCAL_WF:213"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:208"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:208"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:214" class="idref" href="#PROMISE:214"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#pf:211"><span class="id" title="variable">pf</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:207"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:208"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':209"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NPRM_STEPS:215" class="idref" href="#NPRM_STEPS:215"><span class="id" title="binder">NPRM_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:205"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:206"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#n:204"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':209"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e'':210"><span class="id" title="variable">e''</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:216" class="idref" href="#FULFILL:216"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e'':210"><span class="id" title="variable">e''</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e0:217" class="idref" href="#e0:217"><span class="id" title="binder">e0</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:205"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:206"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:208"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:217"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:217"><span class="id" title="variable">e0</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>, <span class="id" title="var">e'</span>, <span class="id" title="var">e''</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#Thread_promise_step_cons_nprm_fulfill'"><span class="id" title="lemma">Thread_promise_step_cons_nprm_fulfill'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NPRM_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="tau_steps_fulfill_implies_nprm_steps_fulfill" class="idref" href="#tau_steps_fulfill_implies_nprm_steps_fulfill"><span class="id" title="lemma">tau_steps_fulfill_implies_nprm_steps_fulfill</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:218" class="idref" href="#n:218"><span class="id" title="binder">n</span></a> (<a id="lang:219" class="idref" href="#lang:219"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>) (<a id="e:220" class="idref" href="#e:220"><span class="id" title="binder">e</span></a> <a id="e':221" class="idref" href="#e':221"><span class="id" title="binder">e'</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:219"><span class="id" title="variable">lang</span></a>) (<a id="lo:222" class="idref" href="#lo:222"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:223" class="idref" href="#LOCAL_WF:223"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:220"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:220"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM:224" class="idref" href="#CLOSED_MEM:224"><span class="id" title="binder">CLOSED_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:220"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TAU_STEPS:225" class="idref" href="#TAU_STEPS:225"><span class="id" title="binder">TAU_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:219"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:222"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#n:218"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:220"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':221"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:226" class="idref" href="#FULFILL:226"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':221"><span class="id" title="variable">e'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e0:227" class="idref" href="#e0:227"><span class="id" title="binder">e0</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:219"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:222"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:220"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:227"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:227"><span class="id" title="variable">e0</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TSTEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e1</span> &amp; <span class="id" title="var">NPRM_STEPS</span> &amp; <span class="id" title="var">FULFILL'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NPRM_STEPS</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">NPRM_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n'</span> &amp; <span class="id" title="var">NPRM_STEPS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#Thread_promise_step_cons_nprm_fulfill"><span class="id" title="lemma">Thread_promise_step_cons_nprm_fulfill</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">e''</span> := <span class="id" title="var">e1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.future_closed"><span class="id" title="lemma">Memory.future_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <span class="id" title="var">e</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_op"><span class="id" title="lemma">Memory.promise_op</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">apply_IHn</span> <span class="id" title="var">IHn</span> <span class="id" title="var">A</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">destruct</span> <span class="id" title="var">A</span> <span class="id" title="keyword">as</span> (?<span class="id" title="var">e0</span> &amp; ?<span class="id" title="var">NPRM_STEPS</span> &amp; ?<span class="id" title="var">FULFILL'</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NPRM_STEPS</span>] | <span class="id" title="tactic">idtac</span>..].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_IHn</span> <span class="id" title="var">IHn</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step_program_step"><span class="id" title="constructor">Thread.nprm_step_program_step</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.silent"><span class="id" title="constructor">ThreadEvent.silent</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_IHn</span> <span class="id" title="var">IHn</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step_program_step"><span class="id" title="constructor">Thread.nprm_step_program_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_read"><span class="id" title="lemma">local_wf_read</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_IHn</span> <span class="id" title="var">IHn</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step_program_step"><span class="id" title="constructor">Thread.nprm_step_program_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_IHn</span> <span class="id" title="var">IHn</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step_program_step"><span class="id" title="constructor">Thread.nprm_step_program_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_upd"><span class="id" title="lemma">local_wf_upd</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#closed_mem_implies_closed_msg"><span class="id" title="lemma">closed_mem_implies_closed_msg</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_read"><span class="id" title="lemma">local_wf_read</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Event.html#Ordering.le"><span class="id" title="definition">Ordering.le</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a> <span class="id" title="var">ordw</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hordw_seqcst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ordw</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hordw_seqcst</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">apply_IHn</span> <span class="id" title="var">IHn</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step_program_step"><span class="id" title="constructor">Thread.nprm_step_program_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_fence_not_seqcst"><span class="id" title="lemma">local_wf_fence_not_seqcst</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="var">simpls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Thread_consistent_to_consistent_nprm" class="idref" href="#Thread_consistent_to_consistent_nprm"><span class="id" title="lemma">Thread_consistent_to_consistent_nprm</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lang:228" class="idref" href="#lang:228"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>) (<a id="e:229" class="idref" href="#e:229"><span class="id" title="binder">e</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:228"><span class="id" title="variable">lang</span></a>) (<a id="lo:230" class="idref" href="#lo:230"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TVIEW_WF:231" class="idref" href="#TVIEW_WF:231"><span class="id" title="binder">TVIEW_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:229"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:229"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM:232" class="idref" href="#CLOSED_MEM:232"><span class="id" title="binder">CLOSED_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:229"><span class="id" title="variable">e</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:229"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:230"><span class="id" title="variable">lo</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:229"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:230"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Thread.consistent</span>, <span class="id" title="var">Thread.consistent_nprm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FULFILL_NPRM</span>: <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_NPRM</span>; <span class="id" title="var">simpls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span> <span class="id" title="var">TVIEW_WF</span> <span class="id" title="var">CLOSED_MEM</span> <span class="id" title="var">FULFILL_NPRM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">FULFILL_NPRM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e2</span> &amp; <span class="id" title="var">STEPS</span> &amp; <span class="id" title="var">FULFILL_NPRM</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">STEPS</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#tau_steps_fulfill_implies_nprm_steps_fulfill"><span class="id" title="lemma">tau_steps_fulfill_implies_nprm_steps_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
construct consistent from fulfill 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="spec_inj" class="idref" href="#spec_inj"><span class="id" title="definition">spec_inj</span></a> (<a id="mem:233" class="idref" href="#mem:233"><span class="id" title="binder">mem</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a>) : <a class="idref" href="CompOptCert.MsgMapping.html#Mapping"><span class="id" title="definition">Mapping</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="loc:234" class="idref" href="#loc:234"><span class="id" title="binder">loc</span></a> <a id="t:235" class="idref" href="#t:235"><span class="id" title="binder">t</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:234"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:235"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:233"><span class="id" title="variable">mem</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:235"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="spec_inj_implies_promises_inj" class="idref" href="#spec_inj_implies_promises_inj"><span class="id" title="lemma">spec_inj_implies_promises_inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="promises:236" class="idref" href="#promises:236"><span class="id" title="binder">promises</span></a> <a id="mem:237" class="idref" href="#mem:237"><span class="id" title="binder">mem</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LE:238" class="idref" href="#LE:238"><span class="id" title="binder">LE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises:236"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:237"><span class="id" title="variable">mem</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjection.html#promise_inj"><span class="id" title="inductive">promise_inj</span></a> (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:237"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#promises:236"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises:236"><span class="id" title="variable">promises</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">to</span> <span class="id" title="var">released</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">to'</span> <span class="id" title="var">released'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="spec_inj_identity_inj" class="idref" href="#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a> <a id="loc:239" class="idref" href="#loc:239"><span class="id" title="binder">loc</span></a> <a id="mem:240" class="idref" href="#mem:240"><span class="id" title="binder">mem</span></a> <a id="t:241" class="idref" href="#t:241"><span class="id" title="binder">t</span></a> <a id="t':242" class="idref" href="#t':242"><span class="id" title="binder">t'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:243" class="idref" href="#INJ:243"><span class="id" title="binder">INJ</span></a>: (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:240"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#loc:239"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:241"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t':242"><span class="id" title="variable">t'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.ConsistentProp.html#t:241"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t':242"><span class="id" title="variable">t'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">spec_inj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t</span> <span class="id" title="var">mem</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="spec_inj_tmapinj" class="idref" href="#spec_inj_tmapinj"><span class="id" title="lemma">spec_inj_tmapinj</span></a> <a id="mem:244" class="idref" href="#mem:244"><span class="id" title="binder">mem</span></a> <a id="tm:245" class="idref" href="#tm:245"><span class="id" title="binder">tm</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.MsgMapping.html#TMapInj"><span class="id" title="definition">TMapInj</span></a> (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:244"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#tm:245"><span class="id" title="variable">tm</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#tm:245"><span class="id" title="variable">tm</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MsgMapping.html#TMapInj"><span class="id" title="definition">TMapInj</span></a>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">spec_inj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> (<span class="id" title="var">tm</span> <span class="id" title="var">loc</span>) <span class="id" title="var">mem</span>); <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">injDom</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="spec_inj_optviewinj" class="idref" href="#spec_inj_optviewinj"><span class="id" title="lemma">spec_inj_optviewinj</span></a> <a id="mem:246" class="idref" href="#mem:246"><span class="id" title="binder">mem</span></a> <a id="R:247" class="idref" href="#R:247"><span class="id" title="binder">R</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.MsgMapping.html#opt_ViewInj"><span class="id" title="definition">opt_ViewInj</span></a> (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:246"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#R:247"><span class="id" title="variable">R</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#R:247"><span class="id" title="variable">R</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">R</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MsgMapping.html#ViewInj"><span class="id" title="definition">ViewInj</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_tmapinj"><span class="id" title="lemma">spec_inj_tmapinj</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="spec_inj_monotonic" class="idref" href="#spec_inj_monotonic"><span class="id" title="lemma">spec_inj_monotonic</span></a> <a id="mem:248" class="idref" href="#mem:248"><span class="id" title="binder">mem</span></a>: <br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:248"><span class="id" title="variable">mem</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">spec_inj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t1</span> <span class="id" title="var">mem</span>); <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t0</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t2</span> <span class="id" title="var">mem</span>); <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ViewInj_spec_inj_id" class="idref" href="#ViewInj_spec_inj_id"><span class="id" title="lemma">ViewInj_spec_inj_id</span></a> <a id="mem:249" class="idref" href="#mem:249"><span class="id" title="binder">mem</span></a> <a id="view:250" class="idref" href="#view:250"><span class="id" title="binder">view</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.MsgMapping.html#ViewInj"><span class="id" title="definition">ViewInj</span></a> (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:249"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#view:250"><span class="id" title="variable">view</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#view:250"><span class="id" title="variable">view</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MsgMapping.html#ViewInj"><span class="id" title="definition">ViewInj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">view</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_tmapinj"><span class="id" title="lemma">spec_inj_tmapinj</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="TViewInj_spec_inj_id" class="idref" href="#TViewInj_spec_inj_id"><span class="id" title="lemma">TViewInj_spec_inj_id</span></a> <a id="mem:251" class="idref" href="#mem:251"><span class="id" title="binder">mem</span></a> <a id="tview:252" class="idref" href="#tview:252"><span class="id" title="binder">tview</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.MsgMapping.html#TViewInj"><span class="id" title="definition">TViewInj</span></a> (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:251"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#tview:252"><span class="id" title="variable">tview</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#tview:252"><span class="id" title="variable">tview</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MsgMapping.html#TViewInj"><span class="id" title="definition">TViewInj</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#ViewInj_spec_inj_id"><span class="id" title="lemma">ViewInj_spec_inj_id</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#ViewInj_spec_inj_id"><span class="id" title="lemma">ViewInj_spec_inj_id</span></a>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="read_step_consistent_construction" class="idref" href="#read_step_consistent_construction"><span class="id" title="lemma">read_step_consistent_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:253" class="idref" href="#lang:253"><span class="id" title="binder">lang</span></a> <a id="loc:254" class="idref" href="#loc:254"><span class="id" title="binder">loc</span></a> <a id="to:255" class="idref" href="#to:255"><span class="id" title="binder">to</span></a> <a id="val:256" class="idref" href="#val:256"><span class="id" title="binder">val</span></a> <a id="released:257" class="idref" href="#released:257"><span class="id" title="binder">released</span></a> <a id="ord:258" class="idref" href="#ord:258"><span class="id" title="binder">ord</span></a> <a id="st1:259" class="idref" href="#st1:259"><span class="id" title="binder">st1</span></a> <a id="lc1:260" class="idref" href="#lc1:260"><span class="id" title="binder">lc1</span></a> <a id="sc1:261" class="idref" href="#sc1:261"><span class="id" title="binder">sc1</span></a> <a id="mem1:262" class="idref" href="#mem1:262"><span class="id" title="binder">mem1</span></a> <a id="st2:263" class="idref" href="#st2:263"><span class="id" title="binder">st2</span></a> <a id="lc2:264" class="idref" href="#lc2:264"><span class="id" title="binder">lc2</span></a> <a id="lo:265" class="idref" href="#lo:265"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STATE:266" class="idref" href="#STATE:266"><span class="id" title="binder">STATE</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:253"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.read"><span class="id" title="constructor">ProgramEvent.read</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:254"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:256"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ord:258"><span class="id" title="variable">ord</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#st1:259"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:263"><span class="id" title="variable">st2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READ:267" class="idref" href="#READ:267"><span class="id" title="binder">READ</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:260"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:262"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:254"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:255"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:256"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#released:257"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ord:258"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:264"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:265"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:268" class="idref" href="#CONS:268"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:253"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:263"><span class="id" title="variable">st2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:264"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:261"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:262"><span class="id" title="variable">mem1</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:265"><span class="id" title="variable">lo</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:253"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st1:259"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:260"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:261"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:262"><span class="id" title="variable">mem1</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:265"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Thread.consistent</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.read"><span class="id" title="constructor">ThreadEvent.read</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <span class="id" title="var">val</span> <span class="id" title="var">released</span> <span class="id" title="var">ord</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">CONS</span> <span class="id" title="var">STEPS</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="write_add_step_consistent_construction" class="idref" href="#write_add_step_consistent_construction"><span class="id" title="lemma">write_add_step_consistent_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:269" class="idref" href="#lang:269"><span class="id" title="binder">lang</span></a> <a id="st1:270" class="idref" href="#st1:270"><span class="id" title="binder">st1</span></a> <a id="st2:271" class="idref" href="#st2:271"><span class="id" title="binder">st2</span></a> <a id="loc:272" class="idref" href="#loc:272"><span class="id" title="binder">loc</span></a> <a id="val:273" class="idref" href="#val:273"><span class="id" title="binder">val</span></a> <a id="lc1:274" class="idref" href="#lc1:274"><span class="id" title="binder">lc1</span></a> <a id="sc1:275" class="idref" href="#sc1:275"><span class="id" title="binder">sc1</span></a> <a id="mem1:276" class="idref" href="#mem1:276"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="from:277" class="idref" href="#from:277"><span class="id" title="binder">from</span></a> <a id="to:278" class="idref" href="#to:278"><span class="id" title="binder">to</span></a> <a id="releasedw:279" class="idref" href="#releasedw:279"><span class="id" title="binder">releasedw</span></a> <a id="ord:280" class="idref" href="#ord:280"><span class="id" title="binder">ord</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:281" class="idref" href="#lc2:281"><span class="id" title="binder">lc2</span></a> <a id="sc2:282" class="idref" href="#sc2:282"><span class="id" title="binder">sc2</span></a> <a id="mem2:283" class="idref" href="#mem2:283"><span class="id" title="binder">mem2</span></a> <a id="lo:284" class="idref" href="#lo:284"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STATE:285" class="idref" href="#STATE:285"><span class="id" title="binder">STATE</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:269"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:272"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:273"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ord:280"><span class="id" title="variable">ord</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#st1:270"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:271"><span class="id" title="variable">st2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE_ADD:286" class="idref" href="#WRITE_ADD:286"><span class="id" title="binder">WRITE_ADD</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:274"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:275"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:276"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:272"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:277"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:278"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:273"><span class="id" title="variable">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedw:279"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ord:280"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:281"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:282"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:283"><span class="id" title="variable">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:284"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:287" class="idref" href="#CONS:287"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:269"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:271"><span class="id" title="variable">st2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:281"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:282"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:283"><span class="id" title="variable">mem2</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:284"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:288" class="idref" href="#LOCAL_WF:288"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:274"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:276"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:289" class="idref" href="#MEM_CLOSED:289"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:276"><span class="id" title="variable">mem1</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e0:290" class="idref" href="#e0:290"><span class="id" title="binder">e0</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:284"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:269"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st1:270"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:274"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:275"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:276"><span class="id" title="variable">mem1</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e0:290"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:290"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:284"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc2</span> <span class="id" title="var">mem2</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_CLOSED'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem2</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#Thread_consistent_to_consistent_nprm"><span class="id" title="lemma">Thread_consistent_to_consistent_nprm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CAP_EXIST</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem2':292" class="idref" href="#mem2':292"><span class="id" title="binder">mem2'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <span class="id" title="var">mem2</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2':291"><span class="id" title="variable">mem2'</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_exists"><span class="id" title="lemma">Memory.cap_exists</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem2'</span> &amp; <span class="id" title="var">CAP_EXIST</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="sc1':294" class="idref" href="#sc1':294"><span class="id" title="binder">sc1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap"><span class="id" title="definition">Memory.max_concrete_timemap</span></a> <span class="id" title="var">mem2'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1':293"><span class="id" title="variable">sc1'</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap_exists"><span class="id" title="lemma">Memory.max_concrete_timemap_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sc1'</span> &amp; <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">to</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LT_MSG_T</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">from</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="keyword">∀</span> <a id="t:296" class="idref" href="#t:296"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:295"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:295"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_add_cover_disjoint"><span class="id" title="lemma">MemoryProps.memory_add_cover_disjoint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="keyword">∀</span> <a id="t:298" class="idref" href="#t:298"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:297"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:297"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOCOVER</span>: <span class="id" title="keyword">∀</span> <a id="t:300" class="idref" href="#t:300"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:299"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:299"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">LT_MSG_T</span>. <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Interval.mem_split"><span class="id" title="lemma">Interval.mem_split</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mb</span> := <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem':302" class="idref" href="#mem':302"><span class="id" title="binder">mem'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <span class="id" title="var">mem1</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)) <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':301"><span class="id" title="variable">mem'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LT_MSG_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MEM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem'</span> &amp; <span class="id" title="var">MEM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises':304" class="idref" href="#promises':304"><span class="id" title="binder">promises'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">loc</span> <span class="id" title="var">from</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises':303"><span class="id" title="variable">promises'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LT_MSG_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF</span> <span class="id" title="var">NOCOVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOCOVER</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_le_covered"><span class="id" title="lemma">MemoryProps.memory_le_covered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises'</span> &amp; <span class="id" title="var">PRM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONS'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e2</span> &amp; <span class="id" title="var">TAU_STEPS</span> &amp; <span class="id" title="var">FULFILL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_MEM</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem0':306" class="idref" href="#mem0':306"><span class="id" title="binder">mem0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">mem0</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)) <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem0':305"><span class="id" title="variable">mem0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)) <span class="id" title="var">mem'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem0'</span> &amp; <span class="id" title="var">REMOVE_RSV_MEM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_PRM</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises0':308" class="idref" href="#promises0':308"><span class="id" title="binder">promises0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">promises'</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)) <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises0':307"><span class="id" title="variable">promises0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_PRM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises0'</span> &amp; <span class="id" title="var">REMOVE_RSV_PRM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_NOT_COVER</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:310" class="idref" href="#t:310"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:309"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:309"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#remove_not_cover"><span class="id" title="lemma">Cover.remove_not_cover</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <span class="id" title="var">promises'</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">WRITE'</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem1':312" class="idref" href="#mem1':312"><span class="id" title="binder">mem1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.write"><span class="id" title="inductive">Memory.write</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ord</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">promises0'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':311"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_succeed_valid"><span class="id" title="lemma">MemoryProps.write_succeed_valid</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_NOT_COVER</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Interval.le_mem"><span class="id" title="lemma">Interval.le_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">LT_MSG_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONTR</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CONTR</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_MSG_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time.Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_MSG_T</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">x</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WRITE'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem1'</span> &amp; <span class="id" title="var">WRITE'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_memory_le"><span class="id" title="lemma">MemoryProps.write_memory_le</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">TAU_STEPS</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WRITE</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">sc0</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">from</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">val</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ord</span>) <span class="id" title="var">ord</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_tview"><span class="id" title="definition">TView.write_tview</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">ord</span>) <span class="id" title="var">promises0'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sc0</span> <span class="id" title="var">mem1'</span> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITABLE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITABLE</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NONSYNC</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NONSYNC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NONSYNC</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="var">REMOVE_RSV_PRM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#remove_non_synch_loc"><span class="id" title="lemma">remove_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_RSV_PRM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF''</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> {| <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> := <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>; <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> := <span class="id" title="var">promises0'</span> |} <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_add"><span class="id" title="constructor">Memory.promise_add</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#additional_msg_consistent_construction"><span class="id" title="lemma">additional_msg_consistent_construction</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="var">mem2'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts</span> := <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts'</span> := <a class="idref" href="CompOptCert.Time.html#Time.join"><span class="id" title="definition">Time.join</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>) (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st''</span> &amp; <span class="id" title="var">lc''</span> &amp; <span class="id" title="var">sc''</span> &amp; <span class="id" title="var">mem''</span> &amp; <span class="id" title="var">TAU_STEPS'</span> &amp; <span class="id" title="var">FULFILL'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_promise"><span class="id" title="constructor">Thread.step_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.write"><span class="id" title="constructor">ThreadEvent.write</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ord</span>) <span class="id" title="var">ord</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STATE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_write"><span class="id" title="constructor">Local.step_write</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">TAU_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_l"><span class="id" title="lemma">Time.join_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_optviewinj"><span class="id" title="lemma">spec_inj_optviewinj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val0</span> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MSG</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.concrete_msg_remove_rsv_stable"><span class="id" title="lemma">Memory.concrete_msg_remove_rsv_stable</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m2</span> := <span class="id" title="var">mem'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_monotonic"><span class="id" title="lemma">spec_inj_monotonic</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#TViewInj_spec_inj_id"><span class="id" title="lemma">TViewInj_spec_inj_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_implies_promises_inj"><span class="id" title="lemma">spec_inj_implies_promises_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to</span> <span class="id" title="var">mem0'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITE'</span> <span class="id" title="var">GET</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="var">mem'</span> <span class="id" title="var">loc0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem2</span> <span class="id" title="var">loc0</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_slice_inj"><span class="id" title="lemma">Memory.cap_slice_inj</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1'</span> := <span class="id" title="var">mem0</span>) (<span class="id" title="var">mem2'</span> := <span class="id" title="var">mem2'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Memory.get</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_ADD</span> <span class="id" title="var">MEM</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM_ADD</span>; <span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> <span class="id" title="var">mem1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r0</span> <span class="id" title="var">mem1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_cap_covered"><span class="id" title="lemma">MemoryProps.memory_cap_covered</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a> <span class="id" title="var">ts</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#spec_view_intro_le_max_ts"><span class="id" title="constructor">spec_view_intro_le_max_ts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>|<span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>). <span class="id" title="var">introv</span> <span class="id" title="var">MAX_TS</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> (<a class="idref" href="CompOptCert.View.html#TimeMap.join"><span class="id" title="definition">TimeMap.join</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.acq"><span class="id" title="projection">TView.acq</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)) <span class="id" title="var">loc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">idtac</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_spec"><span class="id" title="lemma">Time.join_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">TVIEW_WF</span> <span class="id" title="var">PROMISES</span> <span class="id" title="var">FINITE</span> <span class="id" title="var">BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Loc.html#LocFun.init"><span class="id" title="definition">LocFun.init</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">LocFun.find</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_eq"><span class="id" title="lemma">LocFun.add_spec_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#gt_max_not_covered"><span class="id" title="lemma">Cover.gt_max_not_covered</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time.Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>|<span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>); <span class="id" title="var">introv</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">ITV</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">MAX_TS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">ts'</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time.Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time.Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H0</span> <span class="id" title="var">ITV</span> <span class="id" title="var">GET</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to</span> <span class="id" title="var">ts'</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time.Time_le_gt_false</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">BACK</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to</span> <span class="id" title="var">t</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.le_lt_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER1</span>: <span class="id" title="keyword">∀</span> <a id="t:314" class="idref" href="#t:314"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:313"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:313"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_add_cover_disjoint"><span class="id" title="lemma">MemoryProps.memory_add_cover_disjoint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">GET</span>: <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">GET</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">_</span> <span class="id" title="var">GET</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.next_exists"><span class="id" title="lemma">Memory.next_exists</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">idtac</span>..]. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">MAX</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NEXT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">from0</span> &amp; <span class="id" title="var">to0</span> &amp; <span class="id" title="var">msg0</span> &amp; <span class="id" title="var">GET_NEXT</span> &amp; <span class="id" title="var">NEXT</span> &amp; <span class="id" title="var">WF_NEXT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LT_ADD</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">from</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#add_succeed_wf"><span class="id" title="lemma">MemoryProps.add_succeed_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LE_ORIGIN_MSG</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">from0</span> <span class="id" title="var">to0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_NEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time.Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEXT</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET_NEXT_PRSV</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to0</span> <span class="id" title="var">mem1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_NEXT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET_NEXT</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_1"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEXT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">IS_NEXT</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to</span> <span class="id" title="var">from0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_disjoint"><span class="id" title="lemma">Memory.get_disjoint</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET_NEXT</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">GET</span> <span class="id" title="var">GET_NEXT</span> <span class="id" title="var">NEXT</span> <span class="id" title="var">ATTACH</span> <span class="id" title="var">LT_ADD</span> <span class="id" title="var">GET_NEXT_PRSV</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_1"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEXT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">from0</span> <span class="id" title="var">to</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Time.html#Interval.disjoint"><span class="id" title="definition">Interval.disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ATTACH</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_NEXT_PRSV</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER2</span>: <span class="id" title="keyword">∀</span> <a id="t:316" class="idref" href="#t:316"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:315"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:315"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET_NEXT_PRSV</span> <span class="id" title="var">NEXT</span> <span class="id" title="var">WF_NEXT</span> <span class="id" title="var">IS_NEXT</span> <span class="id" title="var">LE_ORIGIN_MSG</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to0</span> <span class="id" title="var">to1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_disjoint"><span class="id" title="lemma">Memory.get_disjoint</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET_NEXT_PRSV</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_1"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to0</span> <span class="id" title="var">from1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LE_ORIGIN_MSG</span> <span class="id" title="var">H</span> <span class="id" title="var">l0</span> <span class="id" title="var">ITV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> <span class="id" title="var">t</span> <span class="id" title="var">to0</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to0</span> <span class="id" title="var">t</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.le_lt_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.le_lt_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.le_lt_lt</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span> := <span class="id" title="var">from0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">to0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_NEXT_PRSV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WF_NEXT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.lt_le_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.lt_le_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER3</span>: <span class="id" title="keyword">∀</span> <a id="t:318" class="idref" href="#t:318"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:317"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:317"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NOT_COVER1</span> <span class="id" title="var">LT_ADD</span> <span class="id" title="var">NOT_COVER2</span> <span class="id" title="var">IS_NEXT</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Interval.mem_split"><span class="id" title="lemma">Interval.mem_split</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mb</span> := <span class="id" title="var">to</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem':320" class="idref" href="#mem':320"><span class="id" title="binder">mem'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <span class="id" title="var">mem1</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">from0</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':319"><span class="id" title="variable">mem'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LT_ADD</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IS_NEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MEM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem'</span> &amp; <span class="id" title="var">MEM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises':322" class="idref" href="#promises':322"><span class="id" title="binder">promises'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">from0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises':321"><span class="id" title="variable">promises'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF</span> <span class="id" title="var">NOT_COVER3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_le_covered"><span class="id" title="lemma">MemoryProps.memory_le_covered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises'</span> &amp; <span class="id" title="var">PRM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONS'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e2</span> &amp; <span class="id" title="var">TAU_STEPS</span> &amp; <span class="id" title="var">FULFILL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_MEM</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem0':324" class="idref" href="#mem0':324"><span class="id" title="binder">mem0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">mem0</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">from0</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem0':323"><span class="id" title="variable">mem0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">from0</span> <span class="id" title="var">mem'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem0'</span> &amp; <span class="id" title="var">REMOVE_RSV_MEM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_PRM</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises0':326" class="idref" href="#promises0':326"><span class="id" title="binder">promises0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">promises'</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">from0</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises0':325"><span class="id" title="variable">promises0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_PRM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises0'</span> &amp; <span class="id" title="var">REMOVE_RSV_PRM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_NOT_COVER</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:328" class="idref" href="#t:328"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:327"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:327"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#remove_not_cover"><span class="id" title="lemma">Cover.remove_not_cover</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <span class="id" title="var">promises'</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">WRITE'</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem1':330" class="idref" href="#mem1':330"><span class="id" title="binder">mem1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.write"><span class="id" title="inductive">Memory.write</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <span class="id" title="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ord</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">promises0'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':329"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_succeed_valid"><span class="id" title="lemma">MemoryProps.write_succeed_valid</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">IS_NEXT</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Interval.le_mem"><span class="id" title="lemma">Interval.le_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LT_ADD</span> <span class="id" title="var">LE_ORIGIN_MSG</span> <span class="id" title="var">IS_NEXT</span> <span class="id" title="var">REMOVE_NOT_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONTR</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CONTR</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">from0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_ADD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_ADD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">from0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WRITE'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem1'</span> &amp; <span class="id" title="var">WRITE'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_memory_le"><span class="id" title="lemma">MemoryProps.write_memory_le</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">TAU_STEPS</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WRITE</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">sc0</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">from</span> <span class="id" title="var">to</span> <span class="id" title="var">val</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ord</span>) <span class="id" title="var">ord</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_tview"><span class="id" title="definition">TView.write_tview</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <span class="id" title="var">ord</span>) <span class="id" title="var">promises0'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sc0</span> <span class="id" title="var">mem1'</span> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITABLE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITABLE</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NONSYNC</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NONSYNC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NONSYNC</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="var">REMOVE_RSV_PRM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#remove_non_synch_loc"><span class="id" title="lemma">remove_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_RSV_PRM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ADD_LT_MAX</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF''</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> {| <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> := <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>; <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> := <span class="id" title="var">promises0'</span> |} <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_add"><span class="id" title="constructor">Memory.promise_add</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#additional_msg_consistent_construction"><span class="id" title="lemma">additional_msg_consistent_construction</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="var">mem2'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts</span> := <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts'</span> := <a class="idref" href="CompOptCert.Time.html#Time.join"><span class="id" title="definition">Time.join</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>) (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st''</span> &amp; <span class="id" title="var">lc''</span> &amp; <span class="id" title="var">sc''</span> &amp; <span class="id" title="var">mem''</span> &amp; <span class="id" title="var">TAU_STEPS'</span> &amp; <span class="id" title="var">FULFILL'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_promise"><span class="id" title="constructor">Thread.step_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.write"><span class="id" title="constructor">ThreadEvent.write</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <span class="id" title="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ord</span>) <span class="id" title="var">ord</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STATE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_write"><span class="id" title="constructor">Local.step_write</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">TAU_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_l"><span class="id" title="lemma">Time.join_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_optviewinj"><span class="id" title="lemma">spec_inj_optviewinj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val0</span> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MSG</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.concrete_msg_remove_rsv_stable"><span class="id" title="lemma">Memory.concrete_msg_remove_rsv_stable</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m2</span> := <span class="id" title="var">mem'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_monotonic"><span class="id" title="lemma">spec_inj_monotonic</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#TViewInj_spec_inj_id"><span class="id" title="lemma">TViewInj_spec_inj_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_implies_promises_inj"><span class="id" title="lemma">spec_inj_implies_promises_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to1</span> <span class="id" title="var">mem0'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{     <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITE'</span> <span class="id" title="var">GET0</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="var">mem'</span> <span class="id" title="var">loc0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem2</span> <span class="id" title="var">loc0</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_slice_inj"><span class="id" title="lemma">Memory.cap_slice_inj</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1'</span> := <span class="id" title="var">mem0</span>) (<span class="id" title="var">mem2'</span> := <span class="id" title="var">mem2'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Memory.get</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_ADD</span> <span class="id" title="var">MEM</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM_ADD</span>; <span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> <span class="id" title="var">mem1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r0</span> <span class="id" title="var">mem1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_cap_covered"><span class="id" title="lemma">MemoryProps.memory_cap_covered</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a> <span class="id" title="var">ts</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#spec_view_intro_le_max_ts"><span class="id" title="constructor">spec_view_intro_le_max_ts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>|<span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>). <span class="id" title="var">introv</span> <span class="id" title="var">MAX_TS</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> (<a class="idref" href="CompOptCert.View.html#TimeMap.join"><span class="id" title="definition">TimeMap.join</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.acq"><span class="id" title="projection">TView.acq</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span>) <span class="id" title="var">loc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">idtac</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_spec"><span class="id" title="lemma">Time.join_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">TVIEW_WF</span> <span class="id" title="var">PROMISES</span> <span class="id" title="var">FINITE</span> <span class="id" title="var">BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.init"><span class="id" title="definition">LocFun.init</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">to</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">LocFun.find</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_eq"><span class="id" title="lemma">LocFun.add_spec_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#gt_max_not_covered"><span class="id" title="lemma">Cover.gt_max_not_covered</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LC2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">H0</span> <span class="id" title="var">ITV</span> <span class="id" title="var">ADD_LT_MAX</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to</span> <span class="id" title="var">ts'</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD_LT_MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H2</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="var">H1</span> <span class="id" title="var">GET0</span> <span class="id" title="var">ITV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem0</span>) <span class="id" title="var">to1</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.lt_le_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.lt_le_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">BACK</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="write_not_add_cap_exit" class="idref" href="#write_not_add_cap_exit"><span class="id" title="lemma">write_not_add_cap_exit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="mem1:331" class="idref" href="#mem1:331"><span class="id" title="binder">mem1</span></a> <a id="mem1':332" class="idref" href="#mem1':332"><span class="id" title="binder">mem1'</span></a> <a id="lc1:333" class="idref" href="#lc1:333"><span class="id" title="binder">lc1</span></a> <a id="sc1:334" class="idref" href="#sc1:334"><span class="id" title="binder">sc1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="mem2:335" class="idref" href="#mem2:335"><span class="id" title="binder">mem2</span></a> <a id="mem2':336" class="idref" href="#mem2':336"><span class="id" title="binder">mem2'</span></a> <a id="lc2:337" class="idref" href="#lc2:337"><span class="id" title="binder">lc2</span></a> <a id="sc2:338" class="idref" href="#sc2:338"><span class="id" title="binder">sc2</span></a> <a id="sc:339" class="idref" href="#sc:339"><span class="id" title="binder">sc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc:340" class="idref" href="#loc:340"><span class="id" title="binder">loc</span></a> <a id="from:341" class="idref" href="#from:341"><span class="id" title="binder">from</span></a> <a id="to:342" class="idref" href="#to:342"><span class="id" title="binder">to</span></a> <a id="val:343" class="idref" href="#val:343"><span class="id" title="binder">val</span></a> <a id="releasedr:344" class="idref" href="#releasedr:344"><span class="id" title="binder">releasedr</span></a> <a id="releasedw:345" class="idref" href="#releasedw:345"><span class="id" title="binder">releasedw</span></a> <a id="ord:346" class="idref" href="#ord:346"><span class="id" title="binder">ord</span></a> <a id="kind:347" class="idref" href="#kind:347"><span class="id" title="binder">kind</span></a> <a id="lo:348" class="idref" href="#lo:348"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LE:349" class="idref" href="#LE:349"><span class="id" title="binder">LE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:333"><span class="id" title="variable">lc1</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:331"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE:350" class="idref" href="#WRITE:350"><span class="id" title="binder">WRITE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:333"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:334"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:331"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:340"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:341"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:342"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:343"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedr:344"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedw:345"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ord:346"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:337"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:338"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:335"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:347"><span class="id" title="variable">kind</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:348"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CAP1:351" class="idref" href="#CAP1:351"><span class="id" title="binder">CAP1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:331"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':332"><span class="id" title="variable">mem1'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CAP2:352" class="idref" href="#CAP2:352"><span class="id" title="binder">CAP2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:335"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2':336"><span class="id" title="variable">mem2'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED:353" class="idref" href="#CLOSED:353"><span class="id" title="binder">CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:331"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_ADD:354" class="idref" href="#NOT_ADD:354"><span class="id" title="binder">NOT_ADD</span></a>: <a class="idref" href="CompOptCert.ConsistentProp.html#kind:347"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem':355" class="idref" href="#mem':355"><span class="id" title="binder">mem'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:333"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:339"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':332"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:340"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:341"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:342"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:343"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedr:344"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedw:345"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ord:346"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:337"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:339"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':355"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:347"><span class="id" title="variable">kind</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:348"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">mem1'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP1</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">LE</span> <span class="id" title="var">SOUND</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Memory.le</span>; <span class="id" title="var">ii</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_exists_le"><span class="id" title="lemma">Memory.split_exists_le</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">mem0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITABLE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">TView.write_released</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_exists_le"><span class="id" title="lemma">Memory.lower_exists_le</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">mem0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITABLE</span>; <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="write_step_not_add_cap_get_stable" class="idref" href="#write_step_not_add_cap_get_stable"><span class="id" title="lemma">write_step_not_add_cap_get_stable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc:356" class="idref" href="#lc:356"><span class="id" title="binder">lc</span></a> <a id="sc:357" class="idref" href="#sc:357"><span class="id" title="binder">sc</span></a> <a id="mem:358" class="idref" href="#mem:358"><span class="id" title="binder">mem</span></a> <a id="loc:359" class="idref" href="#loc:359"><span class="id" title="binder">loc</span></a> <a id="to:360" class="idref" href="#to:360"><span class="id" title="binder">to</span></a> <a id="from:361" class="idref" href="#from:361"><span class="id" title="binder">from</span></a> <a id="val:362" class="idref" href="#val:362"><span class="id" title="binder">val</span></a> <a id="R:363" class="idref" href="#R:363"><span class="id" title="binder">R</span></a> <a id="loc':364" class="idref" href="#loc':364"><span class="id" title="binder">loc'</span></a> <a id="from':365" class="idref" href="#from':365"><span class="id" title="binder">from'</span></a> <a id="to':366" class="idref" href="#to':366"><span class="id" title="binder">to'</span></a> <a id="val':367" class="idref" href="#val':367"><span class="id" title="binder">val'</span></a> <a id="releasedr:368" class="idref" href="#releasedr:368"><span class="id" title="binder">releasedr</span></a> <a id="releasedw:369" class="idref" href="#releasedw:369"><span class="id" title="binder">releasedw</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc':370" class="idref" href="#lc':370"><span class="id" title="binder">lc'</span></a> <a id="sc':371" class="idref" href="#sc':371"><span class="id" title="binder">sc'</span></a> <a id="mem':372" class="idref" href="#mem':372"><span class="id" title="binder">mem'</span></a> <a id="kind:373" class="idref" href="#kind:373"><span class="id" title="binder">kind</span></a> <a id="ord:374" class="idref" href="#ord:374"><span class="id" title="binder">ord</span></a> <a id="lo:375" class="idref" href="#lo:375"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="mem1:376" class="idref" href="#mem1:376"><span class="id" title="binder">mem1</span></a> <a id="mem1':377" class="idref" href="#mem1':377"><span class="id" title="binder">mem1'</span></a> <a id="sc1:378" class="idref" href="#sc1:378"><span class="id" title="binder">sc1</span></a> <a id="sc1':379" class="idref" href="#sc1':379"><span class="id" title="binder">sc1'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="GET:380" class="idref" href="#GET:380"><span class="id" title="binder">GET</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:359"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:360"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':372"><span class="id" title="variable">mem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.ConsistentProp.html#from:361"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:362"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#R:363"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE:381" class="idref" href="#WRITE:381"><span class="id" title="binder">WRITE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:356"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc:357"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:358"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc':364"><span class="id" title="variable">loc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from':365"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to':366"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val':367"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedr:368"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedw:369"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ord:374"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':370"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc':371"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':372"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:373"><span class="id" title="variable">kind</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:375"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_ADD:382" class="idref" href="#NOT_ADD:382"><span class="id" title="binder">NOT_ADD</span></a>: <a class="idref" href="CompOptCert.ConsistentProp.html#kind:373"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED:383" class="idref" href="#CLOSED:383"><span class="id" title="binder">CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:358"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CAP:384" class="idref" href="#CAP:384"><span class="id" title="binder">CAP</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:358"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:376"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE':385" class="idref" href="#WRITE':385"><span class="id" title="binder">WRITE'</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:356"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:378"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:376"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc':364"><span class="id" title="variable">loc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from':365"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to':366"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val':367"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedr:368"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedw:369"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ord:374"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc':370"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1':379"><span class="id" title="variable">sc1'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':377"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:373"><span class="id" title="variable">kind</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:375"><span class="id" title="variable">lo</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:359"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:360"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':377"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.ConsistentProp.html#from:361"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:362"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#R:363"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Focus</span> 3. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LC2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RELEASED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVEORIGINAL0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET</span> <span class="id" title="var">CLOSED</span> <span class="id" title="var">CAP</span> <span class="id" title="var">MEM</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LC2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RELEASED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET</span> <span class="id" title="var">CLOSED</span> <span class="id" title="var">CAP</span> <span class="id" title="var">MEM</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lower_PF_cap_get_stable" class="idref" href="#lower_PF_cap_get_stable"><span class="id" title="lemma">lower_PF_cap_get_stable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc:386" class="idref" href="#lc:386"><span class="id" title="binder">lc</span></a> <a id="mem:387" class="idref" href="#mem:387"><span class="id" title="binder">mem</span></a> <a id="loc:388" class="idref" href="#loc:388"><span class="id" title="binder">loc</span></a> <a id="to:389" class="idref" href="#to:389"><span class="id" title="binder">to</span></a> <a id="from:390" class="idref" href="#from:390"><span class="id" title="binder">from</span></a> <a id="val:391" class="idref" href="#val:391"><span class="id" title="binder">val</span></a> <a id="R:392" class="idref" href="#R:392"><span class="id" title="binder">R</span></a> <a id="loc':393" class="idref" href="#loc':393"><span class="id" title="binder">loc'</span></a> <a id="from':394" class="idref" href="#from':394"><span class="id" title="binder">from'</span></a> <a id="to':395" class="idref" href="#to':395"><span class="id" title="binder">to'</span></a> <a id="val0:396" class="idref" href="#val0:396"><span class="id" title="binder">val0</span></a> <a id="val':397" class="idref" href="#val':397"><span class="id" title="binder">val'</span></a> <a id="released:398" class="idref" href="#released:398"><span class="id" title="binder">released</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc':399" class="idref" href="#lc':399"><span class="id" title="binder">lc'</span></a> <a id="mem':400" class="idref" href="#mem':400"><span class="id" title="binder">mem'</span></a> <a id="mem1:401" class="idref" href="#mem1:401"><span class="id" title="binder">mem1</span></a> <a id="mem1':402" class="idref" href="#mem1':402"><span class="id" title="binder">mem1'</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="GET:403" class="idref" href="#GET:403"><span class="id" title="binder">GET</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:388"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:389"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':400"><span class="id" title="variable">mem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.ConsistentProp.html#from:390"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:391"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#R:392"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE:404" class="idref" href="#WRITE:404"><span class="id" title="binder">WRITE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:386"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:387"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc':393"><span class="id" title="variable">loc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from':394"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to':395"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val0:396"><span class="id" title="variable">val0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lc':399"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':400"><span class="id" title="variable">mem'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val':397"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#released:398"><span class="id" title="variable">released</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED:405" class="idref" href="#CLOSED:405"><span class="id" title="binder">CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:387"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CAP:406" class="idref" href="#CAP:406"><span class="id" title="binder">CAP</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:387"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:401"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE':407" class="idref" href="#WRITE':407"><span class="id" title="binder">WRITE'</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc:386"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:401"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc':393"><span class="id" title="variable">loc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from':394"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to':395"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val0:396"><span class="id" title="variable">val0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lc':399"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':402"><span class="id" title="variable">mem1'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val':397"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#released:398"><span class="id" title="variable">released</span></a>))):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:388"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:389"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':402"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.ConsistentProp.html#from:390"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:391"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#R:392"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LC2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET</span> <span class="id" title="var">CLOSED</span> <span class="id" title="var">CAP</span> <span class="id" title="var">MEM</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="write_not_add_step_consistent_construction" class="idref" href="#write_not_add_step_consistent_construction"><span class="id" title="lemma">write_not_add_step_consistent_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:408" class="idref" href="#lang:408"><span class="id" title="binder">lang</span></a> <a id="st1:409" class="idref" href="#st1:409"><span class="id" title="binder">st1</span></a> <a id="st2:410" class="idref" href="#st2:410"><span class="id" title="binder">st2</span></a> <a id="loc:411" class="idref" href="#loc:411"><span class="id" title="binder">loc</span></a> <a id="val:412" class="idref" href="#val:412"><span class="id" title="binder">val</span></a> <a id="lc1:413" class="idref" href="#lc1:413"><span class="id" title="binder">lc1</span></a> <a id="sc1:414" class="idref" href="#sc1:414"><span class="id" title="binder">sc1</span></a> <a id="mem1:415" class="idref" href="#mem1:415"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="from:416" class="idref" href="#from:416"><span class="id" title="binder">from</span></a> <a id="to:417" class="idref" href="#to:417"><span class="id" title="binder">to</span></a> <a id="releasedw:418" class="idref" href="#releasedw:418"><span class="id" title="binder">releasedw</span></a> <a id="ord:419" class="idref" href="#ord:419"><span class="id" title="binder">ord</span></a> <a id="kind:420" class="idref" href="#kind:420"><span class="id" title="binder">kind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:421" class="idref" href="#lc2:421"><span class="id" title="binder">lc2</span></a> <a id="sc2:422" class="idref" href="#sc2:422"><span class="id" title="binder">sc2</span></a> <a id="mem2:423" class="idref" href="#mem2:423"><span class="id" title="binder">mem2</span></a> <a id="lo:424" class="idref" href="#lo:424"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STATE:425" class="idref" href="#STATE:425"><span class="id" title="binder">STATE</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:408"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:411"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:412"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ord:419"><span class="id" title="variable">ord</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#st1:409"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:410"><span class="id" title="variable">st2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE:426" class="idref" href="#WRITE:426"><span class="id" title="binder">WRITE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:413"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:414"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:415"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:411"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:416"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:417"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:412"><span class="id" title="variable">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedw:418"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ord:419"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:421"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:422"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:423"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:420"><span class="id" title="variable">kind</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:424"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOADD:427" class="idref" href="#NOADD:427"><span class="id" title="binder">NOADD</span></a>: <a class="idref" href="CompOptCert.ConsistentProp.html#kind:420"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:428" class="idref" href="#CONS:428"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:408"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:410"><span class="id" title="variable">st2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:421"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:422"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:423"><span class="id" title="variable">mem2</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:424"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:429" class="idref" href="#LOCAL_WF:429"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:413"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:415"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:430" class="idref" href="#MEM_CLOSED:430"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:415"><span class="id" title="variable">mem1</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:408"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st1:409"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:413"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:414"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:415"><span class="id" title="variable">mem1</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:424"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc2</span> <span class="id" title="var">mem2</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_CLOSED'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem2</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#Thread_consistent_to_consistent_nprm"><span class="id" title="lemma">Thread_consistent_to_consistent_nprm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CAP_EXIST</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem2':432" class="idref" href="#mem2':432"><span class="id" title="binder">mem2'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <span class="id" title="var">mem2</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2':431"><span class="id" title="variable">mem2'</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_exists"><span class="id" title="lemma">Memory.cap_exists</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem2'</span> &amp; <span class="id" title="var">CAP_EXIST</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="sc1':434" class="idref" href="#sc1':434"><span class="id" title="binder">sc1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap"><span class="id" title="definition">Memory.max_concrete_timemap</span></a> <span class="id" title="var">mem2'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1':433"><span class="id" title="variable">sc1'</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap_exists"><span class="id" title="lemma">Memory.max_concrete_timemap_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sc1'</span> &amp; <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">CONS'</span>: <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CONS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS'</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e2</span> &amp; <span class="id" title="var">CONS'</span> &amp; <span class="id" title="var">FULFILL'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ConsistentProp.html#write_not_add_cap_exit"><span class="id" title="lemma">write_not_add_cap_exit</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc0</span>). <span class="id" title="var">introv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WRITE'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem'</span> &amp; <span class="id" title="var">WRITE'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF''</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc2</span> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CLOSED_MEM''</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">CONS'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#additional_msg_consistent_construction"><span class="id" title="lemma">additional_msg_consistent_construction</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="var">mem2'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts</span> := <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts'</span> := <a class="idref" href="CompOptCert.Time.html#Time.join"><span class="id" title="definition">Time.join</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>) (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem'</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">CONS'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st''</span> &amp; <span class="id" title="var">lc''</span> &amp; <span class="id" title="var">sc''</span> &amp; <span class="id" title="var">mem''</span> &amp; <span class="id" title="var">TAU_STEPS'</span> &amp; <span class="id" title="var">FULFILL''</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.write"><span class="id" title="constructor">ThreadEvent.write</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <span class="id" title="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ord</span>) <span class="id" title="var">ord</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STATE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">lets</span> <span class="id" title="var">RELEASE</span>: <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RELEASE</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">TAU_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_l"><span class="id" title="lemma">Time.join_l</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val0</span> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">MSG</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ConsistentProp.html#write_step_not_add_cap_get_stable"><span class="id" title="lemma">write_step_not_add_cap_get_stable</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_optviewinj"><span class="id" title="lemma">spec_inj_optviewinj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_monotonic"><span class="id" title="lemma">spec_inj_monotonic</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#TViewInj_spec_inj_id"><span class="id" title="lemma">TViewInj_spec_inj_id</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_implies_promises_inj"><span class="id" title="lemma">spec_inj_implies_promises_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">msg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to0</span> <span class="id" title="var">mem0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{     <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITE'</span> <span class="id" title="var">GET</span> <span class="id" title="var">H</span> <span class="id" title="var">NOADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="var">mem1</span> <span class="id" title="var">loc0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem2</span> <span class="id" title="var">loc0</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_slice_inj"><span class="id" title="lemma">Memory.cap_slice_inj</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1'</span> := <span class="id" title="var">mem0</span>) (<span class="id" title="var">mem2'</span> := <span class="id" title="var">mem2'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Memory.get</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITE</span> <span class="id" title="var">H</span> <span class="id" title="var">NOADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">SPLIT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> <span class="id" title="var">mem1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem1</span> <span class="id" title="var">loc0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOWER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> <span class="id" title="var">mem1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem1</span> <span class="id" title="var">loc0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_cap_covered"><span class="id" title="lemma">MemoryProps.memory_cap_covered</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a> <span class="id" title="var">ts</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#spec_view_intro_le_max_ts"><span class="id" title="constructor">spec_view_intro_le_max_ts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>|<span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>). <span class="id" title="var">introv</span> <span class="id" title="var">MAX_TS</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.acq"><span class="id" title="projection">TView.acq</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc2</span>)) <span class="id" title="var">loc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">idtac</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF</span> <span class="id" title="var">WRITE</span> <span class="id" title="var">NOADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">TVIEW_WF</span> <span class="id" title="var">PROMISES</span> <span class="id" title="var">FINITE</span> <span class="id" title="var">BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get1"><span class="id" title="lemma">Memory.split_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_spec"><span class="id" title="lemma">Time.join_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.init"><span class="id" title="definition">LocFun.init</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">to</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">LocFun.find</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_eq"><span class="id" title="lemma">LocFun.add_spec_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get1"><span class="id" title="lemma">Memory.lower_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_spec"><span class="id" title="lemma">Time.join_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.init"><span class="id" title="definition">LocFun.init</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">to</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">LocFun.find</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_eq"><span class="id" title="lemma">LocFun.add_spec_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#gt_max_not_covered"><span class="id" title="lemma">Cover.gt_max_not_covered</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H1</span> <span class="id" title="var">MAX</span> <span class="id" title="var">ITV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_2"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">TO</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H1</span> <span class="id" title="var">MAX</span> <span class="id" title="var">ITV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_2"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">TO</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">BACK</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_add_step_consistent_construction" class="idref" href="#update_add_step_consistent_construction"><span class="id" title="lemma">update_add_step_consistent_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:435" class="idref" href="#lang:435"><span class="id" title="binder">lang</span></a> <a id="st1:436" class="idref" href="#st1:436"><span class="id" title="binder">st1</span></a> <a id="loc:437" class="idref" href="#loc:437"><span class="id" title="binder">loc</span></a> <a id="valr:438" class="idref" href="#valr:438"><span class="id" title="binder">valr</span></a> <a id="valw:439" class="idref" href="#valw:439"><span class="id" title="binder">valw</span></a> <a id="lc1:440" class="idref" href="#lc1:440"><span class="id" title="binder">lc1</span></a> <a id="sc1:441" class="idref" href="#sc1:441"><span class="id" title="binder">sc1</span></a> <a id="mem1:442" class="idref" href="#mem1:442"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="tsr:443" class="idref" href="#tsr:443"><span class="id" title="binder">tsr</span></a> <a id="tsw:444" class="idref" href="#tsw:444"><span class="id" title="binder">tsw</span></a> <a id="releasedr:445" class="idref" href="#releasedr:445"><span class="id" title="binder">releasedr</span></a> <a id="releasedw:446" class="idref" href="#releasedw:446"><span class="id" title="binder">releasedw</span></a> <a id="ordr:447" class="idref" href="#ordr:447"><span class="id" title="binder">ordr</span></a> <a id="ordw:448" class="idref" href="#ordw:448"><span class="id" title="binder">ordw</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1':449" class="idref" href="#lc1':449"><span class="id" title="binder">lc1'</span></a> <a id="st2:450" class="idref" href="#st2:450"><span class="id" title="binder">st2</span></a> <a id="lc2:451" class="idref" href="#lc2:451"><span class="id" title="binder">lc2</span></a> <a id="sc2:452" class="idref" href="#sc2:452"><span class="id" title="binder">sc2</span></a> <a id="mem2:453" class="idref" href="#mem2:453"><span class="id" title="binder">mem2</span></a> <a id="lo:454" class="idref" href="#lo:454"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STATE:455" class="idref" href="#STATE:455"><span class="id" title="binder">STATE</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:435"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.update"><span class="id" title="constructor">ProgramEvent.update</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:437"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#valr:438"><span class="id" title="variable">valr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#valw:439"><span class="id" title="variable">valw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:447"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordw:448"><span class="id" title="variable">ordw</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#st1:436"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:450"><span class="id" title="variable">st2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READ:456" class="idref" href="#READ:456"><span class="id" title="binder">READ</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:440"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:442"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:437"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#tsr:443"><span class="id" title="variable">tsr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#valr:438"><span class="id" title="variable">valr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedr:445"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:447"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1':449"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:454"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE_ADD:457" class="idref" href="#WRITE_ADD:457"><span class="id" title="binder">WRITE_ADD</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1':449"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:441"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:442"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:437"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#tsr:443"><span class="id" title="variable">tsr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#tsw:444"><span class="id" title="variable">tsw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#valw:439"><span class="id" title="variable">valw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedr:445"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedw:446"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordw:448"><span class="id" title="variable">ordw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:451"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:452"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:453"><span class="id" title="variable">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:454"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:458" class="idref" href="#CONS:458"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:435"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:450"><span class="id" title="variable">st2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:451"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:452"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:453"><span class="id" title="variable">mem2</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:454"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ATOMIC_LOC:459" class="idref" href="#ATOMIC_LOC:459"><span class="id" title="binder">ATOMIC_LOC</span></a>: <a class="idref" href="CompOptCert.ConsistentProp.html#lo:454"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:437"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.atomic"><span class="id" title="constructor">Ordering.atomic</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:460" class="idref" href="#LOCAL_WF:460"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:440"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:442"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:461" class="idref" href="#MEM_CLOSED:461"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:442"><span class="id" title="variable">mem1</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e0:462" class="idref" href="#e0:462"><span class="id" title="binder">e0</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:454"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:435"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st1:436"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:440"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:441"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:442"><span class="id" title="variable">mem1</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e0:462"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:462"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:454"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF_READ</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc1'</span> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_read"><span class="id" title="lemma">local_wf_read</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc2</span> <span class="id" title="var">mem2</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_CLOSED'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem2</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE_ADD</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WF_READ</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#closed_mem_implies_closed_msg"><span class="id" title="lemma">closed_mem_implies_closed_msg</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#Thread_consistent_to_consistent_nprm"><span class="id" title="lemma">Thread_consistent_to_consistent_nprm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CAP_EXIST</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem2':464" class="idref" href="#mem2':464"><span class="id" title="binder">mem2'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <span class="id" title="var">mem2</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2':463"><span class="id" title="variable">mem2'</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_exists"><span class="id" title="lemma">Memory.cap_exists</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem2'</span> &amp; <span class="id" title="var">CAP_EXIST</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="sc1':466" class="idref" href="#sc1':466"><span class="id" title="binder">sc1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap"><span class="id" title="definition">Memory.max_concrete_timemap</span></a> <span class="id" title="var">mem2'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1':465"><span class="id" title="variable">sc1'</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap_exists"><span class="id" title="lemma">Memory.max_concrete_timemap_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sc1'</span> &amp; <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">tsw</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LT_MSG_T</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">tsr</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="keyword">∀</span> <a id="t:468" class="idref" href="#t:468"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:467"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:467"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_add_cover_disjoint"><span class="id" title="lemma">MemoryProps.memory_add_cover_disjoint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="keyword">∀</span> <a id="t:470" class="idref" href="#t:470"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">((</span></a><a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">),</span></a> <a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:469"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:469"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOCOVER</span>: <span class="id" title="keyword">∀</span> <a id="t:472" class="idref" href="#t:472"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:471"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:471"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">LT_MSG_T</span>. <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Interval.mem_split"><span class="id" title="lemma">Interval.mem_split</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mb</span> := <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem':474" class="idref" href="#mem':474"><span class="id" title="binder">mem'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <span class="id" title="var">mem1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)) <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':473"><span class="id" title="variable">mem'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LT_MSG_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MEM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem'</span> &amp; <span class="id" title="var">MEM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_READ_UNCHANGE</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises':476" class="idref" href="#promises':476"><span class="id" title="binder">promises'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises':475"><span class="id" title="variable">promises'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LT_MSG_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF</span> <span class="id" title="var">NOCOVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOCOVER</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_le_covered"><span class="id" title="lemma">MemoryProps.memory_le_covered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises'</span> &amp; <span class="id" title="var">PRM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONS'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e2</span> &amp; <span class="id" title="var">TAU_STEPS</span> &amp; <span class="id" title="var">FULFILL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_MEM</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem0':478" class="idref" href="#mem0':478"><span class="id" title="binder">mem0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">mem0</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)) <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem0':477"><span class="id" title="variable">mem0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)) <span class="id" title="var">mem'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem0'</span> &amp; <span class="id" title="var">REMOVE_RSV_MEM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_PRM</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises0':480" class="idref" href="#promises0':480"><span class="id" title="binder">promises0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">promises'</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)) <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises0':479"><span class="id" title="variable">promises0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_PRM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises0'</span> &amp; <span class="id" title="var">REMOVE_RSV_PRM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_NOT_COVER</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:482" class="idref" href="#t:482"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">))</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:481"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:481"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#remove_not_cover"><span class="id" title="lemma">Cover.remove_not_cover</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <span class="id" title="var">promises'</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">WRITE'</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem1':484" class="idref" href="#mem1':484"><span class="id" title="binder">mem1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.write"><span class="id" title="inductive">Memory.write</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">valw</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">releasedr</span> <span class="id" title="var">ordw</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">promises0'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':483"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_succeed_valid"><span class="id" title="lemma">MemoryProps.write_succeed_valid</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_NOT_COVER</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Interval.le_mem"><span class="id" title="lemma">Interval.le_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">LT_MSG_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONTR</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CONTR</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_MSG_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time.Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_MSG_T</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">x</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WRITE'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem1'</span> &amp; <span class="id" title="var">WRITE'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_memory_le"><span class="id" title="lemma">MemoryProps.write_memory_le</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">TAU_STEPS</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_READ</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">valr</span> <span class="id" title="var">releasedr</span> <span class="id" title="var">ordr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">from</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="var">MEM_ADD</span> <span class="id" title="var">CAP</span> <span class="id" title="var">MEM_CLOSED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H2</span>. <span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WRITE</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">sc0</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tsr</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">valw</span> <span class="id" title="var">releasedr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">releasedr</span> <span class="id" title="var">ordw</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ordw</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_tview"><span class="id" title="definition">TView.write_tview</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">ordw</span>) <span class="id" title="var">promises0'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sc0</span> <span class="id" title="var">mem1'</span> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITABLE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITABLE</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NONSYNC</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NONSYNC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NONSYNC</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="var">REMOVE_RSV_PRM</span> <span class="id" title="var">PRM_READ_UNCHANGE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PRM_READ_UNCHANGE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NONSYNC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#remove_non_synch_loc"><span class="id" title="lemma">remove_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_RSV_PRM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF''</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> {| <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> := <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>; <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> := <span class="id" title="var">promises0'</span> |} <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_add"><span class="id" title="constructor">Memory.promise_add</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#additional_msg_consistent_construction"><span class="id" title="lemma">additional_msg_consistent_construction</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="var">mem2'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts</span> := <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts'</span> := <a class="idref" href="CompOptCert.Time.html#Time.join"><span class="id" title="definition">Time.join</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>) (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st''</span> &amp; <span class="id" title="var">lc''</span> &amp; <span class="id" title="var">sc''</span> &amp; <span class="id" title="var">mem''</span> &amp; <span class="id" title="var">TAU_STEPS'</span> &amp; <span class="id" title="var">FULFILL'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_promise"><span class="id" title="constructor">Thread.step_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.update"><span class="id" title="constructor">ThreadEvent.update</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">valr</span> <span class="id" title="var">valw</span> <span class="id" title="var">releasedr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">releasedr</span> <span class="id" title="var">ordw</span>) <span class="id" title="var">ordr</span> <span class="id" title="var">ordw</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STATE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_update"><span class="id" title="constructor">Local.step_update</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">TAU_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_read"><span class="id" title="lemma">local_wf_read</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">releasedr</span> := <span class="id" title="var">releasedr</span>); <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed_opt_view"><span class="id" title="lemma">Memory.cancel_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed_opt_view"><span class="id" title="lemma">Memory.cap_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed_opt_view"><span class="id" title="lemma">Memory.add_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_CLOSED</span> <span class="id" title="var">READ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">READ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MEM_CLOSED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CLOSED</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MSG_CLOSED</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_read"><span class="id" title="lemma">local_wf_read</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_l"><span class="id" title="lemma">Time.join_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_optviewinj"><span class="id" title="lemma">spec_inj_optviewinj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val</span> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MSG</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.concrete_msg_remove_rsv_stable"><span class="id" title="lemma">Memory.concrete_msg_remove_rsv_stable</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m2</span> := <span class="id" title="var">mem'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_monotonic"><span class="id" title="lemma">spec_inj_monotonic</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#TViewInj_spec_inj_id"><span class="id" title="lemma">TViewInj_spec_inj_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_implies_promises_inj"><span class="id" title="lemma">spec_inj_implies_promises_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to</span> <span class="id" title="var">mem0'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITE'</span> <span class="id" title="var">GET</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="var">mem'</span> <span class="id" title="var">loc0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem2</span> <span class="id" title="var">loc0</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_slice_inj"><span class="id" title="lemma">Memory.cap_slice_inj</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1'</span> := <span class="id" title="var">mem0</span>) (<span class="id" title="var">mem2'</span> := <span class="id" title="var">mem2'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Memory.get</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_ADD</span> <span class="id" title="var">MEM</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM_ADD</span>; <span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> <span class="id" title="var">mem1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r0</span> <span class="id" title="var">mem1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_cap_covered"><span class="id" title="lemma">MemoryProps.memory_cap_covered</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a> <span class="id" title="var">ts</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#spec_view_intro_le_max_ts"><span class="id" title="constructor">spec_view_intro_le_max_ts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>|<span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>). <span class="id" title="var">introv</span> <span class="id" title="var">MAX_TS</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> (<a class="idref" href="CompOptCert.View.html#TimeMap.join"><span class="id" title="definition">TimeMap.join</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.acq"><span class="id" title="projection">TView.acq</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)) <span class="id" title="var">loc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">idtac</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_spec"><span class="id" title="lemma">Time.join_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF_READ</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_READ</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">TVIEW_WF</span> <span class="id" title="var">PROMISES</span> <span class="id" title="var">FINITE</span> <span class="id" title="var">BOT</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Loc.html#LocFun.init"><span class="id" title="definition">LocFun.init</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">LocFun.find</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_eq"><span class="id" title="lemma">LocFun.add_spec_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#gt_max_not_covered"><span class="id" title="lemma">Cover.gt_max_not_covered</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time.Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>|<span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>); <span class="id" title="var">introv</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">ITV</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">MAX_TS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) <span class="id" title="var">ts'</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time.Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time.Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H0</span> <span class="id" title="var">ITV</span> <span class="id" title="var">GET</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to</span> <span class="id" title="var">ts'</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time.Time_le_gt_false</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">BACK</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to</span> <span class="id" title="var">t</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.le_lt_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER1</span>: <span class="id" title="keyword">∀</span> <a id="t:486" class="idref" href="#t:486"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">tsw</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:485"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:485"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_add_cover_disjoint"><span class="id" title="lemma">MemoryProps.memory_add_cover_disjoint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">GET</span>: <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">GET</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">_</span> <span class="id" title="var">GET</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.next_exists"><span class="id" title="lemma">Memory.next_exists</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">idtac</span>..]. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">tsw</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">MAX</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NEXT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">from0</span> &amp; <span class="id" title="var">to0</span> &amp; <span class="id" title="var">msg0</span> &amp; <span class="id" title="var">GET_NEXT</span> &amp; <span class="id" title="var">NEXT</span> &amp; <span class="id" title="var">WF_NEXT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LT_ADD</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">tsr</span> <span class="id" title="var">tsw</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#add_succeed_wf"><span class="id" title="lemma">MemoryProps.add_succeed_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LE_ORIGIN_MSG</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">from0</span> <span class="id" title="var">to0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_NEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time.Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEXT</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET_NEXT_PRSV</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to0</span> <span class="id" title="var">mem1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_NEXT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET_NEXT</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_1"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEXT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">IS_NEXT</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">tsw</span> <span class="id" title="var">from0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_disjoint"><span class="id" title="lemma">Memory.get_disjoint</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET_NEXT</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">GET</span> <span class="id" title="var">GET_NEXT</span> <span class="id" title="var">NEXT</span> <span class="id" title="var">ATTACH</span> <span class="id" title="var">LT_ADD</span> <span class="id" title="var">GET_NEXT_PRSV</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_1"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEXT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">from0</span> <span class="id" title="var">tsw</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Time.html#Interval.disjoint"><span class="id" title="definition">Interval.disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H0</span> <span class="id" title="var">tsw</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ATTACH</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_NEXT_PRSV</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER2</span>: <span class="id" title="keyword">∀</span> <a id="t:488" class="idref" href="#t:488"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsw</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:487"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:487"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET_NEXT_PRSV</span> <span class="id" title="var">NEXT</span> <span class="id" title="var">WF_NEXT</span> <span class="id" title="var">IS_NEXT</span> <span class="id" title="var">LE_ORIGIN_MSG</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to0</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_disjoint"><span class="id" title="lemma">Memory.get_disjoint</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET_NEXT_PRSV</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_1"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to0</span> <span class="id" title="var">from</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LE_ORIGIN_MSG</span> <span class="id" title="var">H</span> <span class="id" title="var">l0</span> <span class="id" title="var">ITV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> <span class="id" title="var">t</span> <span class="id" title="var">to0</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to0</span> <span class="id" title="var">t</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.le_lt_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.le_lt_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.le_lt_lt</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span> := <span class="id" title="var">from0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> := <span class="id" title="var">to0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_NEXT_PRSV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WF_NEXT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.lt_le_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.lt_le_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER3</span>: <span class="id" title="keyword">∀</span> <a id="t:490" class="idref" href="#t:490"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:489"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:489"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NOT_COVER1</span> <span class="id" title="var">LT_ADD</span> <span class="id" title="var">NOT_COVER2</span> <span class="id" title="var">IS_NEXT</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Interval.mem_split"><span class="id" title="lemma">Interval.mem_split</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mb</span> := <span class="id" title="var">tsw</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem':492" class="idref" href="#mem':492"><span class="id" title="binder">mem'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <span class="id" title="var">mem1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">from0</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':491"><span class="id" title="variable">mem'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LT_ADD</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IS_NEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MEM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem'</span> &amp; <span class="id" title="var">MEM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises':494" class="idref" href="#promises':494"><span class="id" title="binder">promises'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">from0</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises':493"><span class="id" title="variable">promises'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF</span> <span class="id" title="var">NOT_COVER3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_le_covered"><span class="id" title="lemma">MemoryProps.memory_le_covered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises'</span> &amp; <span class="id" title="var">PRM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONS'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e2</span> &amp; <span class="id" title="var">TAU_STEPS</span> &amp; <span class="id" title="var">FULFILL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_MEM</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem0':496" class="idref" href="#mem0':496"><span class="id" title="binder">mem0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">mem0</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">from0</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem0':495"><span class="id" title="variable">mem0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">from0</span> <span class="id" title="var">mem'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem0'</span> &amp; <span class="id" title="var">REMOVE_RSV_MEM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_PRM</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises0':498" class="idref" href="#promises0':498"><span class="id" title="binder">promises0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">promises'</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">from0</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises0':497"><span class="id" title="variable">promises0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_PRM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises0'</span> &amp; <span class="id" title="var">REMOVE_RSV_PRM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_NOT_COVER</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:500" class="idref" href="#t:500"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:499"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:499"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#remove_not_cover"><span class="id" title="lemma">Cover.remove_not_cover</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <span class="id" title="var">promises'</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">WRITE'</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem1':502" class="idref" href="#mem1':502"><span class="id" title="binder">mem1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.write"><span class="id" title="inductive">Memory.write</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">tsw</span> <span class="id" title="var">valw</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">releasedr</span> <span class="id" title="var">ordw</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">promises0'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':501"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_succeed_valid"><span class="id" title="lemma">MemoryProps.write_succeed_valid</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">IS_NEXT</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Interval.le_mem"><span class="id" title="lemma">Interval.le_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LT_ADD</span> <span class="id" title="var">LE_ORIGIN_MSG</span> <span class="id" title="var">IS_NEXT</span> <span class="id" title="var">REMOVE_NOT_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONTR</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CONTR</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">from0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_ADD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_ADD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">from0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WRITE'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem1'</span> &amp; <span class="id" title="var">WRITE'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_memory_le"><span class="id" title="lemma">MemoryProps.write_memory_le</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">TAU_STEPS</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_READ</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">valr</span> <span class="id" title="var">releasedr</span> <span class="id" title="var">ordr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">from</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET0</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="var">MEM_ADD</span> <span class="id" title="var">CAP</span> <span class="id" title="var">MEM_CLOSED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">GET0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WRITE</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">sc0</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tsr</span> <span class="id" title="var">tsw</span> <span class="id" title="var">valw</span> <span class="id" title="var">releasedr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">releasedr</span> <span class="id" title="var">ordw</span>) <span class="id" title="var">ordw</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_tview"><span class="id" title="definition">TView.write_tview</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">ordw</span>) <span class="id" title="var">promises0'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sc0</span> <span class="id" title="var">mem1'</span> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITABLE</span> <span class="id" title="var">READ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITABLE</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NONSYNC</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NONSYNC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NONSYNC</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="var">REMOVE_RSV_PRM</span> <span class="id" title="var">READ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#remove_non_synch_loc"><span class="id" title="lemma">remove_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_RSV_PRM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ADD_LT_MAX</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">tsw</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF''</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> {| <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> := <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>; <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> := <span class="id" title="var">promises0'</span> |} <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_add"><span class="id" title="constructor">Memory.promise_add</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#additional_msg_consistent_construction"><span class="id" title="lemma">additional_msg_consistent_construction</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="var">mem2'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts</span> := <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts'</span> := <a class="idref" href="CompOptCert.Time.html#Time.join"><span class="id" title="definition">Time.join</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>) (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st''</span> &amp; <span class="id" title="var">lc''</span> &amp; <span class="id" title="var">sc''</span> &amp; <span class="id" title="var">mem''</span> &amp; <span class="id" title="var">TAU_STEPS'</span> &amp; <span class="id" title="var">FULFILL'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_promise"><span class="id" title="constructor">Thread.step_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.update"><span class="id" title="constructor">ThreadEvent.update</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">tsw</span> <span class="id" title="var">valr</span> <span class="id" title="var">valw</span> <span class="id" title="var">releasedr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">releasedr</span> <span class="id" title="var">ordw</span>) <span class="id" title="var">ordr</span> <span class="id" title="var">ordw</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STATE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">TAU_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">releasedr</span> := <span class="id" title="var">releasedr</span>); <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed_opt_view"><span class="id" title="lemma">Memory.cancel_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed_opt_view"><span class="id" title="lemma">Memory.cap_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed_opt_view"><span class="id" title="lemma">Memory.add_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_CLOSED</span> <span class="id" title="var">READ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">READ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MEM_CLOSED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CLOSED</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MSG_CLOSED</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_l"><span class="id" title="lemma">Time.join_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_optviewinj"><span class="id" title="lemma">spec_inj_optviewinj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val</span> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MSG</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.concrete_msg_remove_rsv_stable"><span class="id" title="lemma">Memory.concrete_msg_remove_rsv_stable</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m2</span> := <span class="id" title="var">mem'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_monotonic"><span class="id" title="lemma">spec_inj_monotonic</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#TViewInj_spec_inj_id"><span class="id" title="lemma">TViewInj_spec_inj_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_implies_promises_inj"><span class="id" title="lemma">spec_inj_implies_promises_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to</span> <span class="id" title="var">mem0'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{     <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITE'</span> <span class="id" title="var">GET0</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="var">mem'</span> <span class="id" title="var">loc0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem2</span> <span class="id" title="var">loc0</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_slice_inj"><span class="id" title="lemma">Memory.cap_slice_inj</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1'</span> := <span class="id" title="var">mem0</span>) (<span class="id" title="var">mem2'</span> := <span class="id" title="var">mem2'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Memory.get</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_ADD</span> <span class="id" title="var">MEM</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM_ADD</span>; <span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> <span class="id" title="var">mem1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r0</span> <span class="id" title="var">mem1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_cap_covered"><span class="id" title="lemma">MemoryProps.memory_cap_covered</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a> <span class="id" title="var">ts</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#spec_view_intro_le_max_ts"><span class="id" title="constructor">spec_view_intro_le_max_ts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>|<span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>). <span class="id" title="var">introv</span> <span class="id" title="var">MAX_TS</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> (<a class="idref" href="CompOptCert.View.html#TimeMap.join"><span class="id" title="definition">TimeMap.join</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.acq"><span class="id" title="projection">TView.acq</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span>) <span class="id" title="var">loc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">idtac</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_spec"><span class="id" title="lemma">Time.join_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF_READ</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_READ</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">TVIEW_WF</span> <span class="id" title="var">PROMISES</span> <span class="id" title="var">FINITE</span> <span class="id" title="var">BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.MsgMapping.html#Loc_add_eq"><span class="id" title="lemma">Loc_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#gt_max_not_covered"><span class="id" title="lemma">Cover.gt_max_not_covered</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LC2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">H0</span> <span class="id" title="var">ITV</span> <span class="id" title="var">ADD_LT_MAX</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">tsw</span> <span class="id" title="var">ts'</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD_LT_MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H2</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="var">H1</span> <span class="id" title="var">GET0</span> <span class="id" title="var">ITV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem0</span>) <span class="id" title="var">to</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.lt_le_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.lt_le_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">BACK</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_not_add_step_consistent_construction" class="idref" href="#update_not_add_step_consistent_construction"><span class="id" title="lemma">update_not_add_step_consistent_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:503" class="idref" href="#lang:503"><span class="id" title="binder">lang</span></a> <a id="st1:504" class="idref" href="#st1:504"><span class="id" title="binder">st1</span></a> <a id="loc:505" class="idref" href="#loc:505"><span class="id" title="binder">loc</span></a> <a id="valr:506" class="idref" href="#valr:506"><span class="id" title="binder">valr</span></a> <a id="valw:507" class="idref" href="#valw:507"><span class="id" title="binder">valw</span></a> <a id="lc1:508" class="idref" href="#lc1:508"><span class="id" title="binder">lc1</span></a> <a id="sc1:509" class="idref" href="#sc1:509"><span class="id" title="binder">sc1</span></a> <a id="mem1:510" class="idref" href="#mem1:510"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="tsr:511" class="idref" href="#tsr:511"><span class="id" title="binder">tsr</span></a> <a id="tsw:512" class="idref" href="#tsw:512"><span class="id" title="binder">tsw</span></a> <a id="releasedr:513" class="idref" href="#releasedr:513"><span class="id" title="binder">releasedr</span></a> <a id="releasedw:514" class="idref" href="#releasedw:514"><span class="id" title="binder">releasedw</span></a> <a id="ordr:515" class="idref" href="#ordr:515"><span class="id" title="binder">ordr</span></a> <a id="ordw:516" class="idref" href="#ordw:516"><span class="id" title="binder">ordw</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1':517" class="idref" href="#lc1':517"><span class="id" title="binder">lc1'</span></a> <a id="st2:518" class="idref" href="#st2:518"><span class="id" title="binder">st2</span></a> <a id="lc2:519" class="idref" href="#lc2:519"><span class="id" title="binder">lc2</span></a> <a id="sc2:520" class="idref" href="#sc2:520"><span class="id" title="binder">sc2</span></a> <a id="mem2:521" class="idref" href="#mem2:521"><span class="id" title="binder">mem2</span></a> <a id="kind:522" class="idref" href="#kind:522"><span class="id" title="binder">kind</span></a> <a id="lo:523" class="idref" href="#lo:523"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STATE:524" class="idref" href="#STATE:524"><span class="id" title="binder">STATE</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:503"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.update"><span class="id" title="constructor">ProgramEvent.update</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:505"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#valr:506"><span class="id" title="variable">valr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#valw:507"><span class="id" title="variable">valw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:515"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordw:516"><span class="id" title="variable">ordw</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#st1:504"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:518"><span class="id" title="variable">st2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READ:525" class="idref" href="#READ:525"><span class="id" title="binder">READ</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:508"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:510"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:505"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#tsr:511"><span class="id" title="variable">tsr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#valr:506"><span class="id" title="variable">valr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedr:513"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:515"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1':517"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:523"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE:526" class="idref" href="#WRITE:526"><span class="id" title="binder">WRITE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1':517"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:509"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:510"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:505"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#tsr:511"><span class="id" title="variable">tsr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#tsw:512"><span class="id" title="variable">tsw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#valw:507"><span class="id" title="variable">valw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedr:513"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedw:514"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordw:516"><span class="id" title="variable">ordw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:519"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:520"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:521"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#kind:522"><span class="id" title="variable">kind</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:523"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOADD:527" class="idref" href="#NOADD:527"><span class="id" title="binder">NOADD</span></a>: <a class="idref" href="CompOptCert.ConsistentProp.html#kind:522"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:528" class="idref" href="#CONS:528"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:503"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:518"><span class="id" title="variable">st2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:519"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:520"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:521"><span class="id" title="variable">mem2</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:523"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ATOMIC_LOC:529" class="idref" href="#ATOMIC_LOC:529"><span class="id" title="binder">ATOMIC_LOC</span></a>: <a class="idref" href="CompOptCert.ConsistentProp.html#lo:523"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:505"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.atomic"><span class="id" title="constructor">Ordering.atomic</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:530" class="idref" href="#LOCAL_WF:530"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:508"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:510"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:531" class="idref" href="#MEM_CLOSED:531"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:510"><span class="id" title="variable">mem1</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:503"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st1:504"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:508"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:509"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:510"><span class="id" title="variable">mem1</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:523"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF_READ</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc1'</span> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_read"><span class="id" title="lemma">local_wf_read</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc2</span> <span class="id" title="var">mem2</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_CLOSED'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem2</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WF_READ</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#closed_mem_implies_closed_msg"><span class="id" title="lemma">closed_mem_implies_closed_msg</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#Thread_consistent_to_consistent_nprm"><span class="id" title="lemma">Thread_consistent_to_consistent_nprm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CAP_EXIST</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem2':533" class="idref" href="#mem2':533"><span class="id" title="binder">mem2'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <span class="id" title="var">mem2</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2':532"><span class="id" title="variable">mem2'</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_exists"><span class="id" title="lemma">Memory.cap_exists</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem2'</span> &amp; <span class="id" title="var">CAP_EXIST</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="sc1':535" class="idref" href="#sc1':535"><span class="id" title="binder">sc1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap"><span class="id" title="definition">Memory.max_concrete_timemap</span></a> <span class="id" title="var">mem2'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1':534"><span class="id" title="variable">sc1'</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap_exists"><span class="id" title="lemma">Memory.max_concrete_timemap_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sc1'</span> &amp; <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">CONS'</span>: <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CONS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS'</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e2</span> &amp; <span class="id" title="var">CONS'</span> &amp; <span class="id" title="var">FULFILL'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ConsistentProp.html#write_not_add_cap_exit"><span class="id" title="lemma">write_not_add_cap_exit</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_READ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc0</span>). <span class="id" title="var">introv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WRITE'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem'</span> &amp; <span class="id" title="var">WRITE'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF''</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc2</span> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CLOSED_MEM''</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">releasedr</span> := <span class="id" title="var">releasedr</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#closed_mem_implies_closed_msg"><span class="id" title="lemma">closed_mem_implies_closed_msg</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">CONS'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#additional_msg_consistent_construction"><span class="id" title="lemma">additional_msg_consistent_construction</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="var">mem2'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts</span> := <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts'</span> := <a class="idref" href="CompOptCert.Time.html#Time.join"><span class="id" title="definition">Time.join</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>) (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem'</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">CONS'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st''</span> &amp; <span class="id" title="var">lc''</span> &amp; <span class="id" title="var">sc''</span> &amp; <span class="id" title="var">mem''</span> &amp; <span class="id" title="var">TAU_STEPS'</span> &amp; <span class="id" title="var">FULFILL''</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.update"><span class="id" title="constructor">ThreadEvent.update</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">tsw</span> <span class="id" title="var">valr</span> <span class="id" title="var">valw</span> <span class="id" title="var">releasedr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">releasedr</span> <span class="id" title="var">ordw</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ordr</span> <span class="id" title="var">ordw</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STATE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">lc1'</span>). <span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">RELEASE</span>: <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RELEASE</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">TAU_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_l"><span class="id" title="lemma">Time.join_l</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val</span> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">MSG</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ConsistentProp.html#write_step_not_add_cap_get_stable"><span class="id" title="lemma">write_step_not_add_cap_get_stable</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_optviewinj"><span class="id" title="lemma">spec_inj_optviewinj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_monotonic"><span class="id" title="lemma">spec_inj_monotonic</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#TViewInj_spec_inj_id"><span class="id" title="lemma">TViewInj_spec_inj_id</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_implies_promises_inj"><span class="id" title="lemma">spec_inj_implies_promises_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">msg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to</span> <span class="id" title="var">mem0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{     <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITE'</span> <span class="id" title="var">GET</span> <span class="id" title="var">H</span> <span class="id" title="var">NOADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="var">mem1</span> <span class="id" title="var">loc0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem2</span> <span class="id" title="var">loc0</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_slice_inj"><span class="id" title="lemma">Memory.cap_slice_inj</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1'</span> := <span class="id" title="var">mem0</span>) (<span class="id" title="var">mem2'</span> := <span class="id" title="var">mem2'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Memory.get</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITE</span> <span class="id" title="var">H</span> <span class="id" title="var">NOADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">SPLIT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> <span class="id" title="var">mem1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem1</span> <span class="id" title="var">loc0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOWER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> <span class="id" title="var">mem1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem1</span> <span class="id" title="var">loc0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_cap_covered"><span class="id" title="lemma">MemoryProps.memory_cap_covered</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a> <span class="id" title="var">ts</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#spec_view_intro_le_max_ts"><span class="id" title="constructor">spec_view_intro_le_max_ts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>|<span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>). <span class="id" title="var">introv</span> <span class="id" title="var">MAX_TS</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.acq"><span class="id" title="projection">TView.acq</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc2</span>)) <span class="id" title="var">loc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">idtac</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF_READ</span> <span class="id" title="var">WRITE</span> <span class="id" title="var">NOADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_READ</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">TVIEW_WF</span> <span class="id" title="var">PROMISES</span> <span class="id" title="var">FINITE</span> <span class="id" title="var">BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get1"><span class="id" title="lemma">Memory.split_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_spec"><span class="id" title="lemma">Time.join_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.MsgMapping.html#Loc_add_eq"><span class="id" title="lemma">Loc_add_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get1"><span class="id" title="lemma">Memory.lower_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_spec"><span class="id" title="lemma">Time.join_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.MsgMapping.html#Loc_add_eq"><span class="id" title="lemma">Loc_add_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#gt_max_not_covered"><span class="id" title="lemma">Cover.gt_max_not_covered</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H1</span> <span class="id" title="var">MAX</span> <span class="id" title="var">ITV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_2"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">TO</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H1</span> <span class="id" title="var">MAX</span> <span class="id" title="var">ITV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_2"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">TO</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">BACK</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fence_no_sc_step_consistent_construction" class="idref" href="#fence_no_sc_step_consistent_construction"><span class="id" title="lemma">fence_no_sc_step_consistent_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:536" class="idref" href="#lang:536"><span class="id" title="binder">lang</span></a> <a id="ordr:537" class="idref" href="#ordr:537"><span class="id" title="binder">ordr</span></a> <a id="ordw:538" class="idref" href="#ordw:538"><span class="id" title="binder">ordw</span></a> <a id="st1:539" class="idref" href="#st1:539"><span class="id" title="binder">st1</span></a> <a id="lc1:540" class="idref" href="#lc1:540"><span class="id" title="binder">lc1</span></a> <a id="sc1:541" class="idref" href="#sc1:541"><span class="id" title="binder">sc1</span></a> <a id="mem:542" class="idref" href="#mem:542"><span class="id" title="binder">mem</span></a> <a id="st2:543" class="idref" href="#st2:543"><span class="id" title="binder">st2</span></a> <a id="lc2:544" class="idref" href="#lc2:544"><span class="id" title="binder">lc2</span></a> <a id="sc2:545" class="idref" href="#sc2:545"><span class="id" title="binder">sc2</span></a> <a id="lo:546" class="idref" href="#lo:546"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STATE:547" class="idref" href="#STATE:547"><span class="id" title="binder">STATE</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:536"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.fence"><span class="id" title="constructor">ProgramEvent.fence</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:537"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordw:538"><span class="id" title="variable">ordw</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#st1:539"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:543"><span class="id" title="variable">st2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FENCE:548" class="idref" href="#FENCE:548"><span class="id" title="binder">FENCE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.fence_step"><span class="id" title="inductive">Local.fence_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:540"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:541"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:537"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordw:538"><span class="id" title="variable">ordw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:544"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:545"><span class="id" title="variable">sc2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:549" class="idref" href="#CONS:549"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:536"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:543"><span class="id" title="variable">st2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:544"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:545"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:542"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:546"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_SC:550" class="idref" href="#NO_SC:550"><span class="id" title="binder">NO_SC</span></a>: <a class="idref" href="CompOptCert.ConsistentProp.html#ordw:538"><span class="id" title="variable">ordw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:536"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st1:539"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:540"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:541"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem:542"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:546"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Thread.consistent</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.fence"><span class="id" title="constructor">ThreadEvent.fence</span></a> <span class="id" title="var">ordr</span> <span class="id" title="var">ordw</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">FENCE</span> <span class="id" title="var">NO_SC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FENCE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.MsgMapping.html#write_fence_tview_not_sc"><span class="id" title="lemma">write_fence_tview_not_sc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.MsgMapping.html#write_fence_tview_not_sc"><span class="id" title="lemma">write_fence_tview_not_sc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.TView.html#TView.write_fence_sc"><span class="id" title="definition">TView.write_fence_sc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Event.html#Ordering.le"><span class="id" title="definition">Ordering.le</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a> <span class="id" title="var">ordw</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ordw</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="program_step_consistent_construction" class="idref" href="#program_step_consistent_construction"><span class="id" title="lemma">program_step_consistent_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:551" class="idref" href="#lang:551"><span class="id" title="binder">lang</span></a> <a id="te:552" class="idref" href="#te:552"><span class="id" title="binder">te</span></a> (<a id="e:553" class="idref" href="#e:553"><span class="id" title="binder">e</span></a> <a id="e':554" class="idref" href="#e':554"><span class="id" title="binder">e'</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:551"><span class="id" title="variable">lang</span></a>) <a id="lo:555" class="idref" href="#lo:555"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:556" class="idref" href="#LOCAL_WF:556"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:553"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:553"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED:557" class="idref" href="#CLOSED:557"><span class="id" title="binder">CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:553"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROG:558" class="idref" href="#PROG:558"><span class="id" title="binder">PROG</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:552"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:555"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:553"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':554"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOSC:560" class="idref" href="#NOSC:560"><span class="id" title="binder">NOSC</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="ordr:559" class="idref" href="#ordr:559"><span class="id" title="binder">ordr</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:552"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.fence"><span class="id" title="constructor">ThreadEvent.fence</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:559"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TAU:561" class="idref" href="#TAU:561"><span class="id" title="binder">TAU</span></a>: <a class="idref" href="CompOptCert.Local.html#ThreadEvent.get_machine_event"><span class="id" title="definition">ThreadEvent.get_machine_event</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#te:552"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#MachineEvent.silent"><span class="id" title="constructor">MachineEvent.silent</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:562" class="idref" href="#CONS:562"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':554"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:555"><span class="id" title="variable">lo</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e0:563" class="idref" href="#e0:563"><span class="id" title="binder">e0</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:555"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:553"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:563"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:563"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:555"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Thread.consistent</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#read_step_consistent_construction"><span class="id" title="lemma">read_step_consistent_construction</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">kind</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#write_add_step_consistent_construction"><span class="id" title="lemma">write_add_step_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#write_not_add_step_consistent_construction"><span class="id" title="lemma">write_not_add_step_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">kind</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ConsistentProp.html#update_add_step_consistent_construction"><span class="id" title="lemma">update_add_step_consistent_construction</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL2</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#update_not_add_step_consistent_construction"><span class="id" title="lemma">update_not_add_step_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#fence_no_sc_step_consistent_construction"><span class="id" title="lemma">fence_no_sc_step_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">NOSC</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lower_PF_cap_exit" class="idref" href="#lower_PF_cap_exit"><span class="id" title="lemma">lower_PF_cap_exit</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="mem1:564" class="idref" href="#mem1:564"><span class="id" title="binder">mem1</span></a> <a id="mem1':565" class="idref" href="#mem1':565"><span class="id" title="binder">mem1'</span></a> <a id="lc1:566" class="idref" href="#lc1:566"><span class="id" title="binder">lc1</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="mem2:567" class="idref" href="#mem2:567"><span class="id" title="binder">mem2</span></a> <a id="mem2':568" class="idref" href="#mem2':568"><span class="id" title="binder">mem2'</span></a> <a id="lc2:569" class="idref" href="#lc2:569"><span class="id" title="binder">lc2</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc:570" class="idref" href="#loc:570"><span class="id" title="binder">loc</span></a> <a id="from:571" class="idref" href="#from:571"><span class="id" title="binder">from</span></a> <a id="to:572" class="idref" href="#to:572"><span class="id" title="binder">to</span></a> <a id="val:573" class="idref" href="#val:573"><span class="id" title="binder">val</span></a> <a id="val0:574" class="idref" href="#val0:574"><span class="id" title="binder">val0</span></a> <a id="released:575" class="idref" href="#released:575"><span class="id" title="binder">released</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LE:576" class="idref" href="#LE:576"><span class="id" title="binder">LE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:566"><span class="id" title="variable">lc1</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:564"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE:577" class="idref" href="#WRITE:577"><span class="id" title="binder">WRITE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:566"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:564"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:570"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:571"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:572"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val0:574"><span class="id" title="variable">val0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:569"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:567"><span class="id" title="variable">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:573"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#released:575"><span class="id" title="variable">released</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CAP1:578" class="idref" href="#CAP1:578"><span class="id" title="binder">CAP1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:564"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':565"><span class="id" title="variable">mem1'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CAP2:579" class="idref" href="#CAP2:579"><span class="id" title="binder">CAP2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:567"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2':568"><span class="id" title="variable">mem2'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED:580" class="idref" href="#CLOSED:580"><span class="id" title="binder">CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:564"><span class="id" title="variable">mem1</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem':581" class="idref" href="#mem':581"><span class="id" title="binder">mem'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:566"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':565"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:570"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:571"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:572"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val0:574"><span class="id" title="variable">val0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:569"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':581"><span class="id" title="variable">mem'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:573"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#released:575"><span class="id" title="variable">released</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">mem1'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP1</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">LE</span> <span class="id" title="var">SOUND</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Memory.le</span>; <span class="id" title="var">ii</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_exists_le"><span class="id" title="lemma">Memory.lower_exists_le</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">mem0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lower_PF_consistent_construction" class="idref" href="#lower_PF_consistent_construction"><span class="id" title="lemma">lower_PF_consistent_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:582" class="idref" href="#lang:582"><span class="id" title="binder">lang</span></a> <a id="st2:583" class="idref" href="#st2:583"><span class="id" title="binder">st2</span></a> <a id="loc:584" class="idref" href="#loc:584"><span class="id" title="binder">loc</span></a> <a id="lc1:585" class="idref" href="#lc1:585"><span class="id" title="binder">lc1</span></a> <a id="sc1:586" class="idref" href="#sc1:586"><span class="id" title="binder">sc1</span></a> <a id="mem1:587" class="idref" href="#mem1:587"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="from:588" class="idref" href="#from:588"><span class="id" title="binder">from</span></a> <a id="to:589" class="idref" href="#to:589"><span class="id" title="binder">to</span></a> <a id="val:590" class="idref" href="#val:590"><span class="id" title="binder">val</span></a> <a id="val0:591" class="idref" href="#val0:591"><span class="id" title="binder">val0</span></a> <a id="released:592" class="idref" href="#released:592"><span class="id" title="binder">released</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:593" class="idref" href="#lc2:593"><span class="id" title="binder">lc2</span></a> <a id="sc2:594" class="idref" href="#sc2:594"><span class="id" title="binder">sc2</span></a> <a id="mem2:595" class="idref" href="#mem2:595"><span class="id" title="binder">mem2</span></a> <a id="lo:596" class="idref" href="#lo:596"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROM:597" class="idref" href="#PROM:597"><span class="id" title="binder">PROM</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:585"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:587"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:584"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:588"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:589"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val0:591"><span class="id" title="variable">val0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:593"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:595"><span class="id" title="variable">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:590"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#released:592"><span class="id" title="variable">released</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:598" class="idref" href="#CONS:598"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:582"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:583"><span class="id" title="variable">st2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc2:593"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc2:594"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2:595"><span class="id" title="variable">mem2</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:596"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:599" class="idref" href="#LOCAL_WF:599"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:585"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:587"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:600" class="idref" href="#MEM_CLOSED:600"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:587"><span class="id" title="variable">mem1</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:582"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#st2:583"><span class="id" title="variable">st2</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lc1:585"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1:586"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1:587"><span class="id" title="variable">mem1</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:596"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc2</span> <span class="id" title="var">mem2</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_CLOSED'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem2</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WF</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#Thread_consistent_to_consistent_nprm"><span class="id" title="lemma">Thread_consistent_to_consistent_nprm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CAP_EXIST</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem2':602" class="idref" href="#mem2':602"><span class="id" title="binder">mem2'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <span class="id" title="var">mem2</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2':601"><span class="id" title="variable">mem2'</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_exists"><span class="id" title="lemma">Memory.cap_exists</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem2'</span> &amp; <span class="id" title="var">CAP_EXIST</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="sc1':604" class="idref" href="#sc1':604"><span class="id" title="binder">sc1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap"><span class="id" title="definition">Memory.max_concrete_timemap</span></a> <span class="id" title="var">mem2'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1':603"><span class="id" title="variable">sc1'</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap_exists"><span class="id" title="lemma">Memory.max_concrete_timemap_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sc1'</span> &amp; <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">CONS'</span>: <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CONS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS'</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e2</span> &amp; <span class="id" title="var">CONS'</span> &amp; <span class="id" title="var">FULFILL'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ConsistentProp.html#lower_PF_cap_exit"><span class="id" title="lemma">lower_PF_cap_exit</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">introv</span> <span class="id" title="var">PROM'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PROM'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem'</span> &amp; <span class="id" title="var">PROM'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF''</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc2</span> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROM'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CLOSED_MEM''</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">CONS'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#additional_msg_consistent_construction"><span class="id" title="lemma">additional_msg_consistent_construction</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="var">mem2'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts</span> := <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts'</span> := <a class="idref" href="CompOptCert.Time.html#Time.join"><span class="id" title="definition">Time.join</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2'</span>) (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem'</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">CONS'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st''</span> &amp; <span class="id" title="var">lc''</span> &amp; <span class="id" title="var">sc''</span> &amp; <span class="id" title="var">mem''</span> &amp; <span class="id" title="var">TAU_STEPS'</span> &amp; <span class="id" title="var">FULFILL''</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_promise"><span class="id" title="constructor">Thread.step_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROM'</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">TAU_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_l"><span class="id" title="lemma">Time.join_l</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val1</span> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">MSG</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ConsistentProp.html#lower_PF_cap_get_stable"><span class="id" title="lemma">lower_PF_cap_get_stable</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_optviewinj"><span class="id" title="lemma">spec_inj_optviewinj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem2'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_monotonic"><span class="id" title="lemma">spec_inj_monotonic</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#TViewInj_spec_inj_id"><span class="id" title="lemma">TViewInj_spec_inj_id</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_implies_promises_inj"><span class="id" title="lemma">spec_inj_implies_promises_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">msg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to0</span> <span class="id" title="var">mem0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{     <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PROM'</span> <span class="id" title="var">GET</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROM'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="var">mem1</span> <span class="id" title="var">loc0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem2</span> <span class="id" title="var">loc0</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_slice_inj"><span class="id" title="lemma">Memory.cap_slice_inj</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1'</span> := <span class="id" title="var">mem0</span>) (<span class="id" title="var">mem2'</span> := <span class="id" title="var">mem2'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Memory.get</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PROM</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOWER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> <span class="id" title="var">mem1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem1</span> <span class="id" title="var">loc0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_cap_covered"><span class="id" title="lemma">MemoryProps.memory_cap_covered</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a> <span class="id" title="var">ts</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#spec_view_intro_le_max_ts"><span class="id" title="constructor">spec_view_intro_le_max_ts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>|<span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>). <span class="id" title="var">introv</span> <span class="id" title="var">MAX_TS</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.acq"><span class="id" title="projection">TView.acq</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc2</span>)) <span class="id" title="var">loc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">idtac</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF</span> <span class="id" title="var">PROM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">TVIEW_WF</span> <span class="id" title="var">PROMISES</span> <span class="id" title="var">FINITE</span> <span class="id" title="var">BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get1"><span class="id" title="lemma">Memory.lower_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#gt_max_not_covered"><span class="id" title="lemma">Cover.gt_max_not_covered</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROM'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H1</span> <span class="id" title="var">MAX</span> <span class="id" title="var">ITV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_2"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">TO</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">BACK</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem2</span>))); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="write_step_attached_consistent_construction" class="idref" href="#write_step_attached_consistent_construction"><span class="id" title="lemma">write_step_attached_consistent_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:605" class="idref" href="#lang:605"><span class="id" title="binder">lang</span></a> (<a id="e:606" class="idref" href="#e:606"><span class="id" title="binder">e</span></a> <a id="e':607" class="idref" href="#e':607"><span class="id" title="binder">e'</span></a> <a id="e'':608" class="idref" href="#e'':608"><span class="id" title="binder">e''</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:605"><span class="id" title="variable">lang</span></a>) <a id="from:609" class="idref" href="#from:609"><span class="id" title="binder">from</span></a> <a id="loc:610" class="idref" href="#loc:610"><span class="id" title="binder">loc</span></a> <a id="ts:611" class="idref" href="#ts:611"><span class="id" title="binder">ts</span></a> <a id="to:612" class="idref" href="#to:612"><span class="id" title="binder">to</span></a> <a id="val:613" class="idref" href="#val:613"><span class="id" title="binder">val</span></a> <a id="released:614" class="idref" href="#released:614"><span class="id" title="binder">released</span></a> <a id="ordw:615" class="idref" href="#ordw:615"><span class="id" title="binder">ordw</span></a> <a id="lo:616" class="idref" href="#lo:616"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:617" class="idref" href="#LOCAL_WF:617"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:606"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:606"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED:618" class="idref" href="#CLOSED:618"><span class="id" title="binder">CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:606"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROG:619" class="idref" href="#PROG:619"><span class="id" title="binder">PROG</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> (<a class="idref" href="CompOptCert.Local.html#ThreadEvent.write"><span class="id" title="constructor">ThreadEvent.write</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:610"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#from:609"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ts:611"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#val:613"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#released:614"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordw:615"><span class="id" title="variable">ordw</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:616"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:606"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':607"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ATTACH_RESERVE:620" class="idref" href="#ATTACH_RESERVE:620"><span class="id" title="binder">ATTACH_RESERVE</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="CompOptCert.Local.html#ThreadEvent.promise"><span class="id" title="constructor">ThreadEvent.promise</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:610"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ts:611"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:612"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e':607"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e'':608"><span class="id" title="variable">e''</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:621" class="idref" href="#CONS:621"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e'':608"><span class="id" title="variable">e''</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:616"><span class="id" title="variable">lo</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e0:622" class="idref" href="#e0:622"><span class="id" title="binder">e0</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:616"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:606"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:622"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:622"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:616"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ATTACH_RESERVE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_write_reserve"><span class="id" title="lemma">reorder_write_reserve</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#write_add_step_consistent_construction"><span class="id" title="lemma">write_add_step_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#write_not_add_step_consistent_construction"><span class="id" title="lemma">write_not_add_step_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#write_not_add_step_consistent_construction"><span class="id" title="lemma">write_not_add_step_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">PF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc3</span> <span class="id" title="var">mem3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>, <span class="id" title="var">lc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_CLOSED'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#Thread_consistent_to_consistent_nprm"><span class="id" title="lemma">Thread_consistent_to_consistent_nprm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CAP_EXIST</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem3':624" class="idref" href="#mem3':624"><span class="id" title="binder">mem3'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <span class="id" title="var">mem3</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem3':623"><span class="id" title="variable">mem3'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_exists"><span class="id" title="lemma">Memory.cap_exists</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem3'</span> &amp; <span class="id" title="var">CAP_EXIST</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="sc1':626" class="idref" href="#sc1':626"><span class="id" title="binder">sc1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap"><span class="id" title="definition">Memory.max_concrete_timemap</span></a> <span class="id" title="var">mem3'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1':625"><span class="id" title="variable">sc1'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap_exists"><span class="id" title="lemma">Memory.max_concrete_timemap_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sc1'</span> &amp; <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LT_ADD1</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">from</span> <span class="id" title="var">ts</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>, <span class="id" title="var">lc2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_msg_wf"><span class="id" title="lemma">MemoryProps.write_msg_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL1</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LT_ADD2</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">ts</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL1</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER1</span>: <span class="id" title="keyword">∀</span> <a id="t:628" class="idref" href="#t:628"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ts</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:627"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:627"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_add_cover_disjoint"><span class="id" title="lemma">MemoryProps.memory_add_cover_disjoint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER2</span>: <span class="id" title="keyword">∀</span> <a id="t:630" class="idref" href="#t:630"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ts</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:629"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:629"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="keyword">∀</span> <a id="t:632" class="idref" href="#t:632"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ts</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:631"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:631"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem2</span>). <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#add_covered"><span class="id" title="lemma">Cover.add_covered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_add_cover_disjoint"><span class="id" title="lemma">MemoryProps.memory_add_cover_disjoint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER</span>: <span class="id" title="keyword">∀</span> <a id="t:634" class="idref" href="#t:634"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:633"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:633"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NOT_COVER1</span> <span class="id" title="var">NOT_COVER2</span> <span class="id" title="var">LT_ADD1</span> <span class="id" title="var">LT_ADD2</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Interval.mem_split"><span class="id" title="lemma">Interval.mem_split</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mb</span> := <span class="id" title="var">ts</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem':636" class="idref" href="#mem':636"><span class="id" title="binder">mem'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <span class="id" title="var">mem1</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':635"><span class="id" title="variable">mem'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LT_ADD1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LT_ADD2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MEM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem'</span> &amp; <span class="id" title="var">MEM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises':638" class="idref" href="#promises':638"><span class="id" title="binder">promises'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises':637"><span class="id" title="variable">promises'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF</span> <span class="id" title="var">NOT_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_le_covered"><span class="id" title="lemma">MemoryProps.memory_le_covered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises'</span> &amp; <span class="id" title="var">PRM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONS'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e2</span> &amp; <span class="id" title="var">TAU_STEPS</span> &amp; <span class="id" title="var">FULFILL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_MEM</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem0':640" class="idref" href="#mem0':640"><span class="id" title="binder">mem0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">mem0</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem0':639"><span class="id" title="variable">mem0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <span class="id" title="var">mem'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem0'</span> &amp; <span class="id" title="var">REMOVE_RSV_MEM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_PRM</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises0':642" class="idref" href="#promises0':642"><span class="id" title="binder">promises0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">promises'</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises0':641"><span class="id" title="variable">promises0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_PRM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises0'</span> &amp; <span class="id" title="var">REMOVE_RSV_PRM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_NOT_COVER</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:644" class="idref" href="#t:644"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:643"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:643"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#remove_not_cover"><span class="id" title="lemma">Cover.remove_not_cover</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <span class="id" title="var">promises'</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">WRITE'</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem1':646" class="idref" href="#mem1':646"><span class="id" title="binder">mem1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.write"><span class="id" title="inductive">Memory.write</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">ts</span> <span class="id" title="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ordw</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">promises0'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':645"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_succeed_valid"><span class="id" title="lemma">MemoryProps.write_succeed_valid</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">LT_ADD1</span> <span class="id" title="var">LT_ADD2</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TS0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LT_ADD1</span> <span class="id" title="var">LT_ADD2</span>  <span class="id" title="var">REMOVE_NOT_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONTR</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CONTR</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_ADD1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_ADD1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WRITE'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem1'</span> &amp; <span class="id" title="var">WRITE'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_memory_le"><span class="id" title="lemma">MemoryProps.write_memory_le</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">STILL_NOT_COVER</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:648" class="idref" href="#t:648"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">ts</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:647"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:647"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">WRITE'</span> <span class="id" title="var">LT_ADD1</span> <span class="id" title="var">LT_ADD2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ii</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#add_covered"><span class="id" title="lemma">Cover.add_covered</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.lt_le_lt"><span class="id" title="lemma">TimeFacts.lt_le_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_1"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_ADD'</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem2':650" class="idref" href="#mem2':650"><span class="id" title="binder">mem2'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <span class="id" title="var">mem1'</span> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2':649"><span class="id" title="variable">mem2'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MEM_ADD'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem2'</span> &amp; <span class="id" title="var">MEM_ADD'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_ADD'</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises2':652" class="idref" href="#promises2':652"><span class="id" title="binder">promises2'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises2':651"><span class="id" title="variable">promises2'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PRM_LE'</span> <span class="id" title="var">STILL_NOT_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">STILL_NOT_COVER</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_le_covered"><span class="id" title="lemma">MemoryProps.memory_le_covered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PRM_ADD'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises2'</span> &amp; <span class="id" title="var">PROM_ADD'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">TAU_STEPS</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WRITE</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">sc0</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">from</span> <span class="id" title="var">ts</span> <span class="id" title="var">val</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ordw</span>) <span class="id" title="var">ordw</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_tview"><span class="id" title="definition">TView.write_tview</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <span class="id" title="var">ordw</span>) <span class="id" title="var">promises0'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sc0</span> <span class="id" title="var">mem1'</span> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITABLE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITABLE</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NONSYNC</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NONSYNC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NONSYNC</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="var">REMOVE_RSV_PRM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#remove_non_synch_loc"><span class="id" title="lemma">remove_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_RSV_PRM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_PROMISE</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_tview"><span class="id" title="definition">TView.write_tview</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <span class="id" title="var">ordw</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">mem1'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_tview"><span class="id" title="definition">TView.write_tview</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <span class="id" title="var">ordw</span>) <span class="id" title="var">promises2'</span>) <span class="id" title="var">mem2'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ADD_LT_MAX</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">ts</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span> <span class="id" title="var">LT_ADD2</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.lt_le_lt"><span class="id" title="lemma">TimeFacts.lt_le_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ADD_LE_MAX</span>: <a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> <span class="id" title="var">to</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span> <span class="id" title="var">LT_ADD2</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF''</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> {| <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> := <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>; <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> := <span class="id" title="var">promises0'</span> |} <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_add"><span class="id" title="constructor">Memory.promise_add</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PROM_EQ</span>: <span class="id" title="var">promises2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">promises2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PROMISES</span> <span class="id" title="var">PROM_ADD'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.ext"><span class="id" title="lemma">Memory.ext</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">ts0</span> <span class="id" title="var">promises2</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">from'</span> <span class="id" title="var">msg'</span>] | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#additional_msg_consistent_construction"><span class="id" title="lemma">additional_msg_consistent_construction</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="var">mem3'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts</span> := <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts'</span> := <a class="idref" href="CompOptCert.Time.html#Time.join"><span class="id" title="definition">Time.join</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3'</span>) (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st''</span> &amp; <span class="id" title="var">lc''</span> &amp; <span class="id" title="var">sc''</span> &amp; <span class="id" title="var">mem''</span> &amp; <span class="id" title="var">TAU_STEPS'</span> &amp; <span class="id" title="var">FULFILL'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_promise"><span class="id" title="constructor">Thread.step_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.write"><span class="id" title="constructor">ThreadEvent.write</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">ts</span> <span class="id" title="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="var">ordw</span>) <span class="id" title="var">ordw</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STATE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_write"><span class="id" title="constructor">Local.step_write</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_promise"><span class="id" title="constructor">Thread.step_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">TAU_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem3</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem0'</span>). <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_PROMISE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LC2</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem3</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_l"><span class="id" title="lemma">Time.join_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_optviewinj"><span class="id" title="lemma">spec_inj_optviewinj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem3</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val0</span> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MSG</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.concrete_msg_remove_rsv_stable"><span class="id" title="lemma">Memory.concrete_msg_remove_rsv_stable</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem3'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_monotonic"><span class="id" title="lemma">spec_inj_monotonic</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#TViewInj_spec_inj_id"><span class="id" title="lemma">TViewInj_spec_inj_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">promises2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_implies_promises_inj"><span class="id" title="lemma">spec_inj_implies_promises_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to0</span> <span class="id" title="var">mem0'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITE'</span> <span class="id" title="var">LOCAL_PROMISE</span> <span class="id" title="var">GET</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_PROMISE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LC2</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="var">mem'</span> <span class="id" title="var">loc0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem3</span> <span class="id" title="var">loc0</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_slice_inj"><span class="id" title="lemma">Memory.cap_slice_inj</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1'</span> := <span class="id" title="var">mem0</span>) (<span class="id" title="var">mem2'</span> := <span class="id" title="var">mem3'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Memory.get</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_ADD</span> <span class="id" title="var">MEM0</span> <span class="id" title="var">MEM</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM_ADD</span>; <span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>; <span class="id" title="var">inv</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="var">inv</span> <span class="id" title="var">ADD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentFun.add_add_eq"><span class="id" title="lemma">IdentFun.add_add_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> <span class="id" title="var">mem1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r0</span> <span class="id" title="var">mem1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_cap_covered"><span class="id" title="lemma">MemoryProps.memory_cap_covered</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a> <span class="id" title="var">ts</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#spec_view_intro_le_max_ts"><span class="id" title="constructor">spec_view_intro_le_max_ts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>|<span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>). <span class="id" title="var">introv</span> <span class="id" title="var">MAX_TS</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> (<a class="idref" href="CompOptCert.View.html#TimeMap.join"><span class="id" title="definition">TimeMap.join</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.acq"><span class="id" title="projection">TView.acq</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>))) (<a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span>) <span class="id" title="var">loc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">idtac</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_spec"><span class="id" title="lemma">Time.join_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">TVIEW_WF</span> <span class="id" title="var">PROMISES</span> <span class="id" title="var">FINITE</span> <span class="id" title="var">BOT</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">TimeMap.join</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_join"><span class="id" title="lemma">Time_le_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.init"><span class="id" title="definition">LocFun.init</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ts</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">LocFun.find</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_eq"><span class="id" title="lemma">LocFun.add_spec_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#gt_max_not_covered"><span class="id" title="lemma">Cover.gt_max_not_covered</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_PROMISE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LC2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">ITV</span> <span class="id" title="var">ADD_LE_MAX</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to</span> <span class="id" title="var">ts'</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">ITV</span> <span class="id" title="var">GET</span> <span class="id" title="var">H0</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="var">WRITE'</span> <span class="id" title="var">ADD_LT_MAX</span> <span class="id" title="var">ADD_LE_MAX</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">H1</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">ts</span> <span class="id" title="var">ts'</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">FROM</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD_LT_MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem0</span>) <span class="id" title="var">to0</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MAX</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.lt_le_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.lt_le_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">BACK</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3</span>))); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="update_step_attached_consistent_construction" class="idref" href="#update_step_attached_consistent_construction"><span class="id" title="lemma">update_step_attached_consistent_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:653" class="idref" href="#lang:653"><span class="id" title="binder">lang</span></a> (<a id="e:654" class="idref" href="#e:654"><span class="id" title="binder">e</span></a> <a id="e':655" class="idref" href="#e':655"><span class="id" title="binder">e'</span></a> <a id="e'':656" class="idref" href="#e'':656"><span class="id" title="binder">e''</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:653"><span class="id" title="variable">lang</span></a>) <a id="tsr:657" class="idref" href="#tsr:657"><span class="id" title="binder">tsr</span></a> <a id="loc:658" class="idref" href="#loc:658"><span class="id" title="binder">loc</span></a> <a id="tsw:659" class="idref" href="#tsw:659"><span class="id" title="binder">tsw</span></a> <a id="to:660" class="idref" href="#to:660"><span class="id" title="binder">to</span></a> <a id="valr:661" class="idref" href="#valr:661"><span class="id" title="binder">valr</span></a> <a id="valw:662" class="idref" href="#valw:662"><span class="id" title="binder">valw</span></a> <a id="releasedr:663" class="idref" href="#releasedr:663"><span class="id" title="binder">releasedr</span></a> <a id="released:664" class="idref" href="#released:664"><span class="id" title="binder">released</span></a> <a id="ordr:665" class="idref" href="#ordr:665"><span class="id" title="binder">ordr</span></a> <a id="ordw:666" class="idref" href="#ordw:666"><span class="id" title="binder">ordw</span></a> <a id="lo:667" class="idref" href="#lo:667"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:668" class="idref" href="#LOCAL_WF:668"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:654"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:654"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED:669" class="idref" href="#CLOSED:669"><span class="id" title="binder">CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:654"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROG:670" class="idref" href="#PROG:670"><span class="id" title="binder">PROG</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> (<a class="idref" href="CompOptCert.Local.html#ThreadEvent.update"><span class="id" title="constructor">ThreadEvent.update</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:658"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#tsr:657"><span class="id" title="variable">tsr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#tsw:659"><span class="id" title="variable">tsw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#valr:661"><span class="id" title="variable">valr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#valw:662"><span class="id" title="variable">valw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#releasedr:663"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#released:664"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:665"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordw:666"><span class="id" title="variable">ordw</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#lo:667"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:654"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':655"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ATTACH_RESERVE:671" class="idref" href="#ATTACH_RESERVE:671"><span class="id" title="binder">ATTACH_RESERVE</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="CompOptCert.Local.html#ThreadEvent.promise"><span class="id" title="constructor">ThreadEvent.promise</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#loc:658"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#tsw:659"><span class="id" title="variable">tsw</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#to:660"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e':655"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e'':656"><span class="id" title="variable">e''</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONS:672" class="idref" href="#CONS:672"><span class="id" title="binder">CONS</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e'':656"><span class="id" title="variable">e''</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:667"><span class="id" title="variable">lo</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e0:673" class="idref" href="#e0:673"><span class="id" title="binder">e0</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:667"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:654"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:673"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:673"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:667"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ATTACH_RESERVE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_write_reserve"><span class="id" title="lemma">reorder_write_reserve</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_read_reservation"><span class="id" title="lemma">reorder_read_reservation</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#update_add_step_consistent_construction"><span class="id" title="lemma">update_add_step_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#update_not_add_step_consistent_construction"><span class="id" title="lemma">update_not_add_step_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#update_not_add_step_consistent_construction"><span class="id" title="lemma">update_not_add_step_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">PF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CLOSED_OPT_VIEW</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed_opt_view"><span class="id" title="inductive">Memory.closed_opt_view</span></a> <span class="id" title="var">releasedr</span> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL1</span> <span class="id" title="var">CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CLOSED0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MSG_CLOSED</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF_READ</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc4</span> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_read"><span class="id" title="lemma">local_wf_read</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc3</span> <span class="id" title="var">mem3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL2</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>, <span class="id" title="var">lc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_CLOSED'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#Thread_consistent_to_consistent_nprm"><span class="id" title="lemma">Thread_consistent_to_consistent_nprm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CAP_EXIST</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem3':675" class="idref" href="#mem3':675"><span class="id" title="binder">mem3'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <span class="id" title="var">mem3</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem3':674"><span class="id" title="variable">mem3'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_exists"><span class="id" title="lemma">Memory.cap_exists</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem3'</span> &amp; <span class="id" title="var">CAP_EXIST</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="sc1':677" class="idref" href="#sc1':677"><span class="id" title="binder">sc1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap"><span class="id" title="definition">Memory.max_concrete_timemap</span></a> <span class="id" title="var">mem3'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#sc1':676"><span class="id" title="variable">sc1'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap_exists"><span class="id" title="lemma">Memory.max_concrete_timemap_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sc1'</span> &amp; <span class="id" title="var">MAX_CONCRETE_TM_EXIT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LT_ADD1</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">tsr</span> <span class="id" title="var">tsw</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc4</span>, <span class="id" title="var">lc2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_msg_wf"><span class="id" title="lemma">MemoryProps.write_msg_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL2</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LT_ADD2</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">tsw</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL2</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER1</span>: <span class="id" title="keyword">∀</span> <a id="t:679" class="idref" href="#t:679"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">tsw</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:678"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:678"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_add_cover_disjoint"><span class="id" title="lemma">MemoryProps.memory_add_cover_disjoint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER2</span>: <span class="id" title="keyword">∀</span> <a id="t:681" class="idref" href="#t:681"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsw</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:680"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:680"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="keyword">∀</span> <a id="t:683" class="idref" href="#t:683"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsw</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:682"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:682"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem2</span>). <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#add_covered"><span class="id" title="lemma">Cover.add_covered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_add_cover_disjoint"><span class="id" title="lemma">MemoryProps.memory_add_cover_disjoint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_COVER</span>: <span class="id" title="keyword">∀</span> <a id="t:685" class="idref" href="#t:685"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:684"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:684"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NOT_COVER1</span> <span class="id" title="var">NOT_COVER2</span> <span class="id" title="var">LT_ADD1</span> <span class="id" title="var">LT_ADD2</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Interval.mem_split"><span class="id" title="lemma">Interval.mem_split</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mb</span> := <span class="id" title="var">tsw</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem':687" class="idref" href="#mem':687"><span class="id" title="binder">mem'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <span class="id" title="var">mem1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem':686"><span class="id" title="variable">mem'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LT_ADD1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">LT_ADD2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MEM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem'</span> &amp; <span class="id" title="var">MEM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises':689" class="idref" href="#promises':689"><span class="id" title="binder">promises'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises':688"><span class="id" title="variable">promises'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF</span> <span class="id" title="var">NOT_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_COVER</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_le_covered"><span class="id" title="lemma">MemoryProps.memory_le_covered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises'</span> &amp; <span class="id" title="var">PRM_ADD</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises'</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CONS</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONS'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">CONS'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e2</span> &amp; <span class="id" title="var">TAU_STEPS</span> &amp; <span class="id" title="var">FULFILL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_MEM</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem0':691" class="idref" href="#mem0':691"><span class="id" title="binder">mem0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">mem0</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem0':690"><span class="id" title="variable">mem0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <span class="id" title="var">mem'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem0'</span> &amp; <span class="id" title="var">REMOVE_RSV_MEM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_RSV_PRM</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises0':693" class="idref" href="#promises0':693"><span class="id" title="binder">promises0'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <span class="id" title="var">promises'</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises0':692"><span class="id" title="variable">promises0'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">REMOVE_RSV_PRM</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises0'</span> &amp; <span class="id" title="var">REMOVE_RSV_PRM</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REMOVE_NOT_COVER</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:695" class="idref" href="#t:695"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsr</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:694"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:694"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#remove_not_cover"><span class="id" title="lemma">Cover.remove_not_cover</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <span class="id" title="var">promises'</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_le"><span class="id" title="lemma">Memory.promise_le</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">promises1</span> := <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">WRITE'</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem1':697" class="idref" href="#mem1':697"><span class="id" title="binder">mem1'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.write"><span class="id" title="inductive">Memory.write</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">tsw</span> <span class="id" title="var">valw</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc4</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">releasedr</span> <span class="id" title="var">ordw</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">promises0'</span> <a class="idref" href="CompOptCert.ConsistentProp.html#mem1':696"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_succeed_valid"><span class="id" title="lemma">MemoryProps.write_succeed_valid</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">LT_ADD1</span> <span class="id" title="var">LT_ADD2</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TS0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LT_ADD1</span> <span class="id" title="var">LT_ADD2</span>  <span class="id" title="var">REMOVE_NOT_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CONTR</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CONTR</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_ADD1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LT_ADD1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WRITE'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem1'</span> &amp; <span class="id" title="var">WRITE'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_LE'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">mem1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_memory_le"><span class="id" title="lemma">MemoryProps.write_memory_le</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">STILL_NOT_COVER</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="t:699" class="idref" href="#t:699"><span class="id" title="binder">t</span></a>, <a class="idref" href="CompOptCert.Time.html#Interval.mem"><span class="id" title="inductive">Interval.mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">tsw</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#t:698"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Cover.html#covered"><span class="id" title="inductive">Cover.covered</span></a> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.ConsistentProp.html#t:698"><span class="id" title="variable">t</span></a> <span class="id" title="var">mem1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">WRITE'</span> <span class="id" title="var">LT_ADD1</span> <span class="id" title="var">LT_ADD2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ii</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">REMOVE_NOT_COVER</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_NOT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#add_covered"><span class="id" title="lemma">Cover.add_covered</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.lt_le_lt"><span class="id" title="lemma">TimeFacts.lt_le_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_1"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_ADD'</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem2':701" class="idref" href="#mem2':701"><span class="id" title="binder">mem2'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <span class="id" title="var">mem1'</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#mem2':700"><span class="id" title="variable">mem2'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">MEM_ADD'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem2'</span> &amp; <span class="id" title="var">MEM_ADD'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PRM_ADD'</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="promises2':703" class="idref" href="#promises2':703"><span class="id" title="binder">promises2'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <span class="id" title="var">promises0'</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#promises2':702"><span class="id" title="variable">promises2'</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#not_covered_add_succ"><span class="id" title="lemma">Cover.not_covered_add_succ</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PRM_LE'</span> <span class="id" title="var">STILL_NOT_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">STILL_NOT_COVER</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_le_covered"><span class="id" title="lemma">MemoryProps.memory_le_covered</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PRM_ADD'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promises2'</span> &amp; <span class="id" title="var">PROM_ADD'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">TAU_STEPS</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">e2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PROM_EQ0</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_READ</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc1</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">valr</span> <span class="id" title="var">releasedr</span> <span class="id" title="var">ordr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc4</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">from</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.concrete_msg_remove_rsv_stable"><span class="id" title="lemma">Memory.concrete_msg_remove_rsv_stable</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WRITE</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc4</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">sc0</span> <span class="id" title="var">mem0'</span> <span class="id" title="var">loc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tsr</span> <span class="id" title="var">tsw</span> <span class="id" title="var">valw</span> <span class="id" title="var">releasedr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc4</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">releasedr</span> <span class="id" title="var">ordw</span>) <span class="id" title="var">ordw</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_tview"><span class="id" title="definition">TView.write_tview</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc4</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">ordw</span>) <span class="id" title="var">promises0'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">sc0</span> <span class="id" title="var">mem1'</span> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITABLE</span> <span class="id" title="var">PROM_EQ0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITABLE</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NONSYNC</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NONSYNC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NONSYNC</span> <span class="id" title="var">PRM_ADD</span> <span class="id" title="var">REMOVE_RSV_PRM</span> <span class="id" title="var">PROM_EQ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PROM_EQ0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NONSYNC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#remove_non_synch_loc"><span class="id" title="lemma">remove_non_synch_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_RSV_PRM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_PROMISE</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_tview"><span class="id" title="definition">TView.write_tview</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc4</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">ordw</span>) <span class="id" title="var">promises0'</span>) <span class="id" title="var">mem1'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_tview"><span class="id" title="definition">TView.write_tview</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc4</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">ordw</span>) <span class="id" title="var">promises2'</span>) <span class="id" title="var">mem2'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ADD_LT_MAX</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">tsw</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span> <span class="id" title="var">LT_ADD2</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.lt_le_lt"><span class="id" title="lemma">TimeFacts.lt_le_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ADD_LE_MAX</span>: <a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> <span class="id" title="var">to</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span> <span class="id" title="var">LT_ADD2</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF''</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> {| <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> := <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc4</span>; <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> := <span class="id" title="var">promises0'</span> |} <span class="id" title="var">mem0'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_add"><span class="id" title="constructor">Memory.promise_add</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRM_ADD</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc4</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PROM_EQ</span>: <span class="id" title="var">promises2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">promises2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PROMISES</span> <span class="id" title="var">PROM_ADD'</span> <span class="id" title="var">PROM_EQ0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PROM_EQ0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">PROM_EQ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.ext"><span class="id" title="lemma">Memory.ext</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">ts</span> <span class="id" title="var">promises2</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">from'</span> <span class="id" title="var">msg'</span>] | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#additional_msg_consistent_construction"><span class="id" title="lemma">additional_msg_consistent_construction</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := (<a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="var">mem3'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts</span> := <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">max_ts'</span> := <a class="idref" href="CompOptCert.Time.html#Time.join"><span class="id" title="definition">Time.join</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3'</span>) (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st''</span> &amp; <span class="id" title="var">lc''</span> &amp; <span class="id" title="var">sc''</span> &amp; <span class="id" title="var">mem''</span> &amp; <span class="id" title="var">TAU_STEPS'</span> &amp; <span class="id" title="var">FULFILL'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_promise"><span class="id" title="constructor">Thread.step_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_PRM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV_MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.update"><span class="id" title="constructor">ThreadEvent.update</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">tsr</span> <span class="id" title="var">tsw</span> <span class="id" title="var">valr</span> <span class="id" title="var">valw</span> <span class="id" title="var">releasedr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc4</span>) <span class="id" title="var">sc1</span> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span> <span class="id" title="var">releasedr</span> <span class="id" title="var">ordw</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ordr</span> <span class="id" title="var">ordw</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STATE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_promise"><span class="id" title="constructor">Thread.step_promise</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">TAU_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem3</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem0'</span>). <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_PROMISE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LC2</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed_opt_view"><span class="id" title="lemma">Memory.cancel_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed_opt_view"><span class="id" title="lemma">Memory.cap_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed_opt_view"><span class="id" title="lemma">Memory.add_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem3</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WRITE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed_opt_view"><span class="id" title="lemma">Memory.cancel_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed_opt_view"><span class="id" title="lemma">Memory.cap_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed_opt_view"><span class="id" title="lemma">Memory.add_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed"><span class="id" title="lemma">Memory.cancel_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_identity_inj"><span class="id" title="lemma">spec_inj_identity_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_l"><span class="id" title="lemma">Time.join_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_optviewinj"><span class="id" title="lemma">spec_inj_optviewinj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem3</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val</span> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MSG</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.concrete_msg_remove_rsv_stable"><span class="id" title="lemma">Memory.concrete_msg_remove_rsv_stable</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem</span> := <span class="id" title="var">mem0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">mem3'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_monotonic"><span class="id" title="lemma">spec_inj_monotonic</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#TViewInj_spec_inj_id"><span class="id" title="lemma">TViewInj_spec_inj_id</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">promises2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_implies_promises_inj"><span class="id" title="lemma">spec_inj_implies_promises_inj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_le"><span class="id" title="lemma">Memory.cap_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">GET1</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to0</span> <span class="id" title="var">mem0'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITE'</span> <span class="id" title="var">LOCAL_PROMISE</span> <span class="id" title="var">GET</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_PROMISE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LC2</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<span class="id" title="var">mem'</span> <span class="id" title="var">loc0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">mem3</span> <span class="id" title="var">loc0</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_slice_inj"><span class="id" title="lemma">Memory.cap_slice_inj</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1'</span> := <span class="id" title="var">mem0</span>) (<span class="id" title="var">mem2'</span> := <span class="id" title="var">mem3'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Memory.get</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed"><span class="id" title="lemma">Memory.add_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_ADD</span> <span class="id" title="var">MEM0</span> <span class="id" title="var">MEM</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM_ADD</span>; <span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>; <span class="id" title="var">inv</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="var">inv</span> <span class="id" title="var">ADD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentFun.add_add_eq"><span class="id" title="lemma">IdentFun.add_add_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r</span> <span class="id" title="var">mem1</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="var">loc0</span> (<a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">r0</span> <span class="id" title="var">mem1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add_spec_neq"><span class="id" title="lemma">LocFun.add_spec_neq</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.find"><span class="id" title="definition">LocFun.find</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ts</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FROM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_cap_covered"><span class="id" title="lemma">MemoryProps.memory_cap_covered</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a> <span class="id" title="var">ts</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_bot_false"><span class="id" title="lemma">Time_lt_bot_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#spec_view_intro_le_max_ts"><span class="id" title="constructor">spec_view_intro_le_max_ts</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span>|<span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">loc</span>). <span class="id" title="var">introv</span> <span class="id" title="var">MAX_TS</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MAX_TS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> (<a class="idref" href="CompOptCert.View.html#TimeMap.join"><span class="id" title="definition">TimeMap.join</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.acq"><span class="id" title="projection">TView.acq</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc4</span>))) (<a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">tsw</span>) <span class="id" title="var">loc</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">idtac</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.join_spec"><span class="id" title="lemma">Time.join_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">TVIEW_WF</span> <span class="id" title="var">PROMISES</span> <span class="id" title="var">FINITE</span> <span class="id" title="var">BOT</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">TimeMap.join</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_join"><span class="id" title="lemma">Time_le_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.MsgMapping.html#Loc_add_eq"><span class="id" title="lemma">Loc_add_eq</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Cover.html#gt_max_not_covered"><span class="id" title="lemma">Cover.gt_max_not_covered</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_PROMISE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LC2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">ITV</span> <span class="id" title="var">ADD_LE_MAX</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to</span> <span class="id" title="var">ts'</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">ITV</span> <span class="id" title="var">GET</span> <span class="id" title="var">H0</span> <span class="id" title="var">REMOVE_RSV_MEM</span> <span class="id" title="var">WRITE'</span> <span class="id" title="var">ADD_LT_MAX</span> <span class="id" title="var">ADD_LE_MAX</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">H1</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_EXIST</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">CAP_EXIST</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">tsw</span> <span class="id" title="var">ts'</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">FROM</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD_LT_MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem0</span>) <span class="id" title="var">to0</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MAX</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_le_gt_false"><span class="id" title="lemma">Time_le_gt_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.lt_le_lt"><span class="id" title="lemma">DenseOrder.DenseOrderFacts.lt_le_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP_EXIST</span> <span class="id" title="var">MEM_CLOSED'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">BACK</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF'</span> <span class="id" title="var">MEM_CLOSED'</span> <span class="id" title="var">CAP_EXIST</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_max_ts"><span class="id" title="lemma">Memory.cap_max_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_EXIST</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem3</span>))); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.le_lt_lt"><span class="id" title="lemma">TimeFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.incr_spec"><span class="id" title="lemma">Time.incr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_construct_from_fulfill'" class="idref" href="#consistent_construct_from_fulfill'"><span class="id" title="lemma">consistent_construct_from_fulfill'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:704" class="idref" href="#n:704"><span class="id" title="binder">n</span></a> <a id="lang:705" class="idref" href="#lang:705"><span class="id" title="binder">lang</span></a> <a id="lo:706" class="idref" href="#lo:706"><span class="id" title="binder">lo</span></a> (<a id="e:707" class="idref" href="#e:707"><span class="id" title="binder">e</span></a> <a id="e':708" class="idref" href="#e':708"><span class="id" title="binder">e'</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:705"><span class="id" title="variable">lang</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL_STEPS:709" class="idref" href="#FULFILL_STEPS:709"><span class="id" title="binder">FULFILL_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:706"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#n:704"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:707"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':708"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IS_FULFILL:710" class="idref" href="#IS_FULFILL:710"><span class="id" title="binder">IS_FULFILL</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':708"><span class="id" title="variable">e'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:711" class="idref" href="#LOCAL_WF:711"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:707"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:707"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED:712" class="idref" href="#CLOSED:712"><span class="id" title="binder">CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:707"><span class="id" title="variable">e</span></a>)),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="e0:713" class="idref" href="#e0:713"><span class="id" title="binder">e0</span></a> <a id="e1:714" class="idref" href="#e1:714"><span class="id" title="binder">e1</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:706"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:707"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:713"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:706"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e0:713"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e1:714"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e1:714"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:706"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">FULFILL_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">FULFILL_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="ordr:716" class="idref" href="#ordr:716"><span class="id" title="binder">ordr</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <span class="id" title="var">e0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.fence"><span class="id" title="constructor">ThreadEvent.fence</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#ordr:715"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">CCLs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_not_rsv_ccl_scfence_step_cancel_steps"><span class="id" title="lemma">reorder_not_rsv_ccl_scfence_step_cancel_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CCLs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CCLs</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e0'</span> &amp; <span class="id" title="var">CCLs'</span> &amp; <span class="id" title="var">RSVs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PROG</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>; <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n'</span> &amp; <span class="id" title="var">RSVs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_program_step_reserve_steps"><span class="id" title="lemma">reorder_program_step_reserve_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RSVs</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#program_step_consistent_construction"><span class="id" title="lemma">program_step_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CCLs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_rsv_steps"><span class="id" title="lemma">local_wf_prsv_rsv_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_cancel_steps"><span class="id" title="lemma">local_wf_prsv_cancel_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#memory_closed_prsv_rsv_steps"><span class="id" title="lemma">memory_closed_prsv_rsv_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_cancel_steps"><span class="id" title="lemma">local_wf_prsv_cancel_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#memory_closed_prsv_cancel_steps"><span class="id" title="lemma">memory_closed_prsv_cancel_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#write_step_attached_consistent_construction"><span class="id" title="lemma">write_step_attached_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CCLs'</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_rsv_steps"><span class="id" title="lemma">local_wf_prsv_rsv_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_cancel_steps"><span class="id" title="lemma">local_wf_prsv_cancel_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#memory_closed_prsv_rsv_steps"><span class="id" title="lemma">memory_closed_prsv_rsv_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_cancel_steps"><span class="id" title="lemma">local_wf_prsv_cancel_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#memory_closed_prsv_cancel_steps"><span class="id" title="lemma">memory_closed_prsv_cancel_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#update_step_attached_consistent_construction"><span class="id" title="lemma">update_step_attached_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CCLs'</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_rsv_steps"><span class="id" title="lemma">local_wf_prsv_rsv_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_cancel_steps"><span class="id" title="lemma">local_wf_prsv_cancel_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#memory_closed_prsv_rsv_steps"><span class="id" title="lemma">memory_closed_prsv_rsv_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_cancel_steps"><span class="id" title="lemma">local_wf_prsv_cancel_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#memory_closed_prsv_cancel_steps"><span class="id" title="lemma">memory_closed_prsv_cancel_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ordw</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro1"><span class="id" title="constructor">no_scfence_nprm_step_intro1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg1</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">released0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">CCLs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_not_rsv_ccl_scfence_step_cancel_steps"><span class="id" title="lemma">reorder_not_rsv_ccl_scfence_step_cancel_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CCLs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CCLs</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e0'</span> &amp; <span class="id" title="var">CCLs'</span> &amp; <span class="id" title="var">RSVs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n'</span> &amp; <span class="id" title="var">RSVs'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_lower_step_reserve_steps"><span class="id" title="lemma">reorder_lower_step_reserve_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RSVs'</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#lower_PF_consistent_construction"><span class="id" title="lemma">lower_PF_consistent_construction</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_cancel_steps"><span class="id" title="lemma">local_wf_prsv_cancel_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CCLs'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_rsv_steps"><span class="id" title="lemma">local_wf_prsv_rsv_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">CCLs''</span>: <span class="id" title="var">CCLs'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#memory_closed_prsv_cancel_steps"><span class="id" title="lemma">memory_closed_prsv_cancel_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CCLs'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#memory_closed_prsv_rsv_steps"><span class="id" title="lemma">memory_closed_prsv_rsv_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_prsv_cancel_steps"><span class="id" title="lemma">local_wf_prsv_cancel_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>] |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">A0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_promise"><span class="id" title="lemma">local_wf_promise</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#promise_step_closed_mem"><span class="id" title="lemma">promise_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="consistent_construct_from_fulfill" class="idref" href="#consistent_construct_from_fulfill"><span class="id" title="lemma">consistent_construct_from_fulfill</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:717" class="idref" href="#n:717"><span class="id" title="binder">n</span></a> <a id="lang:718" class="idref" href="#lang:718"><span class="id" title="binder">lang</span></a> <a id="lo:719" class="idref" href="#lo:719"><span class="id" title="binder">lo</span></a> (<a id="e:720" class="idref" href="#e:720"><span class="id" title="binder">e</span></a> <a id="e':721" class="idref" href="#e':721"><span class="id" title="binder">e'</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lang:718"><span class="id" title="variable">lang</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL_STEPS:722" class="idref" href="#FULFILL_STEPS:722"><span class="id" title="binder">FULFILL_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:719"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#n:717"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:720"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':721"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IS_FULFILL:723" class="idref" href="#IS_FULFILL:723"><span class="id" title="binder">IS_FULFILL</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e':721"><span class="id" title="variable">e'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:724" class="idref" href="#LOCAL_WF:724"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:720"><span class="id" title="variable">e</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:720"><span class="id" title="variable">e</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED:725" class="idref" href="#CLOSED:725"><span class="id" title="binder">CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e:720"><span class="id" title="variable">e</span></a>)),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="e0:726" class="idref" href="#e0:726"><span class="id" title="binder">e0</span></a> <a id="e1:727" class="idref" href="#e1:727"><span class="id" title="binder">e1</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:719"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e:720"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e0:726"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:719"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ConsistentProp.html#e0:726"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e1:727"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent"><span class="id" title="definition">Thread.consistent</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#e1:727"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ConsistentProp.html#lo:719"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ConsistentProp.html#tau_steps_fulfill_implies_nprm_steps_fulfill"><span class="id" title="lemma">tau_steps_fulfill_implies_nprm_steps_fulfill</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ConsistentProp.html#consistent_construct_from_fulfill'"><span class="id" title="lemma">consistent_construct_from_fulfill'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>