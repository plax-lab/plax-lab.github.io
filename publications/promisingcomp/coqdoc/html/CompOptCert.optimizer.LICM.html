<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.optimizer.LICM</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.optimizer.LICM</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Classes.RelationClasses.html#"><span class="id" title="library">RelationClasses</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.omega.Omega.html#"><span class="id" title="library">Omega</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.sflib.html#"><span class="id" title="library">sflib</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Paco</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">paco</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Program.Basics.html#"><span class="id" title="library">Basics</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Basic.html#"><span class="id" title="library">Basic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Axioms.html#"><span class="id" title="library">Axioms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Loc.html#"><span class="id" title="library">Loc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Language.html#"><span class="id" title="library">Language</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">ZArith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Maps.html#"><span class="id" title="library">Maps</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Iteration.html#"><span class="id" title="library">Iteration</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.FSets.FSets.html#"><span class="id" title="library">FSets</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.FSets.FSetInterface.html#"><span class="id" title="library">FSetInterface</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Lattice.html#"><span class="id" title="library">Lattice</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Event.html#"><span class="id" title="library">Event</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Syntax.html#"><span class="id" title="library">Syntax</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Semantics.html#"><span class="id" title="library">Semantics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.optimizer.Kildall.html#"><span class="id" title="library">Kildall</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Coqlib.html#"><span class="id" title="library">Coqlib</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Integers.html#"><span class="id" title="library">Integers</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.LibTactics.html#"><span class="id" title="library">LibTactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.CorrectOpt.html#"><span class="id" title="library">CorrectOpt</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.optimizer.CSE.html#"><span class="id" title="library">CSE</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.optimizer.Lib_Ordering.html#"><span class="id" title="library">Lib_Ordering</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.optimizer.DetLoop.html#"><span class="id" title="library">DetLoop</span></a>.<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab305"></a><h1 class="section">The Definition of Loop Invariant Code Motion</h1>

<div class="paragraph"> </div>

 Loop invariant code motion first uses <span class="inlinecode"><a class="idref" href="CompOptCert.optimizer.LICM.html#LInv"><span class="id" title="definition">LInv</span></a></span> to detect the loop invariant and
    allocate a new register to save the result of the loop invariant,
    then uses <span class="inlinecode"><span class="id" title="library">CSE</span></span> to eliminate the redundant reads. 
<div class="paragraph"> </div>

<a id="lab306"></a><h2 class="section">Allocation of Pre-Header</h2>
 <span class="inlinecode"><a class="idref" href="CompOptCert.optimizer.LICM.html#alloc_ph"><span class="id" title="definition">alloc_ph</span></a></span> allocates a new block as the pre-header of the block labelled l_entry. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="alloc_inst" class="idref" href="#alloc_inst"><span class="id" title="definition">alloc_inst</span></a> (<a id="linv:1" class="idref" href="#linv:1"><span class="id" title="binder">linv</span></a>: <a class="idref" href="CompOptCert.optimizer.DetLoop.html#LOOP_INV"><span class="id" title="inductive">LOOP_INV</span></a>): <a class="idref" href="CompOptCert.Syntax.html#Inst.t"><span class="id" title="inductive">Inst.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#linv:1"><span class="id" title="variable">linv</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="CompOptCert.optimizer.DetLoop.html#LINV_EXPR"><span class="id" title="constructor">LINV_EXPR</span></a> <span class="id" title="var">r</span> <span class="id" title="var">e</span> ⇒ <a class="idref" href="CompOptCert.Syntax.html#Inst.assign"><span class="id" title="constructor">Inst.assign</span></a> <span class="id" title="var">r</span> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="CompOptCert.optimizer.DetLoop.html#LINV_LOC"><span class="id" title="constructor">LINV_LOC</span></a> <span class="id" title="var">r</span> <span class="id" title="var">loc</span> ⇒ <a class="idref" href="CompOptCert.Syntax.html#Inst.load"><span class="id" title="constructor">Inst.load</span></a> <span class="id" title="var">r</span> <span class="id" title="var">loc</span> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="alloc_ph" class="idref" href="#alloc_ph"><span class="id" title="definition">alloc_ph</span></a> (<a id="loop_invs:3" class="idref" href="#loop_invs:3"><span class="id" title="binder">loop_invs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CompOptCert.optimizer.DetLoop.html#LOOP_INV"><span class="id" title="inductive">LOOP_INV</span></a>) (<a id="l_entry:4" class="idref" href="#l_entry:4"><span class="id" title="binder">l_entry</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) : <a class="idref" href="CompOptCert.Syntax.html#BBlock.t"><span class="id" title="inductive">BBlock.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs:3"><span class="id" title="variable">loop_invs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">linv</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">loop_invs'</span> ⇒ <a class="idref" href="CompOptCert.Syntax.html#fbb273cfd7f2388bf57a9b965dee4248"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.optimizer.LICM.html#alloc_inst"><span class="id" title="definition">alloc_inst</span></a> <span class="id" title="var">linv</span><a class="idref" href="CompOptCert.Syntax.html#fbb273cfd7f2388bf57a9b965dee4248"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.Syntax.html#fbb273cfd7f2388bf57a9b965dee4248"><span class="id" title="notation">##</span></a> <a class="idref" href="CompOptCert.Syntax.html#fbb273cfd7f2388bf57a9b965dee4248"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.optimizer.LICM.html#alloc_ph:5"><span class="id" title="definition">alloc_ph</span></a> <span class="id" title="var">loop_invs'</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:4"><span class="id" title="variable">l_entry</span></a><a class="idref" href="CompOptCert.Syntax.html#fbb273cfd7f2388bf57a9b965dee4248"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="CompOptCert.Syntax.html#BBlock.jmp"><span class="id" title="constructor">BBlock.jmp</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:4"><span class="id" title="variable">l_entry</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="CompOptCert.optimizer.LICM.html#consInv"><span class="id" title="definition">consInv</span></a></span> adds instructions into the pre-header. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="consInv" class="idref" href="#consInv"><span class="id" title="definition">consInv</span></a> (<a id="loop_invs:7" class="idref" href="#loop_invs:7"><span class="id" title="binder">loop_invs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CompOptCert.optimizer.DetLoop.html#LOOP_INV"><span class="id" title="inductive">LOOP_INV</span></a>) (<a id="BB:8" class="idref" href="#BB:8"><span class="id" title="binder">BB</span></a>: <a class="idref" href="CompOptCert.Syntax.html#BBlock.t"><span class="id" title="inductive">BBlock.t</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs:7"><span class="id" title="variable">loop_invs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">linv</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">loop_invs'</span> ⇒ <a class="idref" href="CompOptCert.optimizer.LICM.html#consInv:9"><span class="id" title="definition">consInv</span></a> <span class="id" title="var">loop_invs'</span> (<a class="idref" href="CompOptCert.optimizer.LICM.html#alloc_inst"><span class="id" title="definition">alloc_inst</span></a> <span class="id" title="var">linv</span> <a class="idref" href="CompOptCert.Syntax.html#fbb273cfd7f2388bf57a9b965dee4248"><span class="id" title="notation">##</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:8"><span class="id" title="variable">BB</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:8"><span class="id" title="variable">BB</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab307"></a><h2 class="section">Pointing to Pre-Header</h2>
 We give a mapping that records the preheader of the entry of each loop. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="pt_modify" class="idref" href="#pt_modify"><span class="id" title="definition">pt_modify</span></a> (<a id="l:11" class="idref" href="#l:11"><span class="id" title="binder">l</span></a> <a id="l_entry:12" class="idref" href="#l_entry:12"><span class="id" title="binder">l_entry</span></a> <a id="l_ph:13" class="idref" href="#l_ph:13"><span class="id" title="binder">l_ph</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.eq_dec"><span class="id" title="axiom">Pos.eq_dec</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:11"><span class="id" title="variable">l</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:12"><span class="id" title="variable">l_entry</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_ph:13"><span class="id" title="variable">l_ph</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:11"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="ptB_ph" class="idref" href="#ptB_ph"><span class="id" title="definition">ptB_ph</span></a> (<a id="l_ph:14" class="idref" href="#l_ph:14"><span class="id" title="binder">l_ph</span></a> <a id="l_entry:15" class="idref" href="#l_entry:15"><span class="id" title="binder">l_entry</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<a id="BB:16" class="idref" href="#BB:16"><span class="id" title="binder">BB</span></a>: <a class="idref" href="CompOptCert.Syntax.html#BBlock.t"><span class="id" title="inductive">BBlock.t</span></a>) : <a class="idref" href="CompOptCert.Syntax.html#BBlock.t"><span class="id" title="inductive">BBlock.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:16"><span class="id" title="variable">BB</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">c</span> <a class="idref" href="CompOptCert.Syntax.html#fbb273cfd7f2388bf57a9b965dee4248"><span class="id" title="notation">##</span></a> <span class="id" title="var">BB'</span> ⇒ <span class="id" title="var">c</span> <a class="idref" href="CompOptCert.Syntax.html#fbb273cfd7f2388bf57a9b965dee4248"><span class="id" title="notation">##</span></a> <a class="idref" href="CompOptCert.Syntax.html#fbb273cfd7f2388bf57a9b965dee4248"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.optimizer.LICM.html#ptB_ph:17"><span class="id" title="definition">ptB_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_ph:14"><span class="id" title="variable">l_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:15"><span class="id" title="variable">l_entry</span></a> <span class="id" title="var">BB'</span><a class="idref" href="CompOptCert.Syntax.html#fbb273cfd7f2388bf57a9b965dee4248"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="CompOptCert.Syntax.html#BBlock.jmp"><span class="id" title="constructor">BBlock.jmp</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="CompOptCert.Syntax.html#BBlock.jmp"><span class="id" title="constructor">BBlock.jmp</span></a> (<a class="idref" href="CompOptCert.optimizer.LICM.html#pt_modify"><span class="id" title="definition">pt_modify</span></a> <span class="id" title="var">f</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:15"><span class="id" title="variable">l_entry</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_ph:14"><span class="id" title="variable">l_ph</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="CompOptCert.Syntax.html#BBlock.be"><span class="id" title="constructor">BBlock.be</span></a> <span class="id" title="var">e</span> <span class="id" title="var">f1</span> <span class="id" title="var">f2</span> ⇒ <a class="idref" href="CompOptCert.Syntax.html#BBlock.be"><span class="id" title="constructor">BBlock.be</span></a> <span class="id" title="var">e</span> (<a class="idref" href="CompOptCert.optimizer.LICM.html#pt_modify"><span class="id" title="definition">pt_modify</span></a> <span class="id" title="var">f1</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:15"><span class="id" title="variable">l_entry</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_ph:14"><span class="id" title="variable">l_ph</span></a>) (<a class="idref" href="CompOptCert.optimizer.LICM.html#pt_modify"><span class="id" title="definition">pt_modify</span></a> <span class="id" title="var">f2</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:15"><span class="id" title="variable">l_entry</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_ph:14"><span class="id" title="variable">l_ph</span></a>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:16"><span class="id" title="variable">BB</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="is_exit" class="idref" href="#is_exit"><span class="id" title="definition">is_exit</span></a> (<a id="l:19" class="idref" href="#l:19"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<a id="loop_invs:20" class="idref" href="#loop_invs:20"><span class="id" title="binder">loop_invs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CompOptCert.optimizer.DetLoop.html#LOOP_INV"><span class="id" title="inductive">LOOP_INV</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs:20"><span class="id" title="variable">loop_invs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l_entry</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l_exit</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">loopinvs</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">loop_invs'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.eq_dec"><span class="id" title="axiom">Pos.eq_dec</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:19"><span class="id" title="variable">l</span></a> <span class="id" title="var">l_exit</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#is_exit:21"><span class="id" title="definition">is_exit</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:19"><span class="id" title="variable">l</span></a> <span class="id" title="var">loop_invs'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="ptC_ph" class="idref" href="#ptC_ph"><span class="id" title="definition">ptC_ph</span></a> (<a id="cdhp:23" class="idref" href="#cdhp:23"><span class="id" title="binder">cdhp</span></a>: <a class="idref" href="CompOptCert.Syntax.html#CodeHeap"><span class="id" title="definition">CodeHeap</span></a>) (<a id="l_ph:24" class="idref" href="#l_ph:24"><span class="id" title="binder">l_ph</span></a> <a id="l_entry:25" class="idref" href="#l_entry:25"><span class="id" title="binder">l_entry</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="loop_invs:26" class="idref" href="#loop_invs:26"><span class="id" title="binder">loop_invs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CompOptCert.optimizer.DetLoop.html#LOOP_INV"><span class="id" title="inductive">LOOP_INV</span></a>)) := <br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Maps.html#PTree.map"><span class="id" title="definition">PTree.map</span></a> (<span class="id" title="keyword">fun</span> (<a id="l:27" class="idref" href="#l:27"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<a id="BB:28" class="idref" href="#BB:28"><span class="id" title="binder">BB</span></a>: <a class="idref" href="CompOptCert.Syntax.html#BBlock.t"><span class="id" title="inductive">BBlock.t</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#is_exit"><span class="id" title="definition">is_exit</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:27"><span class="id" title="variable">l</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs:26"><span class="id" title="variable">loop_invs</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:28"><span class="id" title="variable">BB</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#ptB_ph"><span class="id" title="definition">ptB_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_ph:24"><span class="id" title="variable">l_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:25"><span class="id" title="variable">l_entry</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:28"><span class="id" title="variable">BB</span></a>) <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:23"><span class="id" title="variable">cdhp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ptC_ph_dom_eq" class="idref" href="#ptC_ph_dom_eq"><span class="id" title="lemma">ptC_ph_dom_eq</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="cdhp:29" class="idref" href="#cdhp:29"><span class="id" title="binder">cdhp</span></a> <a id="l_ph:30" class="idref" href="#l_ph:30"><span class="id" title="binder">l_ph</span></a> <a id="l_entry:31" class="idref" href="#l_entry:31"><span class="id" title="binder">l_entry</span></a> <a id="loop_invs:32" class="idref" href="#loop_invs:32"><span class="id" title="binder">loop_invs</span></a> <a id="l:33" class="idref" href="#l:33"><span class="id" title="binder">l</span></a> <a id="BB:34" class="idref" href="#BB:34"><span class="id" title="binder">BB</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="GET:35" class="idref" href="#GET:35"><span class="id" title="binder">GET</span></a>: <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.optimizer.LICM.html#ptC_ph"><span class="id" title="definition">ptC_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:29"><span class="id" title="variable">cdhp</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_ph:30"><span class="id" title="variable">l_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:31"><span class="id" title="variable">l_entry</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs:32"><span class="id" title="variable">loop_invs</span></a><a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">!</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:33"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:34"><span class="id" title="variable">BB</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="BB':36" class="idref" href="#BB':36"><span class="id" title="binder">BB'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:29"><span class="id" title="variable">cdhp</span></a> <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">!</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:33"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB':36"><span class="id" title="variable">BB'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.optimizer.LICM.html#BB:34"><span class="id" title="variable">BB</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB':36"><span class="id" title="variable">BB'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:34"><span class="id" title="variable">BB</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#ptB_ph"><span class="id" title="definition">ptB_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_ph:30"><span class="id" title="variable">l_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:31"><span class="id" title="variable">l_entry</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB':36"><span class="id" title="variable">BB'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#ptC_ph"><span class="id" title="definition">ptC_ph</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Maps.html#PTree.gmap"><span class="id" title="lemma">PTree.gmap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Coqlib.html#option_map"><span class="id" title="definition">option_map</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">cdhp</span> <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">!</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ptC_ph_dom_eq2" class="idref" href="#ptC_ph_dom_eq2"><span class="id" title="lemma">ptC_ph_dom_eq2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="cdhp:37" class="idref" href="#cdhp:37"><span class="id" title="binder">cdhp</span></a> <a id="l_ph:38" class="idref" href="#l_ph:38"><span class="id" title="binder">l_ph</span></a> <a id="l_entry:39" class="idref" href="#l_entry:39"><span class="id" title="binder">l_entry</span></a> <a id="loop_invs:40" class="idref" href="#loop_invs:40"><span class="id" title="binder">loop_invs</span></a> <a id="l:41" class="idref" href="#l:41"><span class="id" title="binder">l</span></a> <a id="BB:42" class="idref" href="#BB:42"><span class="id" title="binder">BB</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="GET:43" class="idref" href="#GET:43"><span class="id" title="binder">GET</span></a>: <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:37"><span class="id" title="variable">cdhp</span></a> <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">!</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:41"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:42"><span class="id" title="variable">BB</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="BB':44" class="idref" href="#BB':44"><span class="id" title="binder">BB'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.optimizer.LICM.html#ptC_ph"><span class="id" title="definition">ptC_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:37"><span class="id" title="variable">cdhp</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_ph:38"><span class="id" title="variable">l_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:39"><span class="id" title="variable">l_entry</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs:40"><span class="id" title="variable">loop_invs</span></a><a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">!</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:41"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB':44"><span class="id" title="variable">BB'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.optimizer.LICM.html#BB':44"><span class="id" title="variable">BB'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:42"><span class="id" title="variable">BB</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB':44"><span class="id" title="variable">BB'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#ptB_ph"><span class="id" title="definition">ptB_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_ph:38"><span class="id" title="variable">l_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l_entry:39"><span class="id" title="variable">l_entry</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:42"><span class="id" title="variable">BB</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#ptC_ph"><span class="id" title="definition">ptC_ph</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Maps.html#PTree.gmap"><span class="id" title="lemma">PTree.gmap</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Coqlib.html#option_map"><span class="id" title="definition">option_map</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab308"></a><h2 class="section">Code Transformation: allocating new blocks for loop invaraints</h2>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="TransC'" class="idref" href="#TransC'"><span class="id" title="definition">TransC'</span></a> (<a id="cdhp:45" class="idref" href="#cdhp:45"><span class="id" title="binder">cdhp</span></a>: <a class="idref" href="CompOptCert.Syntax.html#CodeHeap"><span class="id" title="definition">CodeHeap</span></a>) (<a id="preheader:46" class="idref" href="#preheader:46"><span class="id" title="binder">preheader</span></a>: <a class="idref" href="CompOptCert.Maps.html#PTree.t"><span class="id" title="definition">PTree.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="loop_invs:47" class="idref" href="#loop_invs:47"><span class="id" title="binder">loop_invs</span></a> <a id="loop_invs0:48" class="idref" href="#loop_invs0:48"><span class="id" title="binder">loop_invs0</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CompOptCert.optimizer.DetLoop.html#LOOP_INV"><span class="id" title="inductive">LOOP_INV</span></a>)) (<a id="max_p:49" class="idref" href="#max_p:49"><span class="id" title="binder">max_p</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>):<br/>
&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Syntax.html#CodeHeap"><span class="id" title="definition">CodeHeap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Maps.html#PTree.t"><span class="id" title="definition">PTree.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">)</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs:47"><span class="id" title="variable">loop_invs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l_entry</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">l_exit</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">loopinvs</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">loop_invs'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.Maps.html#PTree.get"><span class="id" title="definition">PTree.get</span></a> <span class="id" title="var">l_entry</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#preheader:46"><span class="id" title="variable">preheader</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">l_ph</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:45"><span class="id" title="variable">cdhp</span></a> <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">!</span></a> <span class="id" title="var">l_ph</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">BB_ph</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="BB':52" class="idref" href="#BB':52"><span class="id" title="binder">BB'</span></a> := <a class="idref" href="CompOptCert.optimizer.LICM.html#consInv"><span class="id" title="definition">consInv</span></a> <span class="id" title="var">loopinvs</span> <span class="id" title="var">BB_ph</span> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdhp':53" class="idref" href="#cdhp':53"><span class="id" title="binder">cdhp'</span></a> := <a class="idref" href="CompOptCert.Maps.html#PTree.set"><span class="id" title="definition">PTree.set</span></a> <span class="id" title="var">l_ph</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB':52"><span class="id" title="variable">BB'</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:45"><span class="id" title="variable">cdhp</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.optimizer.LICM.html#TransC':50"><span class="id" title="definition">TransC'</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp':53"><span class="id" title="variable">cdhp'</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#preheader:46"><span class="id" title="variable">preheader</span></a> <span class="id" title="var">loop_invs'</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs0:48"><span class="id" title="variable">loop_invs0</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:49"><span class="id" title="variable">max_p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.optimizer.LICM.html#TransC':50"><span class="id" title="definition">TransC'</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:45"><span class="id" title="variable">cdhp</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#preheader:46"><span class="id" title="variable">preheader</span></a> <span class="id" title="var">loop_invs'</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs0:48"><span class="id" title="variable">loop_invs0</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:49"><span class="id" title="variable">max_p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="BB_ph:54" class="idref" href="#BB_ph:54"><span class="id" title="binder">BB_ph</span></a> := <a class="idref" href="CompOptCert.optimizer.LICM.html#alloc_ph"><span class="id" title="definition">alloc_ph</span></a> <span class="id" title="var">loopinvs</span> <span class="id" title="var">l_entry</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="preheader':55" class="idref" href="#preheader':55"><span class="id" title="binder">preheader'</span></a> := <a class="idref" href="CompOptCert.Maps.html#PTree.set"><span class="id" title="definition">PTree.set</span></a> <span class="id" title="var">l_entry</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:49"><span class="id" title="variable">max_p</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#preheader:46"><span class="id" title="variable">preheader</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="cdhp':56" class="idref" href="#cdhp':56"><span class="id" title="binder">cdhp'</span></a> := <a class="idref" href="CompOptCert.Maps.html#PTree.set"><span class="id" title="definition">PTree.set</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:49"><span class="id" title="variable">max_p</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB_ph:54"><span class="id" title="variable">BB_ph</span></a> (<a class="idref" href="CompOptCert.optimizer.LICM.html#ptC_ph"><span class="id" title="definition">ptC_ph</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:45"><span class="id" title="variable">cdhp</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:49"><span class="id" title="variable">max_p</span></a> <span class="id" title="var">l_entry</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs0:48"><span class="id" title="variable">loop_invs0</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.optimizer.LICM.html#TransC':50"><span class="id" title="definition">TransC'</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp':56"><span class="id" title="variable">cdhp'</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#preheader':55"><span class="id" title="variable">preheader'</span></a> <span class="id" title="var">loop_invs'</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs0:48"><span class="id" title="variable">loop_invs0</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.succ"><span class="id" title="definition">Pos.succ</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:49"><span class="id" title="variable">max_p</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:45"><span class="id" title="variable">cdhp</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:49"><span class="id" title="variable">max_p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#preheader:46"><span class="id" title="variable">preheader</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="max_labelled_node" class="idref" href="#max_labelled_node"><span class="id" title="definition">max_labelled_node</span></a> {<a id="A:57" class="idref" href="#A:57"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>} (<a id="ls:58" class="idref" href="#ls:58"><span class="id" title="binder">ls</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#A:57"><span class="id" title="variable">A</span></a>)) (<a id="max_p:59" class="idref" href="#max_p:59"><span class="id" title="binder">max_p</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#ls:58"><span class="id" title="variable">ls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:59"><span class="id" title="variable">max_p</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ls'</span> ⇒ <span class="id" title="keyword">if</span> (<a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:59"><span class="id" title="variable">max_p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#d20f2fe84f4480c7169d070294386111"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">p</span>)%<span class="id" title="var">positive</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.optimizer.LICM.html#max_labelled_node:60"><span class="id" title="definition">max_labelled_node</span></a> <span class="id" title="var">ls'</span> <span class="id" title="var">p</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_labelled_node:60"><span class="id" title="definition">max_labelled_node</span></a> <span class="id" title="var">ls'</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:59"><span class="id" title="variable">max_p</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="TransC" class="idref" href="#TransC"><span class="id" title="definition">TransC</span></a> (<a id="func:62" class="idref" href="#func:62"><span class="id" title="binder">func</span></a>: <a class="idref" href="CompOptCert.Syntax.html#Func"><span class="id" title="definition">Func</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="loop_invs:63" class="idref" href="#loop_invs:63"><span class="id" title="binder">loop_invs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CompOptCert.optimizer.DetLoop.html#LOOP_INV"><span class="id" title="inductive">LOOP_INV</span></a>)) : <a class="idref" href="CompOptCert.Syntax.html#Func"><span class="id" title="definition">Func</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="cdhp:64" class="idref" href="#cdhp:64"><span class="id" title="binder">cdhp</span></a>, <a id="ep:65" class="idref" href="#ep:65"><span class="id" title="binder">ep</span></a>) := <a class="idref" href="CompOptCert.optimizer.LICM.html#func:62"><span class="id" title="variable">func</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="max_p:66" class="idref" href="#max_p:66"><span class="id" title="binder">max_p</span></a> := <a class="idref" href="CompOptCert.optimizer.LICM.html#max_labelled_node"><span class="id" title="definition">max_labelled_node</span></a> (<a class="idref" href="CompOptCert.Maps.html#PTree.elements"><span class="id" title="definition">PTree.elements</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:64"><span class="id" title="variable">cdhp</span></a>) 1%<span class="id" title="var">positive</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="CompOptCert.optimizer.LICM.html#TransC'"><span class="id" title="definition">TransC'</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp:64"><span class="id" title="variable">cdhp</span></a> (<a class="idref" href="CompOptCert.Maps.html#PTree.empty"><span class="id" title="definition">PTree.empty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs:63"><span class="id" title="variable">loop_invs</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_invs:63"><span class="id" title="variable">loop_invs</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.succ"><span class="id" title="definition">Pos.succ</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:66"><span class="id" title="variable">max_p</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">cdhp'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">max_p'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">preheader</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="CompOptCert.Maps.html#PTree.get"><span class="id" title="definition">PTree.get</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#ep:65"><span class="id" title="variable">ep</span></a> <span class="id" title="var">preheader</span>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">ep_ph</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">cdhp'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ep_ph</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">cdhp'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#ep:65"><span class="id" title="variable">ep</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="max_labelled_node_prop'" class="idref" href="#max_labelled_node_prop'"><span class="id" title="lemma">max_labelled_node_prop'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:67" class="idref" href="#A:67"><span class="id" title="binder">A</span></a> (<a id="m:68" class="idref" href="#m:68"><span class="id" title="binder">m</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#A:67"><span class="id" title="variable">A</span></a>)) <a id="p0:69" class="idref" href="#p0:69"><span class="id" title="binder">p0</span></a> <a id="p:70" class="idref" href="#p:70"><span class="id" title="binder">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LE:71" class="idref" href="#LE:71"><span class="id" title="binder">LE</span></a>: (<a class="idref" href="CompOptCert.optimizer.LICM.html#p0:69"><span class="id" title="variable">p0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#c9d5bad8b60a20d83e777300ee498110"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#p:70"><span class="id" title="variable">p</span></a>)%<span class="id" title="var">positive</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.optimizer.LICM.html#p0:69"><span class="id" title="variable">p0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#c9d5bad8b60a20d83e777300ee498110"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_labelled_node"><span class="id" title="definition">max_labelled_node</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#m:68"><span class="id" title="variable">m</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#p:70"><span class="id" title="variable">p</span></a>)%<span class="id" title="var">positive</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#d20f2fe84f4480c7169d070294386111"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">p1</span>)%<span class="id" title="var">positive</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.ltb_lt"><span class="id" title="lemma">Pos.ltb_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqe</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<span class="id" title="var">p0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#::positive_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">p1</span>)%<span class="id" title="var">positive</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.le_lt_trans"><span class="id" title="lemma">Pos.le_lt_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.lt_le_incl"><span class="id" title="lemma">Pos.lt_le_incl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="max_lablled_node_prop" class="idref" href="#max_lablled_node_prop"><span class="id" title="lemma">max_lablled_node_prop</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:72" class="idref" href="#A:72"><span class="id" title="binder">A</span></a> <a id="m:73" class="idref" href="#m:73"><span class="id" title="binder">m</span></a> <a id="l:74" class="idref" href="#l:74"><span class="id" title="binder">l</span></a> (<a id="BB:75" class="idref" href="#BB:75"><span class="id" title="binder">BB</span></a>: <a class="idref" href="CompOptCert.optimizer.LICM.html#A:72"><span class="id" title="variable">A</span></a>) <a id="p:76" class="idref" href="#p:76"><span class="id" title="binder">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IN:77" class="idref" href="#IN:77"><span class="id" title="binder">IN</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.optimizer.LICM.html#l:74"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#BB:75"><span class="id" title="variable">BB</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#m:73"><span class="id" title="variable">m</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.optimizer.LICM.html#l:74"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#c9d5bad8b60a20d83e777300ee498110"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_labelled_node"><span class="id" title="definition">max_labelled_node</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#m:73"><span class="id" title="variable">m</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#p:76"><span class="id" title="variable">p</span></a>)%<span class="id" title="var">positive</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="var">des1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">IN</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#d20f2fe84f4480c7169d070294386111"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">l</span>)%<span class="id" title="var">positive</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_labelled_node_prop'"><span class="id" title="lemma">max_labelled_node_prop'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.le_refl"><span class="id" title="lemma">Pos.le_refl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_labelled_node_prop'"><span class="id" title="lemma">max_labelled_node_prop'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.ltb_ge"><span class="id" title="lemma">Pos.ltb_ge</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#d20f2fe84f4480c7169d070294386111"><span class="id" title="notation">&lt;?</span></a> <span class="id" title="var">p0</span>)%<span class="id" title="var">positive</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="TransC'_new_allocated_prop" class="idref" href="#TransC'_new_allocated_prop"><span class="id" title="lemma">TransC'_new_allocated_prop</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="loopinvs0:78" class="idref" href="#loopinvs0:78"><span class="id" title="binder">loopinvs0</span></a> <a id="loopinvs:79" class="idref" href="#loopinvs:79"><span class="id" title="binder">loopinvs</span></a> <a id="cdhp_s:80" class="idref" href="#cdhp_s:80"><span class="id" title="binder">cdhp_s</span></a> <a id="max_p:81" class="idref" href="#max_p:81"><span class="id" title="binder">max_p</span></a> <a id="cdhp_t:82" class="idref" href="#cdhp_t:82"><span class="id" title="binder">cdhp_t</span></a> <a id="max_p':83" class="idref" href="#max_p':83"><span class="id" title="binder">max_p'</span></a> <a id="preheader0:84" class="idref" href="#preheader0:84"><span class="id" title="binder">preheader0</span></a> <a id="preheader:85" class="idref" href="#preheader:85"><span class="id" title="binder">preheader</span></a> <a id="l:86" class="idref" href="#l:86"><span class="id" title="binder">l</span></a> <a id="l':87" class="idref" href="#l':87"><span class="id" title="binder">l'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TRANSC':88" class="idref" href="#TRANSC':88"><span class="id" title="binder">TRANSC'</span></a>: <a class="idref" href="CompOptCert.optimizer.LICM.html#TransC'"><span class="id" title="definition">TransC'</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp_s:80"><span class="id" title="variable">cdhp_s</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#preheader0:84"><span class="id" title="variable">preheader0</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#loopinvs0:78"><span class="id" title="variable">loopinvs0</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#loopinvs:79"><span class="id" title="variable">loopinvs</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:81"><span class="id" title="variable">max_p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.optimizer.LICM.html#cdhp_t:82"><span class="id" title="variable">cdhp_t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#max_p':83"><span class="id" title="variable">max_p'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#preheader:85"><span class="id" title="variable">preheader</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PREHEADER:89" class="idref" href="#PREHEADER:89"><span class="id" title="binder">PREHEADER</span></a>: <a class="idref" href="CompOptCert.optimizer.LICM.html#preheader:85"><span class="id" title="variable">preheader</span></a> <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">!</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:86"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l':87"><span class="id" title="variable">l'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.optimizer.LICM.html#preheader0:84"><span class="id" title="variable">preheader0</span></a> <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">!</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:86"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l':87"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a>(<a class="idref" href="CompOptCert.optimizer.LICM.html#max_p:81"><span class="id" title="variable">max_p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#c9d5bad8b60a20d83e777300ee498110"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l':87"><span class="id" title="variable">l'</span></a>)%<span class="id" title="var">positive</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">loopinvs0</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">TRANSC'</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">preheader0</span> <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">!</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">cdhp_s</span> <a class="idref" href="CompOptCert.Maps.html#73774dfd3fef401022b78a58a582fe58"><span class="id" title="notation">!</span></a> <span class="id" title="var">p1</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHloopinvs0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TRANSC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHloopinvs0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TRANSC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHloopinvs0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TRANSC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.eq_dec"><span class="id" title="axiom">Pos.eq_dec</span></a> <span class="id" title="var">p</span> <span class="id" title="var">l</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Maps.html#PTree.gss"><span class="id" title="lemma">PTree.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TRANSC'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">TRANSC'</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.le_refl"><span class="id" title="lemma">Pos.le_refl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Maps.html#PTree.gso"><span class="id" title="lemma">PTree.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TRANSC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">SUCC_LT</span>: (<span class="id" title="var">max_p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#::positive_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.succ"><span class="id" title="definition">Pos.succ</span></a> <span class="id" title="var">max_p</span>)%<span class="id" title="var">positive</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.lt_succ_diag_r"><span class="id" title="lemma">Pos.lt_succ_diag_r</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.POrderedType.html#Positive_as_OT.lt_le_incl"><span class="id" title="lemma">POrderedType.Positive_as_OT.lt_le_incl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.lt_le_trans"><span class="id" title="lemma">Pos.lt_le_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab309"></a><h2 class="section">Loop Invariant Code Motion</h2>
 The implementation of <span class="inlinecode"><a class="idref" href="CompOptCert.optimizer.LICM.html#LInv"><span class="id" title="definition">LInv</span></a></span>,
    which detects loop invariants in the program and
    allocates a new register to save the result of loop invariants  
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="LInv" class="idref" href="#LInv"><span class="id" title="definition">LInv</span></a>: <a class="idref" href="CompOptCert.CorrectOpt.html#Optimizer"><span class="id" title="definition">Optimizer</span></a> <a class="idref" href="CompOptCert.Semantics.html#rtl_lang"><span class="id" title="definition">rtl_lang</span></a> := <br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="lo:90" class="idref" href="#lo:90"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>) (<a id="prog:91" class="idref" href="#prog:91"><span class="id" title="binder">prog</span></a>: <a class="idref" href="CompOptCert.Syntax.html#Code"><span class="id" title="definition">Code</span></a>) ⇒<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="loop_P:92" class="idref" href="#loop_P:92"><span class="id" title="binder">loop_P</span></a> := <a class="idref" href="CompOptCert.optimizer.DetLoop.html#det_loop_invs"><span class="id" title="definition">det_loop_invs</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#prog:91"><span class="id" title="variable">prog</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#lo:90"><span class="id" title="variable">lo</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CompOptCert.Maps.html#PTree.map"><span class="id" title="definition">PTree.map</span></a> (<span class="id" title="keyword">fun</span> (<a id="l:93" class="idref" href="#l:93"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<a id="func:94" class="idref" href="#func:94"><span class="id" title="binder">func</span></a>: <a class="idref" href="CompOptCert.Syntax.html#Func"><span class="id" title="definition">Func</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.Maps.html#PTree.get"><span class="id" title="definition">PTree.get</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#l:93"><span class="id" title="variable">l</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#loop_P:92"><span class="id" title="variable">loop_P</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="CompOptCert.optimizer.LICM.html#func:94"><span class="id" title="variable">func</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">loop_invs</span> ⇒ <a class="idref" href="CompOptCert.optimizer.LICM.html#TransC"><span class="id" title="definition">TransC</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#func:94"><span class="id" title="variable">func</span></a> <span class="id" title="var">loop_invs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="CompOptCert.optimizer.LICM.html#prog:91"><span class="id" title="variable">prog</span></a>).<br/>

<br/>
</div>

<div class="doc">
The implementation of the loop invariant code motion 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="licm" class="idref" href="#licm"><span class="id" title="definition">licm</span></a>: <a class="idref" href="CompOptCert.CorrectOpt.html#Optimizer"><span class="id" title="definition">Optimizer</span></a> <a class="idref" href="CompOptCert.Semantics.html#rtl_lang"><span class="id" title="definition">rtl_lang</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.CorrectOpt.html#opt_link"><span class="id" title="definition">opt_link</span></a> <a class="idref" href="CompOptCert.optimizer.CSE.html#cse_optimizer"><span class="id" title="definition">cse_optimizer</span></a> <a class="idref" href="CompOptCert.optimizer.LICM.html#LInv"><span class="id" title="definition">LInv</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>