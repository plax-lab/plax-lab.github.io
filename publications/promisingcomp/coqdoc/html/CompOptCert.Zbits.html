<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.Zbits</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.Zbits</h1>

<div class="code">

<br/>
</div>

<div class="doc">
Additional operations and proofs about binary integers,
    on top of the ZArith standard library. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.micromega.Psatz.html#"><span class="id" title="library">Psatz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zquot.html#"><span class="id" title="library">Zquot</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Coqlib.html#"><span class="id" title="library">Coqlib</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab57"></a><h2 class="section">Modulo arithmetic</h2>

<div class="paragraph"> </div>

 We define and state properties of equality and arithmetic modulo a
      positive integer. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a id="EQ_MODULO" class="idref" href="#EQ_MODULO"><span class="id" title="section">EQ_MODULO</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a id="EQ_MODULO.modul" class="idref" href="#EQ_MODULO.modul"><span class="id" title="variable">modul</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a id="EQ_MODULO.modul_pos" class="idref" href="#EQ_MODULO.modul_pos"><span class="id" title="variable">modul_pos</span></a>: <a class="idref" href="CompOptCert.Zbits.html#EQ_MODULO.modul"><span class="id" title="variable">modul</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="eqmod" class="idref" href="#eqmod"><span class="id" title="definition">eqmod</span></a> (<a id="x:3" class="idref" href="#x:3"><span class="id" title="binder">x</span></a> <a id="y:4" class="idref" href="#y:4"><span class="id" title="binder">y</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="k:5" class="idref" href="#k:5"><span class="id" title="binder">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:3"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#k:5"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.Zbits.html#EQ_MODULO.modul"><span class="id" title="variable">modul</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:4"><span class="id" title="variable">y</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_refl" class="idref" href="#eqmod_refl"><span class="id" title="lemma">eqmod_refl</span></a>: <span class="id" title="keyword">∀</span> <a id="x:6" class="idref" href="#x:6"><span class="id" title="binder">x</span></a>, <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:6"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:6"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">∃</span> 0. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_refl2" class="idref" href="#eqmod_refl2"><span class="id" title="lemma">eqmod_refl2</span></a>: <span class="id" title="keyword">∀</span> <a id="x:7" class="idref" href="#x:7"><span class="id" title="binder">x</span></a> <a id="y:8" class="idref" href="#y:8"><span class="id" title="binder">y</span></a>, <a class="idref" href="CompOptCert.Zbits.html#x:7"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:8"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:7"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:8"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#eqmod_refl"><span class="id" title="lemma">eqmod_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_sym" class="idref" href="#eqmod_sym"><span class="id" title="lemma">eqmod_sym</span></a>: <span class="id" title="keyword">∀</span> <a id="x:9" class="idref" href="#x:9"><span class="id" title="binder">x</span></a> <a id="y:10" class="idref" href="#y:10"><span class="id" title="binder">y</span></a>, <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:9"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:10"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:10"><span class="id" title="variable">y</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:9"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [<span class="id" title="var">k</span> <span class="id" title="var">EQ</span>]; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">k</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_trans" class="idref" href="#eqmod_trans"><span class="id" title="lemma">eqmod_trans</span></a>: <span class="id" title="keyword">∀</span> <a id="x:11" class="idref" href="#x:11"><span class="id" title="binder">x</span></a> <a id="y:12" class="idref" href="#y:12"><span class="id" title="binder">y</span></a> <a id="z:13" class="idref" href="#z:13"><span class="id" title="binder">z</span></a>, <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:11"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:12"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:12"><span class="id" title="variable">y</span></a> <a class="idref" href="CompOptCert.Zbits.html#z:13"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:11"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#z:13"><span class="id" title="variable">z</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> [<span class="id" title="var">k1</span> <span class="id" title="var">EQ1</span>] [<span class="id" title="var">k2</span> <span class="id" title="var">EQ2</span>]; <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">k1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">k2</span>). <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_small_eq" class="idref" href="#eqmod_small_eq"><span class="id" title="lemma">eqmod_small_eq</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:14" class="idref" href="#x:14"><span class="id" title="binder">x</span></a> <a id="y:15" class="idref" href="#y:15"><span class="id" title="binder">y</span></a>, <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:15"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#EQ_MODULO.modul"><span class="id" title="variable">modul</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:15"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#EQ_MODULO.modul"><span class="id" title="variable">modul</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:14"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:15"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [<span class="id" title="var">k</span> <span class="id" title="var">EQ</span>] <span class="id" title="var">I1</span> <span class="id" title="var">I2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CompOptCert.Coqlib.html#Zdiv_unique"><span class="id" title="lemma">Zdiv_unique</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">EQ</span> <span class="id" title="var">I2</span>). <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div_small"><span class="id" title="lemma">Z.div_small</span></a> <span class="id" title="var">x</span> <a class="idref" href="CompOptCert.Zbits.html#EQ_MODULO.modul"><span class="id" title="variable">modul</span></a> <span class="id" title="var">I1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">k</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_mod_eq" class="idref" href="#eqmod_mod_eq"><span class="id" title="lemma">eqmod_mod_eq</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:16" class="idref" href="#x:16"><span class="id" title="binder">x</span></a> <a id="y:17" class="idref" href="#y:17"><span class="id" title="binder">y</span></a>, <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:16"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:17"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:16"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="CompOptCert.Zbits.html#EQ_MODULO.modul"><span class="id" title="variable">modul</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:17"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="CompOptCert.Zbits.html#EQ_MODULO.modul"><span class="id" title="variable">modul</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [<span class="id" title="var">k</span> <span class="id" title="var">EQ</span>]. <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.add_comm"><span class="id" title="lemma">Z.add_comm</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Z_mod_plus"><span class="id" title="lemma">Z_mod_plus</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_mod" class="idref" href="#eqmod_mod"><span class="id" title="lemma">eqmod_mod</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:18" class="idref" href="#x:18"><span class="id" title="binder">x</span></a>, <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:18"><span class="id" title="variable">x</span></a> (<a class="idref" href="CompOptCert.Zbits.html#x:18"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="CompOptCert.Zbits.html#EQ_MODULO.modul"><span class="id" title="variable">modul</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">∃</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">/</span></a> <a class="idref" href="CompOptCert.Zbits.html#EQ_MODULO.modul"><span class="id" title="variable">modul</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.mul_comm"><span class="id" title="lemma">Z.mul_comm</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Z_div_mod_eq"><span class="id" title="lemma">Z_div_mod_eq</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_add" class="idref" href="#eqmod_add"><span class="id" title="lemma">eqmod_add</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="a:19" class="idref" href="#a:19"><span class="id" title="binder">a</span></a> <a id="b:20" class="idref" href="#b:20"><span class="id" title="binder">b</span></a> <a id="c:21" class="idref" href="#c:21"><span class="id" title="binder">c</span></a> <a id="d:22" class="idref" href="#d:22"><span class="id" title="binder">d</span></a>, <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#a:19"><span class="id" title="variable">a</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:20"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#c:21"><span class="id" title="variable">c</span></a> <a class="idref" href="CompOptCert.Zbits.html#d:22"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> (<a class="idref" href="CompOptCert.Zbits.html#a:19"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="CompOptCert.Zbits.html#c:21"><span class="id" title="variable">c</span></a>) (<a class="idref" href="CompOptCert.Zbits.html#b:20"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="CompOptCert.Zbits.html#d:22"><span class="id" title="variable">d</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> [<span class="id" title="var">k1</span> <span class="id" title="var">EQ1</span>] [<span class="id" title="var">k2</span> <span class="id" title="var">EQ2</span>]; <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">∃</span> (<span class="id" title="var">k1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">k2</span>). <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_neg" class="idref" href="#eqmod_neg"><span class="id" title="lemma">eqmod_neg</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:23" class="idref" href="#x:23"><span class="id" title="binder">x</span></a> <a id="y:24" class="idref" href="#y:24"><span class="id" title="binder">y</span></a>, <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:23"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:24"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="CompOptCert.Zbits.html#x:23"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="CompOptCert.Zbits.html#y:24"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [<span class="id" title="var">k</span> <span class="id" title="var">EQ</span>]; <span class="id" title="tactic">red</span>. <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">k</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_sub" class="idref" href="#eqmod_sub"><span class="id" title="lemma">eqmod_sub</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="a:25" class="idref" href="#a:25"><span class="id" title="binder">a</span></a> <a id="b:26" class="idref" href="#b:26"><span class="id" title="binder">b</span></a> <a id="c:27" class="idref" href="#c:27"><span class="id" title="binder">c</span></a> <a id="d:28" class="idref" href="#d:28"><span class="id" title="binder">d</span></a>, <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#a:25"><span class="id" title="variable">a</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:26"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#c:27"><span class="id" title="variable">c</span></a> <a class="idref" href="CompOptCert.Zbits.html#d:28"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> (<a class="idref" href="CompOptCert.Zbits.html#a:25"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="CompOptCert.Zbits.html#c:27"><span class="id" title="variable">c</span></a>) (<a class="idref" href="CompOptCert.Zbits.html#b:26"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="CompOptCert.Zbits.html#d:28"><span class="id" title="variable">d</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> [<span class="id" title="var">k1</span> <span class="id" title="var">EQ1</span>] [<span class="id" title="var">k2</span> <span class="id" title="var">EQ2</span>]; <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">∃</span> (<span class="id" title="var">k1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">k2</span>). <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_mult" class="idref" href="#eqmod_mult"><span class="id" title="lemma">eqmod_mult</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="a:29" class="idref" href="#a:29"><span class="id" title="binder">a</span></a> <a id="b:30" class="idref" href="#b:30"><span class="id" title="binder">b</span></a> <a id="c:31" class="idref" href="#c:31"><span class="id" title="binder">c</span></a> <a id="d:32" class="idref" href="#d:32"><span class="id" title="binder">d</span></a>, <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#a:29"><span class="id" title="variable">a</span></a> <a class="idref" href="CompOptCert.Zbits.html#c:31"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:30"><span class="id" title="variable">b</span></a> <a class="idref" href="CompOptCert.Zbits.html#d:32"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> (<a class="idref" href="CompOptCert.Zbits.html#a:29"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:30"><span class="id" title="variable">b</span></a>) (<a class="idref" href="CompOptCert.Zbits.html#c:31"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.Zbits.html#d:32"><span class="id" title="variable">d</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">c</span> <span class="id" title="var">d</span> [<span class="id" title="var">k1</span> <span class="id" title="var">EQ1</span>] [<span class="id" title="var">k2</span> <span class="id" title="var">EQ2</span>]; <span class="id" title="tactic">red</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">k1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <span class="id" title="var">k2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.Zbits.html#EQ_MODULO.modul"><span class="id" title="variable">modul</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <span class="id" title="var">k2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">k1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <span class="id" title="var">d</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="CompOptCert.Zbits.html#EQ_MODULO"><span class="id" title="section">EQ_MODULO</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_divides" class="idref" href="#eqmod_divides"><span class="id" title="lemma">eqmod_divides</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:33" class="idref" href="#n:33"><span class="id" title="binder">n</span></a> <a id="m:34" class="idref" href="#m:34"><span class="id" title="binder">m</span></a> <a id="x:35" class="idref" href="#x:35"><span class="id" title="binder">x</span></a> <a id="y:36" class="idref" href="#y:36"><span class="id" title="binder">y</span></a>, <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:33"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:36"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.divide"><span class="id" title="definition">Z.divide</span></a> <a class="idref" href="CompOptCert.Zbits.html#m:34"><span class="id" title="variable">m</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:33"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> <a class="idref" href="CompOptCert.Zbits.html#m:34"><span class="id" title="variable">m</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:35"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:36"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k1</span> <span class="id" title="var">EQ1</span>]. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k2</span> <span class="id" title="var">EQ2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">k1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a><span class="id" title="var">k2</span>). <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.mul_assoc"><span class="id" title="lemma">Z.mul_assoc</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ2</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab58"></a><h2 class="section">Fast normalization modulo <span class="inlinecode">2^<span class="id" title="var">n</span></span></h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="P_mod_two_p" class="idref" href="#P_mod_two_p"><span class="id" title="definition">P_mod_two_p</span></a> (<a id="p:37" class="idref" href="#p:37"><span class="id" title="binder">p</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) (<a id="n:38" class="idref" href="#n:38"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">n</span>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.Zbits.html#n:38"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.Zbits.html#p:37"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#xH"><span class="id" title="constructor">xH</span></a> ⇒ 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#xO"><span class="id" title="constructor">xO</span></a> <span class="id" title="var">q</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.double"><span class="id" title="definition">Z.double</span></a> (<a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p:39"><span class="id" title="definition">P_mod_two_p</span></a> <span class="id" title="var">q</span> <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#xI"><span class="id" title="constructor">xI</span></a> <span class="id" title="var">q</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ_double"><span class="id" title="definition">Z.succ_double</span></a> (<a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p:39"><span class="id" title="definition">P_mod_two_p</span></a> <span class="id" title="var">q</span> <span class="id" title="var">m</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Z_mod_two_p" class="idref" href="#Z_mod_two_p"><span class="id" title="definition">Z_mod_two_p</span></a> (<a id="x:42" class="idref" href="#x:42"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="n:43" class="idref" href="#n:43"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.Zbits.html#x:42"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z0"><span class="id" title="constructor">Z0</span></a> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span> ⇒ <a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p"><span class="id" title="definition">P_mod_two_p</span></a> <span class="id" title="var">p</span> <a class="idref" href="CompOptCert.Zbits.html#n:43"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zneg"><span class="id" title="constructor">Zneg</span></a> <span class="id" title="var">p</span> ⇒ <span class="id" title="keyword">let</span> <a id="r:45" class="idref" href="#r:45"><span class="id" title="binder">r</span></a> := <a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p"><span class="id" title="definition">P_mod_two_p</span></a> <span class="id" title="var">p</span> <a class="idref" href="CompOptCert.Zbits.html#n:43"><span class="id" title="variable">n</span></a> <span class="id" title="tactic">in</span> <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <a class="idref" href="CompOptCert.Zbits.html#r:45"><span class="id" title="variable">r</span></a> 0 <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:43"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="CompOptCert.Zbits.html#r:45"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="P_mod_two_p_range" class="idref" href="#P_mod_two_p_range"><span class="id" title="lemma">P_mod_two_p_range</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:46" class="idref" href="#n:46"><span class="id" title="binder">n</span></a> <a id="p:47" class="idref" href="#p:47"><span class="id" title="binder">p</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p"><span class="id" title="definition">P_mod_two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#p:47"><span class="id" title="variable">p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:46"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:46"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#two_power_nat_O"><span class="id" title="lemma">two_power_nat_O</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat_S"><span class="id" title="lemma">two_power_nat_S</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">p</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ_double_spec"><span class="id" title="lemma">Z.succ_double_spec</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">p</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.double_spec"><span class="id" title="lemma">Z.double_spec</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<a class="idref" href="CompOptCert.Coqlib.html#two_power_nat_pos"><span class="id" title="lemma">two_power_nat_pos</span></a> <span class="id" title="var">n</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="P_mod_two_p_eq" class="idref" href="#P_mod_two_p_eq"><span class="id" title="lemma">P_mod_two_p_eq</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:48" class="idref" href="#n:48"><span class="id" title="binder">n</span></a> <a id="p:49" class="idref" href="#p:49"><span class="id" title="binder">p</span></a>, <a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p"><span class="id" title="definition">P_mod_two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#p:49"><span class="id" title="variable">p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:48"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <a class="idref" href="CompOptCert.Zbits.html#p:49"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:48"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="n:53" class="idref" href="#n:53"><span class="id" title="binder">n</span></a> <a id="p:54" class="idref" href="#p:54"><span class="id" title="binder">p</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:55" class="idref" href="#y:55"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <a class="idref" href="CompOptCert.Zbits.html#p:51"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:52"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:50"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p"><span class="id" title="definition">P_mod_two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#p:51"><span class="id" title="variable">p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:50"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#two_power_nat_O"><span class="id" title="lemma">two_power_nat_O</span></a>. <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span>). <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat_S"><span class="id" title="lemma">two_power_nat_S</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> <span class="id" title="var">EQ</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPosDef.html#119ad21c8e0c4947cd973f1f72e5feea"><span class="id" title="notation">~1</span></a>) <span class="id" title="keyword">with</span> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ_double_spec"><span class="id" title="lemma">Z.succ_double_spec</span></a>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> <span class="id" title="var">EQ</span>]. <span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPosDef.html#35713fcadfdd66af247cbf95acf859fa"><span class="id" title="notation">~0</span></a>) <span class="id" title="keyword">with</span> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.double_spec"><span class="id" title="lemma">Z.double_spec</span></a> (<a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p"><span class="id" title="definition">P_mod_two_p</span></a> <span class="id" title="var">p</span> <span class="id" title="var">n</span>)). <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> 0; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">n</span> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> <span class="id" title="var">EQ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Coqlib.html#Zmod_unique"><span class="id" title="lemma">Zmod_unique</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p_range"><span class="id" title="lemma">P_mod_two_p_range</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_mod_two_p_range" class="idref" href="#Z_mod_two_p_range"><span class="id" title="lemma">Z_mod_two_p_range</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:56" class="idref" href="#n:56"><span class="id" title="binder">n</span></a> <a id="x:57" class="idref" href="#x:57"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#Z_mod_two_p"><span class="id" title="definition">Z_mod_two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:57"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:56"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:56"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Z_mod_two_p"><span class="id" title="definition">Z_mod_two_p</span></a>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="CompOptCert.Coqlib.html#two_power_nat_pos"><span class="id" title="lemma">two_power_nat_pos</span></a> <span class="id" title="var">n</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p_range"><span class="id" title="lemma">P_mod_two_p_range</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">set</span> (<span class="id" title="var">r</span> := <a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p"><span class="id" title="definition">P_mod_two_p</span></a> <span class="id" title="var">p</span> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p_range"><span class="id" title="lemma">P_mod_two_p_range</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">r</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">Psatz.lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_mod_two_p_eq" class="idref" href="#Z_mod_two_p_eq"><span class="id" title="lemma">Z_mod_two_p_eq</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:58" class="idref" href="#n:58"><span class="id" title="binder">n</span></a> <a id="x:59" class="idref" href="#x:59"><span class="id" title="binder">x</span></a>, <a class="idref" href="CompOptCert.Zbits.html#Z_mod_two_p"><span class="id" title="definition">Z_mod_two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:59"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:58"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:59"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:58"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Z_mod_two_p"><span class="id" title="definition">Z_mod_two_p</span></a>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="CompOptCert.Coqlib.html#two_power_nat_pos"><span class="id" title="lemma">two_power_nat_pos</span></a> <span class="id" title="var">n</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Zmod_0_l"><span class="id" title="lemma">Zmod_0_l</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p_eq"><span class="id" title="lemma">P_mod_two_p_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">generalize</span> (<a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p_range"><span class="id" title="lemma">P_mod_two_p_range</span></a> <span class="id" title="var">n</span> <span class="id" title="var">p</span>) (<a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p_eq"><span class="id" title="lemma">P_mod_two_p_eq</span></a> <span class="id" title="var">n</span> <span class="id" title="var">p</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Z_div_mod_eq"><span class="id" title="lemma">Z_div_mod_eq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <span class="id" title="var">n</span>)); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">r</span> := <a class="idref" href="CompOptCert.Zbits.html#P_mod_two_p"><span class="id" title="definition">P_mod_two_p</span></a> <span class="id" title="var">p</span> <span class="id" title="var">n</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">B</span> <span class="id" title="tactic">in</span> <span class="id" title="var">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.neg"><span class="id" title="abbreviation">Z.neg</span></a> <span class="id" title="var">p</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">)</span></a>). <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">r</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Coqlib.html#Zmod_unique"><span class="id" title="lemma">Zmod_unique</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">q</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">C</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="var">Psatz.lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Coqlib.html#Zmod_unique"><span class="id" title="lemma">Zmod_unique</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">q</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">C</span>. <span class="id" title="var">Psatz.lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab59"></a><h2 class="section">Bit-level operations and properties</h2>

<div class="paragraph"> </div>

 Shift <span class="inlinecode"><a class="idref" href="CompOptCert.UsualFMapPositive.html#UsualPositiveMap'.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> left by one and insert <span class="inlinecode"><span class="id" title="var">b</span></span> as the low bit of the result. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Zshiftin" class="idref" href="#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> (<a id="b:60" class="idref" href="#b:60"><span class="id" title="binder">b</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="x:61" class="idref" href="#x:61"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Zbits.html#b:60"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ_double"><span class="id" title="definition">Z.succ_double</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:61"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.double"><span class="id" title="definition">Z.double</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:61"><span class="id" title="variable">x</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Ztestbit_0" class="idref" href="#Ztestbit_0"><span class="id" title="lemma">Ztestbit_0</span></a>: <span class="id" title="keyword">∀</span> <a id="n:62" class="idref" href="#n:62"><span class="id" title="binder">n</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> 0 <a class="idref" href="CompOptCert.Zbits.html#n:62"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit_0_l"><span class="id" title="lemma">Z.testbit_0_l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Ztestbit_1" class="idref" href="#Ztestbit_1"><span class="id" title="lemma">Ztestbit_1</span></a>: <span class="id" title="keyword">∀</span> <a id="n:63" class="idref" href="#n:63"><span class="id" title="binder">n</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> 1 <a class="idref" href="CompOptCert.Zbits.html#n:63"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:63"><span class="id" title="variable">n</span></a> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Ztestbit_m1" class="idref" href="#Ztestbit_m1"><span class="id" title="lemma">Ztestbit_m1</span></a>: <span class="id" title="keyword">∀</span> <a id="n:64" class="idref" href="#n:64"><span class="id" title="binder">n</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (-1) <a class="idref" href="CompOptCert.Zbits.html#n:64"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Zshiftin_spec" class="idref" href="#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="b:65" class="idref" href="#b:65"><span class="id" title="binder">b</span></a> <a id="x:66" class="idref" href="#x:66"><span class="id" title="binder">x</span></a>, <a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:65"><span class="id" title="variable">b</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:66"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:66"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Zbits.html#b:65"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ_double_spec"><span class="id" title="lemma">Z.succ_double_spec</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.double_spec"><span class="id" title="lemma">Z.double_spec</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Zshiftin_inj" class="idref" href="#Zshiftin_inj"><span class="id" title="lemma">Zshiftin_inj</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="b1:67" class="idref" href="#b1:67"><span class="id" title="binder">b1</span></a> <a id="x1:68" class="idref" href="#x1:68"><span class="id" title="binder">x1</span></a> <a id="b2:69" class="idref" href="#b2:69"><span class="id" title="binder">b2</span></a> <a id="x2:70" class="idref" href="#x2:70"><span class="id" title="binder">x2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="CompOptCert.Zbits.html#b1:67"><span class="id" title="variable">b1</span></a> <a class="idref" href="CompOptCert.Zbits.html#x1:68"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="CompOptCert.Zbits.html#b2:69"><span class="id" title="variable">b2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x2:70"><span class="id" title="variable">x2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#b1:67"><span class="id" title="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#b2:69"><span class="id" title="variable">b2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Zbits.html#x1:68"><span class="id" title="variable">x1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#x2:70"><span class="id" title="variable">x2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">auto</span>|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">auto</span>|<span class="id" title="var">lia</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Zdecomp" class="idref" href="#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:71" class="idref" href="#x:71"><span class="id" title="binder">x</span></a>, <a class="idref" href="CompOptCert.Zbits.html#x:71"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:71"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:71"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.pred_double_succ"><span class="id" title="lemma">Pos.pred_double_succ</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Ztestbit_shiftin" class="idref" href="#Ztestbit_shiftin"><span class="id" title="lemma">Ztestbit_shiftin</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="b:72" class="idref" href="#b:72"><span class="id" title="binder">b</span></a> <a id="x:73" class="idref" href="#x:73"><span class="id" title="binder">x</span></a> <a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:72"><span class="id" title="variable">b</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:73"><span class="id" title="variable">x</span></a>) <a class="idref" href="CompOptCert.Zbits.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:74"><span class="id" title="variable">n</span></a> 0 <span class="id" title="keyword">then</span> <a class="idref" href="CompOptCert.Zbits.html#b:72"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:73"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:74"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">n</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit_odd_0"><span class="id" title="lemma">Z.testbit_odd_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.add_0_r"><span class="id" title="lemma">Z.add_0_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit_even_0"><span class="id" title="lemma">Z.testbit_even_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">n'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <span class="id" title="var">n'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">unfold</span> <span class="id" title="var">n'</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit_odd_succ"><span class="id" title="lemma">Z.testbit_odd_succ</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.add_0_r"><span class="id" title="lemma">Z.add_0_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit_even_succ"><span class="id" title="lemma">Z.testbit_even_succ</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Ztestbit_shiftin_base" class="idref" href="#Ztestbit_shiftin_base"><span class="id" title="lemma">Ztestbit_shiftin_base</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="b:75" class="idref" href="#b:75"><span class="id" title="binder">b</span></a> <a id="x:76" class="idref" href="#x:76"><span class="id" title="binder">x</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:75"><span class="id" title="variable">b</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:76"><span class="id" title="variable">x</span></a>) 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:75"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin"><span class="id" title="lemma">Ztestbit_shiftin</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Ztestbit_shiftin_succ" class="idref" href="#Ztestbit_shiftin_succ"><span class="id" title="lemma">Ztestbit_shiftin_succ</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="b:77" class="idref" href="#b:77"><span class="id" title="binder">b</span></a> <a id="x:78" class="idref" href="#x:78"><span class="id" title="binder">x</span></a> <a id="n:79" class="idref" href="#n:79"><span class="id" title="binder">n</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:79"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:77"><span class="id" title="variable">b</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:78"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:79"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:78"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:79"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin"><span class="id" title="lemma">Ztestbit_shiftin</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq_false"><span class="id" title="lemma">zeq_false</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred_succ"><span class="id" title="lemma">Z.pred_succ</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zshiftin_ind" class="idref" href="#Zshiftin_ind"><span class="id" title="lemma">Zshiftin_ind</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="P:80" class="idref" href="#P:80"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#P:80"><span class="id" title="variable">P</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="b:81" class="idref" href="#b:81"><span class="id" title="binder">b</span></a> <a id="x:82" class="idref" href="#x:82"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:82"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#P:80"><span class="id" title="variable">P</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:82"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#P:80"><span class="id" title="variable">P</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:81"><span class="id" title="variable">b</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:82"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:83" class="idref" href="#x:83"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:83"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#P:80"><span class="id" title="variable">P</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:83"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<span class="id" title="var">P</span> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <span class="id" title="var">p</span>))). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<span class="id" title="var">P</span> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <span class="id" title="var">p</span>))). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<span class="id" title="var">P</span> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> 0)). <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zshiftin_pos_ind" class="idref" href="#Zshiftin_pos_ind"><span class="id" title="lemma">Zshiftin_pos_ind</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="P:84" class="idref" href="#P:84"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#P:84"><span class="id" title="variable">P</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="b:85" class="idref" href="#b:85"><span class="id" title="binder">b</span></a> <a id="x:86" class="idref" href="#x:86"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:86"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:86"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#P:84"><span class="id" title="variable">P</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:85"><span class="id" title="variable">b</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:86"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:87" class="idref" href="#x:87"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:87"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:87"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<span class="id" title="var">P</span> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <span class="id" title="var">p</span>))). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<span class="id" title="var">P</span> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <span class="id" title="var">p</span>))). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab60"></a><h2 class="section">Bit-wise decomposition (<span class="inlinecode"><span class="id" title="var">Z.testbit</span></span>)</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Ztestbit_eq" class="idref" href="#Ztestbit_eq"><span class="id" title="lemma">Ztestbit_eq</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:88" class="idref" href="#n:88"><span class="id" title="binder">n</span></a> <a id="x:89" class="idref" href="#x:89"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:88"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:89"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:88"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:88"><span class="id" title="variable">n</span></a> 0 <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:89"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:89"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:88"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin"><span class="id" title="lemma">Ztestbit_shiftin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Ztestbit_base" class="idref" href="#Ztestbit_base"><span class="id" title="lemma">Ztestbit_base</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:90" class="idref" href="#x:90"><span class="id" title="binder">x</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:90"><span class="id" title="variable">x</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:90"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_eq"><span class="id" title="lemma">Ztestbit_eq</span></a>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Ztestbit_succ" class="idref" href="#Ztestbit_succ"><span class="id" title="lemma">Ztestbit_succ</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:91" class="idref" href="#n:91"><span class="id" title="binder">n</span></a> <a id="x:92" class="idref" href="#x:92"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:91"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:92"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:91"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:92"><span class="id" title="variable">x</span></a>) <a class="idref" href="CompOptCert.Zbits.html#n:91"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_eq"><span class="id" title="lemma">Ztestbit_eq</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq_false"><span class="id" title="lemma">zeq_false</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred_succ"><span class="id" title="lemma">Z.pred_succ</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_same_bits" class="idref" href="#eqmod_same_bits"><span class="id" title="lemma">eqmod_same_bits</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:93" class="idref" href="#n:93"><span class="id" title="binder">n</span></a> <a id="x:94" class="idref" href="#x:94"><span class="id" title="binder">x</span></a> <a id="y:95" class="idref" href="#y:95"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:96" class="idref" href="#i:96"><span class="id" title="binder">i</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:96"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:93"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:94"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:96"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:95"><span class="id" title="variable">y</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:96"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:93"><span class="id" title="variable">n</span></a>) <a class="idref" href="CompOptCert.Zbits.html#x:94"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:95"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> 0) <span class="id" title="keyword">with</span> 1. <span class="id" title="tactic">∃</span> (<span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">y</span>); <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat_S"><span class="id" title="lemma">two_power_nat_S</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <span class="id" title="var">n</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">x</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_succ"><span class="id" title="lemma">Ztestbit_succ</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_succ"><span class="id" title="lemma">Nat2Z.inj_succ</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">EQ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x</span>). <span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<span class="id" title="var">H</span> 0). <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_succ"><span class="id" title="lemma">Nat2Z.inj_succ</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_base"><span class="id" title="lemma">Ztestbit_base</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="same_bits_eqmod" class="idref" href="#same_bits_eqmod"><span class="id" title="lemma">same_bits_eqmod</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:97" class="idref" href="#n:97"><span class="id" title="binder">n</span></a> <a id="x:98" class="idref" href="#x:98"><span class="id" title="binder">x</span></a> <a id="y:99" class="idref" href="#y:99"><span class="id" title="binder">y</span></a> <a id="i:100" class="idref" href="#i:100"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:97"><span class="id" title="variable">n</span></a>) <a class="idref" href="CompOptCert.Zbits.html#x:98"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:99"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:100"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:97"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:98"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:100"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:99"><span class="id" title="variable">y</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:100"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_succ"><span class="id" title="lemma">Nat2Z.inj_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat_S"><span class="id" title="lemma">two_power_nat_S</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !(<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_eq"><span class="id" title="lemma">Ztestbit_eq</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">k</span> <span class="id" title="var">EQ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">EQ'</span>: <a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">y</span>) (<span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_inj"><span class="id" title="lemma">Zshiftin_inj</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> <span class="id" title="var">B</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="equal_same_bits" class="idref" href="#equal_same_bits"><span class="id" title="lemma">equal_same_bits</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:101" class="idref" href="#x:101"><span class="id" title="binder">x</span></a> <a id="y:102" class="idref" href="#y:102"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:103" class="idref" href="#i:103"><span class="id" title="binder">i</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:103"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:101"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:103"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:102"><span class="id" title="variable">y</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:103"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#x:101"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:102"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.bits_inj'"><span class="id" title="lemma">Z.bits_inj'</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_one_complement" class="idref" href="#Z_one_complement"><span class="id" title="lemma">Z_one_complement</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:104" class="idref" href="#i:104"><span class="id" title="binder">i</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:104"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:105" class="idref" href="#x:105"><span class="id" title="binder">x</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="CompOptCert.Zbits.html#x:105"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1) <a class="idref" href="CompOptCert.Zbits.html#i:104"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:105"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:104"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i0</span> <span class="id" title="var">POS0</span>. <span class="id" title="tactic">pattern</span> <span class="id" title="var">i0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Wf_Z.html#Zlt_0_ind"><span class="id" title="lemma">Zlt_0_ind</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">IND</span> <span class="id" title="var">POS</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">y</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>)) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin"><span class="id" title="lemma">Ztestbit_shiftin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">i</span> 0). <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IND</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="var">negb</span>; <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ztestbit_above" class="idref" href="#Ztestbit_above"><span class="id" title="lemma">Ztestbit_above</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:106" class="idref" href="#n:106"><span class="id" title="binder">n</span></a> <a id="x:107" class="idref" href="#x:107"><span class="id" title="binder">x</span></a> <a id="i:108" class="idref" href="#i:108"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:107"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:106"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#i:108"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">≥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:106"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:107"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:108"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> 0) <span class="id" title="keyword">with</span> 1 <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit_0_l"><span class="id" title="lemma">Z.testbit_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_succ"><span class="id" title="lemma">Nat2Z.inj_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_eq"><span class="id" title="lemma">Ztestbit_eq</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq_false"><span class="id" title="lemma">zeq_false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat_S"><span class="id" title="lemma">two_power_nat_S</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ztestbit_above_neg" class="idref" href="#Ztestbit_above_neg"><span class="id" title="lemma">Ztestbit_above_neg</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:109" class="idref" href="#n:109"><span class="id" title="binder">n</span></a> <a id="x:110" class="idref" href="#x:110"><span class="id" title="binder">x</span></a> <a id="i:111" class="idref" href="#i:111"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:109"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:110"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#i:111"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">≥</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:109"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:110"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:111"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">y</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <span class="id" title="var">y</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_above"><span class="id" title="lemma">Ztestbit_above</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">y</span>; <span class="id" title="var">lia</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">y</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Z_one_complement"><span class="id" title="lemma">Z_one_complement</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>). <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Bool.Bool.html#negb_involutive"><span class="id" title="lemma">negb_involutive</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zsign_bit" class="idref" href="#Zsign_bit"><span class="id" title="lemma">Zsign_bit</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:112" class="idref" href="#n:112"><span class="id" title="binder">n</span></a> <a id="x:113" class="idref" href="#x:113"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:113"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:112"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:113"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:112"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:113"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:112"><span class="id" title="variable">n</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> 1) <span class="id" title="keyword">with</span> 2 <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_succ"><span class="id" title="lemma">Nat2Z.inj_succ</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_eq"><span class="id" title="lemma">Ztestbit_eq</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq_false"><span class="id" title="lemma">zeq_false</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred_succ"><span class="id" title="lemma">Z.pred_succ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat_S"><span class="id" title="lemma">two_power_nat_S</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">x</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <span class="id" title="var">n</span>)); <span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x</span>); <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_true"><span class="id" title="lemma">zlt_true</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_false"><span class="id" title="lemma">zlt_false</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat_S"><span class="id" title="lemma">two_power_nat_S</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ztestbit_le" class="idref" href="#Ztestbit_le"><span class="id" title="lemma">Ztestbit_le</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:114" class="idref" href="#x:114"><span class="id" title="binder">x</span></a> <a id="y:115" class="idref" href="#y:115"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:115"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:116" class="idref" href="#i:116"><span class="id" title="binder">i</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:116"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:114"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:116"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:115"><span class="id" title="variable">y</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:116"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#x:114"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:115"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y0</span> <span class="id" title="var">POS0</span>; <span class="id" title="var">revert</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">pattern</span> <span class="id" title="var">y0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_ind"><span class="id" title="lemma">Zshiftin_ind</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> <span class="id" title="var">x</span> <span class="id" title="keyword">with</span> 0. <span class="id" title="var">lia</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#equal_same_bits"><span class="id" title="lemma">equal_same_bits</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_0"><span class="id" title="lemma">Ztestbit_0</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <span class="id" title="var">x</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [] <span class="id" title="var">eqn</span>:<span class="id" title="var">E</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_0"><span class="id" title="lemma">Ztestbit_0</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">x0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">exploit</span> (<span class="id" title="var">H1</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_succ"><span class="id" title="lemma">Ztestbit_succ</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin_succ"><span class="id" title="lemma">Ztestbit_shiftin_succ</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x0</span>). <span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x0</span>) <span class="id" title="keyword">as</span> [] <span class="id" title="var">eqn</span>:<span class="id" title="var">E1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [] <span class="id" title="var">eqn</span>:<span class="id" title="var">E2</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<span class="id" title="var">H1</span> 0). <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_base"><span class="id" title="lemma">Ztestbit_base</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin_base"><span class="id" title="lemma">Ztestbit_shiftin_base</span></a>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ztestbit_mod_two_p" class="idref" href="#Ztestbit_mod_two_p"><span class="id" title="lemma">Ztestbit_mod_two_p</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:117" class="idref" href="#n:117"><span class="id" title="binder">n</span></a> <a id="x:118" class="idref" href="#x:118"><span class="id" title="binder">x</span></a> <a id="i:119" class="idref" href="#i:119"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:117"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:119"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#x:118"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:117"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">)</span></a>) <a class="idref" href="CompOptCert.Zbits.html#i:119"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:119"><span class="id" title="variable">i</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:117"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:118"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:119"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n0</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">N0POS</span>. <span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">pattern</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Wf_Z.html#natlike_ind"><span class="id" title="lemma">natlike_ind</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> 0) <span class="id" title="keyword">with</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Zmod_1_r"><span class="id" title="lemma">Zmod_1_r</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit_0_l"><span class="id" title="lemma">Z.testbit_0_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_false"><span class="id" title="lemma">zlt_false</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_S"><span class="id" title="lemma">two_p_S</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">x0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">(</span></a>2 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x0</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">x0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin"><span class="id" title="lemma">Ztestbit_shiftin</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_eq"><span class="id" title="lemma">Ztestbit_eq</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x0</span>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_true"><span class="id" title="lemma">zlt_true</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_true"><span class="id" title="lemma">zlt_true</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_false"><span class="id" title="lemma">zlt_false</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x0</span>) <span class="id" title="tactic">at</span> 3. <span class="id" title="tactic">set</span> (<span class="id" title="var">x1</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">x0</span>). <span class="id" title="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Coqlib.html#Zmod_unique"><span class="id" title="lemma">Zmod_unique</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.add_assoc"><span class="id" title="lemma">Z.add_assoc</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">(</span></a><span class="id" title="var">x1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">x1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Z_div_mod_eq"><span class="id" title="lemma">Z_div_mod_eq</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_gt_ZERO"><span class="id" title="lemma">two_p_gt_ZERO</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>. <span class="id" title="var">exploit</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Z_mod_lt"><span class="id" title="lemma">Z_mod_lt</span></a> <span class="id" title="var">x1</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">x</span>)). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_gt_ZERO"><span class="id" title="lemma">two_p_gt_ZERO</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x0</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="Ztestbit_two_p_m1" class="idref" href="#Ztestbit_two_p_m1"><span class="id" title="lemma">Ztestbit_two_p_m1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:120" class="idref" href="#n:120"><span class="id" title="binder">n</span></a> <a id="i:121" class="idref" href="#i:121"><span class="id" title="binder">i</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:120"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:121"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:120"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <a class="idref" href="CompOptCert.Zbits.html#i:121"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:121"><span class="id" title="variable">i</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:120"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">(</span></a>-1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_mod_two_p"><span class="id" title="lemma">Ztestbit_mod_two_p</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_m1"><span class="id" title="lemma">Ztestbit_m1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Coqlib.html#Zmod_unique"><span class="id" title="lemma">Zmod_unique</span></a> <span class="id" title="keyword">with</span> (-1). <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_gt_ZERO"><span class="id" title="lemma">two_p_gt_ZERO</span></a> <span class="id" title="var">n</span>). <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="Ztestbit_neg_two_p" class="idref" href="#Ztestbit_neg_two_p"><span class="id" title="lemma">Ztestbit_neg_two_p</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:122" class="idref" href="#n:122"><span class="id" title="binder">n</span></a> <a id="i:123" class="idref" href="#i:123"><span class="id" title="binder">i</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:123"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:122"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">)</span></a>) <a class="idref" href="CompOptCert.Zbits.html#i:123"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:123"><span class="id" title="variable">i</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:122"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Z_one_complement"><span class="id" title="lemma">Z_one_complement</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_two_p_m1"><span class="id" title="lemma">Ztestbit_two_p_m1</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_add_is_or" class="idref" href="#Z_add_is_or"><span class="id" title="lemma">Z_add_is_or</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:124" class="idref" href="#i:124"><span class="id" title="binder">i</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:124"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:125" class="idref" href="#x:125"><span class="id" title="binder">x</span></a> <a id="y:126" class="idref" href="#y:126"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="j:127" class="idref" href="#j:127"><span class="id" title="binder">j</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#j:127"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:124"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:125"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#j:127"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:126"><span class="id" title="variable">y</span></a> <a class="idref" href="CompOptCert.Zbits.html#j:127"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#x:125"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:126"><span class="id" title="variable">y</span></a>) <a class="idref" href="CompOptCert.Zbits.html#i:124"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:125"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:124"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:126"><span class="id" title="variable">y</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:124"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i0</span> <span class="id" title="var">POS0</span>. <span class="id" title="tactic">pattern</span> <span class="id" title="var">i0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Wf_Z.html#Zlt_0_ind"><span class="id" title="lemma">Zlt_0_ind</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">IND</span> <span class="id" title="var">POS</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">EXCL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">y</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">y</span>)) <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<span class="id" title="var">EXCL</span> 0). <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin_base"><span class="id" title="lemma">Ztestbit_shiftin_base</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.mul"><span class="id" title="definition">Z.mul</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>); <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">y</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">discriminate</span> || <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin"><span class="id" title="lemma">Ztestbit_shiftin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IND</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<span class="id" title="var">EXCL</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <span class="id" title="var">j</span>)). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin_succ"><span class="id" title="lemma">Ztestbit_shiftin_succ</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab61"></a><h2 class="section">Zero and sign extensions</h2>

<div class="paragraph"> </div>

 In pseudo-code:
    <code>
</code>        Fixpoint Zzero_ext (n: Z) (x: Z) : Z :=
          if zle n 0 then
            0
          else
            Zshiftin (Z.odd x) (Zzero_ext (Z.pred n) (Z.div2 x)).
        Fixpoint Zsign_ext (n: Z) (x: Z) : Z :=
          if zle n 1 then
            if Z.odd x then -1 else 0
          else
            Zshiftin (Z.odd x) (Zzero_ext (Z.pred n) (Z.div2 x)).
    &gt;&gt;
      We encode this <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a></span>-like recursion using the <span class="inlinecode"><span class="id" title="var">Z.iter</span></span> iteration
      function, in order to make the <span class="inlinecode"><a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a></span> and <span class="inlinecode"><a class="idref" href="CompOptCert.Zbits.html#Zsign_ext"><span class="id" title="definition">Zsign_ext</span></a></span>
      functions efficiently executable within Coq.
    
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Zzero_ext" class="idref" href="#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> (<a id="n:128" class="idref" href="#n:128"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="x:129" class="idref" href="#x:129"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.iter"><span class="id" title="definition">Z.iter</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:128"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="rec:131" class="idref" href="#rec:131"><span class="id" title="binder">rec</span></a> <a id="x:132" class="idref" href="#x:132"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:132"><span class="id" title="variable">x</span></a>) (<a class="idref" href="CompOptCert.Zbits.html#rec:131"><span class="id" title="variable">rec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:132"><span class="id" title="variable">x</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:130" class="idref" href="#x:130"><span class="id" title="binder">x</span></a> ⇒ 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#x:129"><span class="id" title="variable">x</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Zsign_ext" class="idref" href="#Zsign_ext"><span class="id" title="definition">Zsign_ext</span></a> (<a id="n:133" class="idref" href="#n:133"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="x:134" class="idref" href="#x:134"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.iter"><span class="id" title="definition">Z.iter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:133"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="rec:136" class="idref" href="#rec:136"><span class="id" title="binder">rec</span></a> <a id="x:137" class="idref" href="#x:137"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:137"><span class="id" title="variable">x</span></a>) (<a class="idref" href="CompOptCert.Zbits.html#rec:136"><span class="id" title="variable">rec</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:137"><span class="id" title="variable">x</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="x:135" class="idref" href="#x:135"><span class="id" title="binder">x</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:135"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> 0 <a class="idref" href="CompOptCert.Zbits.html#n:133"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">then</span> -1 <span class="id" title="keyword">else</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#x:134"><span class="id" title="variable">x</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ziter_base" class="idref" href="#Ziter_base"><span class="id" title="lemma">Ziter_base</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:138" class="idref" href="#A:138"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>) <a id="n:139" class="idref" href="#n:139"><span class="id" title="binder">n</span></a> (<a id="f:140" class="idref" href="#f:140"><span class="id" title="binder">f</span></a>: <a class="idref" href="CompOptCert.Zbits.html#A:138"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#A:138"><span class="id" title="variable">A</span></a>) <a id="x:141" class="idref" href="#x:141"><span class="id" title="binder">x</span></a>, <a class="idref" href="CompOptCert.Zbits.html#n:139"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.iter"><span class="id" title="definition">Z.iter</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:139"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#f:140"><span class="id" title="variable">f</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:141"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:141"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.iter"><span class="id" title="definition">Z.iter</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ziter_succ" class="idref" href="#Ziter_succ"><span class="id" title="lemma">Ziter_succ</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="A:142" class="idref" href="#A:142"><span class="id" title="binder">A</span></a>: <span class="id" title="keyword">Type</span>) <a id="n:143" class="idref" href="#n:143"><span class="id" title="binder">n</span></a> (<a id="f:144" class="idref" href="#f:144"><span class="id" title="binder">f</span></a>: <a class="idref" href="CompOptCert.Zbits.html#A:142"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#A:142"><span class="id" title="variable">A</span></a>) <a id="x:145" class="idref" href="#x:145"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:143"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.iter"><span class="id" title="definition">Z.iter</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:143"><span class="id" title="variable">n</span></a>) <a class="idref" href="CompOptCert.Zbits.html#f:144"><span class="id" title="variable">f</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:145"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#f:144"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.iter"><span class="id" title="definition">Z.iter</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:143"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#f:144"><span class="id" title="variable">f</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:145"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.add_1_r"><span class="id" title="lemma">Pos.add_1_r</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.iter_succ"><span class="id" title="lemma">Pos.iter_succ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Znatlike_ind" class="idref" href="#Znatlike_ind"><span class="id" title="lemma">Znatlike_ind</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="P:146" class="idref" href="#P:146"><span class="id" title="binder">P</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="n:147" class="idref" href="#n:147"><span class="id" title="binder">n</span></a>, <a class="idref" href="CompOptCert.Zbits.html#n:147"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#P:146"><span class="id" title="variable">P</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:147"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="n:148" class="idref" href="#n:148"><span class="id" title="binder">n</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:148"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#P:146"><span class="id" title="variable">P</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:148"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#P:146"><span class="id" title="variable">P</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:148"><span class="id" title="variable">n</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:149" class="idref" href="#n:149"><span class="id" title="binder">n</span></a>, <a class="idref" href="CompOptCert.Zbits.html#P:146"><span class="id" title="variable">P</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:149"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zle"><span class="id" title="definition">zle</span></a> 0 <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Wf_Z.html#natlike_ind"><span class="id" title="lemma">natlike_ind</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zzero_ext_spec" class="idref" href="#Zzero_ext_spec"><span class="id" title="lemma">Zzero_ext_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:150" class="idref" href="#n:150"><span class="id" title="binder">n</span></a> <a id="x:151" class="idref" href="#x:151"><span class="id" title="binder">x</span></a> <a id="i:152" class="idref" href="#i:152"><span class="id" title="binder">i</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:152"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:150"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:151"><span class="id" title="variable">x</span></a>) <a class="idref" href="CompOptCert.Zbits.html#i:152"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:152"><span class="id" title="variable">i</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:150"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:151"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:152"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a>. <span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">using</span> <a class="idref" href="CompOptCert.Zbits.html#Znatlike_ind"><span class="id" title="lemma">Znatlike_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ziter_base"><span class="id" title="lemma">Ziter_base</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_false"><span class="id" title="lemma">zlt_false</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_0"><span class="id" title="lemma">Ztestbit_0</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ziter_succ"><span class="id" title="lemma">Ziter_succ</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin"><span class="id" title="lemma">Ztestbit_shiftin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_eq"><span class="id" title="lemma">Ztestbit_eq</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_true"><span class="id" title="lemma">zlt_true</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_true"><span class="id" title="lemma">zlt_true</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_false"><span class="id" title="lemma">zlt_false</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zsign_ext_spec" class="idref" href="#Zsign_ext_spec"><span class="id" title="lemma">Zsign_ext_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:153" class="idref" href="#n:153"><span class="id" title="binder">n</span></a> <a id="x:154" class="idref" href="#x:154"><span class="id" title="binder">x</span></a> <a id="i:155" class="idref" href="#i:155"><span class="id" title="binder">i</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:155"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zsign_ext"><span class="id" title="definition">Zsign_ext</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:153"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:154"><span class="id" title="variable">x</span></a>) <a class="idref" href="CompOptCert.Zbits.html#i:155"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:154"><span class="id" title="variable">x</span></a> (<span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:155"><span class="id" title="variable">i</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:153"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="CompOptCert.Zbits.html#i:155"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="CompOptCert.Zbits.html#n:153"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n0</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">I0</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Zsign_ext"><span class="id" title="definition">Zsign_ext</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Coqlib.html#proj_sumbool"><span class="id" title="definition">proj_sumbool</span></a>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> 0 <span class="id" title="var">n0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">N0</span>|<span class="id" title="var">N0</span>]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">revert</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">I0</span>. <span class="id" title="tactic">pattern</span> <span class="id" title="var">n0</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Wf_Z.html#Zlt_lower_bound_ind"><span class="id" title="lemma">Zlt_lower_bound_ind</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">z</span> := 1); [ | <span class="id" title="var">lia</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Zsign_ext"><span class="id" title="definition">Zsign_ext</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">x</span> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">i</span> 1 <span class="id" title="keyword">then</span> <span class="id" title="var">i</span> <span class="id" title="keyword">else</span> 0) <span class="id" title="keyword">with</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_base"><span class="id" title="lemma">Ztestbit_base</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x0</span>); [ <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_m1"><span class="id" title="lemma">Ztestbit_m1</span></a>; <span class="id" title="tactic">auto</span> | <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_0"><span class="id" title="lemma">Ztestbit_0</span></a> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">i</span> 1); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">set</span> (<span class="id" title="var">x1</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> <span class="id" title="var">x</span>). <span class="id" title="tactic">replace</span> <span class="id" title="var">x1</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> <span class="id" title="var">x1</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ziter_succ"><span class="id" title="lemma">Ziter_succ</span></a> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">unfold</span> <span class="id" title="var">x1</span>; <span class="id" title="var">lia</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin"><span class="id" title="lemma">Ztestbit_shiftin</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">i</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_true"><span class="id" title="lemma">zlt_true</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_base"><span class="id" title="lemma">Ztestbit_base</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">unfold</span> <span class="id" title="var">x1</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">x1</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> <span class="id" title="var">i</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_true"><span class="id" title="lemma">zlt_true</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_eq"><span class="id" title="lemma">Ztestbit_eq</span></a> <span class="id" title="var">i</span> <span class="id" title="var">x0</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq_false"><span class="id" title="lemma">zeq_false</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_false"><span class="id" title="lemma">zlt_false</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_eq"><span class="id" title="lemma">Ztestbit_eq</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="var">x0</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq_false"><span class="id" title="lemma">zeq_false</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ziter_base"><span class="id" title="lemma">Ziter_base</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Bool.Bool.html#andb_false_r"><span class="id" title="lemma">andb_false_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit_0_l"><span class="id" title="lemma">Z.testbit_0_l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit_neg_r"><span class="id" title="lemma">Z.testbit_neg_r</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n0</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><a class="idref" href="CompOptCert.UsualFMapPositive.html#UsualPositiveMap'.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> is <span class="inlinecode"><a class="idref" href="CompOptCert.UsualFMapPositive.html#UsualPositiveMap'.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.modulo"><span class="id" title="definition">modulo</span></a></span> <span class="inlinecode">2^<span class="id" title="var">n</span></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zzero_ext_mod" class="idref" href="#Zzero_ext_mod"><span class="id" title="lemma">Zzero_ext_mod</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:156" class="idref" href="#n:156"><span class="id" title="binder">n</span></a> <a id="x:157" class="idref" href="#x:157"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:156"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:156"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:157"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:157"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:156"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#equal_same_bits"><span class="id" title="lemma">equal_same_bits</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext_spec"><span class="id" title="lemma">Zzero_ext_spec</span></a>, <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_mod_two_p"><span class="id" title="lemma">Ztestbit_mod_two_p</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><a class="idref" href="CompOptCert.UsualFMapPositive.html#UsualPositiveMap'.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> is the unique integer congruent to <span class="inlinecode"><a class="idref" href="CompOptCert.UsualFMapPositive.html#UsualPositiveMap'.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> modulo <span class="inlinecode">2^<span class="id" title="var">n</span></span> in the range <span class="inlinecode">0...2^<span class="id" title="var">n</span>-1</span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zzero_ext_range" class="idref" href="#Zzero_ext_range"><span class="id" title="lemma">Zzero_ext_range</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:158" class="idref" href="#n:158"><span class="id" title="binder">n</span></a> <a id="x:159" class="idref" href="#x:159"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:158"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:158"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:159"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:158"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext_mod"><span class="id" title="lemma">Zzero_ext_mod</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Z_mod_lt"><span class="id" title="lemma">Z_mod_lt</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_gt_ZERO"><span class="id" title="lemma">two_p_gt_ZERO</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_Zzero_ext" class="idref" href="#eqmod_Zzero_ext"><span class="id" title="lemma">eqmod_Zzero_ext</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:160" class="idref" href="#n:160"><span class="id" title="binder">n</span></a> <a id="x:161" class="idref" href="#x:161"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:160"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:160"><span class="id" title="variable">n</span></a>) (<a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:160"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:161"><span class="id" title="variable">x</span></a>) <a class="idref" href="CompOptCert.Zbits.html#x:161"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext_mod"><span class="id" title="lemma">Zzero_ext_mod</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#eqmod_sym"><span class="id" title="lemma">eqmod_sym</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#eqmod_mod"><span class="id" title="lemma">eqmod_mod</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_gt_ZERO"><span class="id" title="lemma">two_p_gt_ZERO</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Relation between <span class="inlinecode"><a class="idref" href="CompOptCert.Zbits.html#Zsign_ext"><span class="id" title="definition">Zsign_ext</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><a class="idref" href="CompOptCert.UsualFMapPositive.html#UsualPositiveMap'.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> and (Zzero_ext n x] 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zsign_ext_zero_ext" class="idref" href="#Zsign_ext_zero_ext"><span class="id" title="lemma">Zsign_ext_zero_ext</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:162" class="idref" href="#n:162"><span class="id" title="binder">n</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:162"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="x:163" class="idref" href="#x:163"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#Zsign_ext"><span class="id" title="definition">Zsign_ext</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:162"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:163"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:162"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:163"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:163"><span class="id" title="variable">x</span></a> (<a class="idref" href="CompOptCert.Zbits.html#n:162"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:162"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">else</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#equal_same_bits"><span class="id" title="lemma">equal_same_bits</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zsign_ext_spec"><span class="id" title="lemma">Zsign_ext_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <span class="id" title="var">x</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)) <span class="id" title="var">eqn</span>:<span class="id" title="var">SIGNBIT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">set</span> (<span class="id" title="var">n'</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">n</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">n'</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">unfold</span> <span class="id" title="var">n'</span>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Z_add_is_or"><span class="id" title="lemma">Z_add_is_or</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext_spec"><span class="id" title="lemma">Zzero_ext_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">n'</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_neg_two_p"><span class="id" title="lemma">Ztestbit_neg_two_p</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Bool.Bool.html#orb_false_r"><span class="id" title="lemma">orb_false_r</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext_spec"><span class="id" title="lemma">Zzero_ext_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">n'</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_neg_two_p"><span class="id" title="lemma">Ztestbit_neg_two_p</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">j</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Bool.Bool.html#andb_false_r"><span class="id" title="lemma">andb_false_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> (<a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 0) <span class="id" title="keyword">with</span> (<a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext_spec"><span class="id" title="lemma">Zzero_ext_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="CompOptCert.Zbits.html#Zsign_ext"><span class="id" title="definition">Zsign_ext</span></a></span> <span class="inlinecode"><span class="id" title="var">n</span></span> <span class="inlinecode"><a class="idref" href="CompOptCert.UsualFMapPositive.html#UsualPositiveMap'.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> is the unique integer congruent to <span class="inlinecode"><a class="idref" href="CompOptCert.UsualFMapPositive.html#UsualPositiveMap'.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> modulo <span class="inlinecode">2^<span class="id" title="var">n</span></span>
        in the range <span class="inlinecode">-2^(<span class="id" title="var">n</span>-1)...2^(<span class="id" title="var">n</span>-1)</span> <span class="inlinecode">-</span> <span class="inlinecode">1</span>. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zsign_ext_range" class="idref" href="#Zsign_ext_range"><span class="id" title="lemma">Zsign_ext_range</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:164" class="idref" href="#n:164"><span class="id" title="binder">n</span></a> <a id="x:165" class="idref" href="#x:165"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:164"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:'-'_x"><span class="id" title="notation">-</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> (<a class="idref" href="CompOptCert.Zbits.html#n:164"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zsign_ext"><span class="id" title="definition">Zsign_ext</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:164"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:165"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> (<a class="idref" href="CompOptCert.Zbits.html#n:164"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">A</span>: 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext_range"><span class="id" title="lemma">Zzero_ext_range</span></a>; <span class="id" title="var">lia</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">B</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span>) (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">set</span> (<span class="id" title="var">N</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CompOptCert.Zbits.html#Zsign_bit"><span class="id" title="lemma">Zsign_bit</span></a> <span class="id" title="var">N</span> (<a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ! <a class="idref" href="CompOptCert.Coqlib.html#two_power_nat_two_p"><span class="id" title="lemma">two_power_nat_two_p</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Znat.html#inj_S"><span class="id" title="abbreviation">inj_S</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#N"><span class="id" title="inductive">N</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Znat.html#Z2Nat.id"><span class="id" title="lemma">Z2Nat.id</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">X</span>. <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)) <span class="id" title="keyword">with</span> <span class="id" title="var">n</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">C</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_S"><span class="id" title="lemma">two_p_S</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext_spec"><span class="id" title="lemma">Zzero_ext_spec</span></a>, <a class="idref" href="CompOptCert.Coqlib.html#zlt_true"><span class="id" title="lemma">zlt_true</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">B</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zsign_ext_zero_ext"><span class="id" title="lemma">Zsign_ext_zero_ext</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1))); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="eqmod_Zsign_ext" class="idref" href="#eqmod_Zsign_ext"><span class="id" title="lemma">eqmod_Zsign_ext</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:166" class="idref" href="#n:166"><span class="id" title="binder">n</span></a> <a id="x:167" class="idref" href="#x:167"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:166"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#eqmod"><span class="id" title="definition">eqmod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:166"><span class="id" title="variable">n</span></a>) (<a class="idref" href="CompOptCert.Zbits.html#Zsign_ext"><span class="id" title="definition">Zsign_ext</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:166"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:167"><span class="id" title="variable">x</span></a>) <a class="idref" href="CompOptCert.Zbits.html#x:167"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zsign_ext_zero_ext"><span class="id" title="lemma">Zsign_ext_zero_ext</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#eqmod_trans"><span class="id" title="lemma">eqmod_trans</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#eqmod_sub"><span class="id" title="lemma">eqmod_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#eqmod_Zzero_ext"><span class="id" title="lemma">eqmod_Zzero_ext</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <span class="id" title="var">x</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0). <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <span class="id" title="var">x</span> (<span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)); <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#eqmod_refl2"><span class="id" title="lemma">eqmod_refl2</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab62"></a><h2 class="section">Decomposition of a number as a sum of powers of two.</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="Z_one_bits" class="idref" href="#Z_one_bits"><span class="id" title="definition">Z_one_bits</span></a> (<a id="n:168" class="idref" href="#n:168"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="x:169" class="idref" href="#x:169"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="i:170" class="idref" href="#i:170"><span class="id" title="binder">i</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">n</span>}: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.Zbits.html#n:168"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">m</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:169"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="CompOptCert.Zbits.html#i:170"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="CompOptCert.Zbits.html#Z_one_bits:171"><span class="id" title="definition">Z_one_bits</span></a> <span class="id" title="var">m</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:169"><span class="id" title="variable">x</span></a>) (<a class="idref" href="CompOptCert.Zbits.html#i:170"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a>1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="CompOptCert.Zbits.html#Z_one_bits:171"><span class="id" title="definition">Z_one_bits</span></a> <span class="id" title="var">m</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:169"><span class="id" title="variable">x</span></a>) (<a class="idref" href="CompOptCert.Zbits.html#i:170"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a>1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="powerserie" class="idref" href="#powerserie"><span class="id" title="definition">powerserie</span></a> (<a id="l:173" class="idref" href="#l:173"><span class="id" title="binder">l</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.Zbits.html#l:173"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">xs</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="CompOptCert.Zbits.html#powerserie:174"><span class="id" title="definition">powerserie</span></a> <span class="id" title="var">xs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_one_bits_powerserie" class="idref" href="#Z_one_bits_powerserie"><span class="id" title="lemma">Z_one_bits_powerserie</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:176" class="idref" href="#n:176"><span class="id" title="binder">n</span></a> <a id="x:177" class="idref" href="#x:177"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:177"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:176"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:177"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#powerserie"><span class="id" title="definition">powerserie</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Z_one_bits"><span class="id" title="definition">Z_one_bits</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:176"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:177"><span class="id" title="variable">x</span></a> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="n:181" class="idref" href="#n:181"><span class="id" title="binder">n</span></a> <a id="x:182" class="idref" href="#x:182"><span class="id" title="binder">x</span></a> <a id="i:183" class="idref" href="#i:183"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:180"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:179"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat"><span class="id" title="definition">two_power_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:178"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#x:179"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:180"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#powerserie"><span class="id" title="definition">powerserie</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Z_one_bits"><span class="id" title="definition">Z_one_bits</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:178"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:179"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:180"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#two_power_nat_O"><span class="id" title="lemma">two_power_nat_O</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_nat_S"><span class="id" title="lemma">two_power_nat_S</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="var">Z_one_bits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">EQ</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#powerserie"><span class="id" title="definition">powerserie</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Z_one_bits"><span class="id" title="definition">Z_one_bits</span></a> <span class="id" title="var">n</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">x</span>) (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHn</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_is_exp"><span class="id" title="lemma">two_p_is_exp</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> 1) <span class="id" title="keyword">with</span> 2 <span class="id" title="tactic">in</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="var">powerserie</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">EQ</span>; <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> 0) <span class="id" title="keyword">with</span> 1. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_one_bits_range" class="idref" href="#Z_one_bits_range"><span class="id" title="lemma">Z_one_bits_range</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:184" class="idref" href="#n:184"><span class="id" title="binder">n</span></a> <a id="x:185" class="idref" href="#x:185"><span class="id" title="binder">x</span></a> <a id="i:186" class="idref" href="#i:186"><span class="id" title="binder">i</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:186"><span class="id" title="variable">i</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Z_one_bits"><span class="id" title="definition">Z_one_bits</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:184"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:185"><span class="id" title="variable">x</span></a> 0) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:186"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:184"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <a id="n:191" class="idref" href="#n:191"><span class="id" title="binder">n</span></a> <a id="x:192" class="idref" href="#x:192"><span class="id" title="binder">x</span></a> <a id="i:193" class="idref" href="#i:193"><span class="id" title="binder">i</span></a> <a id="j:194" class="idref" href="#j:194"><span class="id" title="binder">j</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="CompOptCert.Zbits.html#j:190"><span class="id" title="variable">j</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Z_one_bits"><span class="id" title="definition">Z_one_bits</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:187"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:188"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:189"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:189"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#j:190"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:189"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:187"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="var">In</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_succ"><span class="id" title="lemma">Nat2Z.inj_succ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">j</span> (<a class="idref" href="CompOptCert.Zbits.html#Z_one_bits"><span class="id" title="definition">Z_one_bits</span></a> <span class="id" title="var">n</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> <span class="id" title="var">x</span>) (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> 1)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">n</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">IHn</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> <span class="id" title="var">x</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span>|<span class="id" title="var">B</span>]. <span class="id" title="tactic">subst</span> <span class="id" title="var">j</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> (<span class="id" title="var">H</span> <span class="id" title="var">n</span> <span class="id" title="var">x</span> 0 <span class="id" title="var">i</span> <span class="id" title="var">H0</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Z_one_bits_zero" class="idref" href="#Z_one_bits_zero"><span class="id" title="lemma">Z_one_bits_zero</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:195" class="idref" href="#n:195"><span class="id" title="binder">n</span></a> <a id="i:196" class="idref" href="#i:196"><span class="id" title="binder">i</span></a>, <a class="idref" href="CompOptCert.Zbits.html#Z_one_bits"><span class="id" title="definition">Z_one_bits</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:195"><span class="id" title="variable">n</span></a> 0 <a class="idref" href="CompOptCert.Zbits.html#i:196"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Z_one_bits_two_p" class="idref" href="#Z_one_bits_two_p"><span class="id" title="lemma">Z_one_bits_two_p</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:197" class="idref" href="#n:197"><span class="id" title="binder">n</span></a> <a id="x:198" class="idref" href="#x:198"><span class="id" title="binder">x</span></a> <a id="i:199" class="idref" href="#i:199"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:198"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:197"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#Z_one_bits"><span class="id" title="definition">Z_one_bits</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:197"><span class="id" title="variable">n</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:198"><span class="id" title="variable">x</span></a>) <a class="idref" href="CompOptCert.Zbits.html#i:199"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Zbits.html#i:199"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:198"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">extlia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Znat.html#Nat2Z.inj_succ"><span class="id" title="lemma">Nat2Z.inj_succ</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">x</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">decEq</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Z_one_bits_zero"><span class="id" title="lemma">Z_one_bits_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.odd"><span class="id" title="definition">Z.odd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.div2"><span class="id" title="definition">Z.div2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">x</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> (<span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_inj"><span class="id" title="lemma">Zshiftin_inj</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CompOptCert.Zbits.html#Zdecomp"><span class="id" title="lemma">Zdecomp</span></a>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="CompOptCert.Zbits.html#Zshiftin_spec"><span class="id" title="lemma">Zshiftin_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_S"><span class="id" title="lemma">two_p_S</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.add_0_r"><span class="id" title="lemma">Z.add_0_r</span></a>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">A</span> <span class="id" title="var">B</span>]; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHn</span>. <span class="id" title="tactic">f_equal</span>; <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab63"></a><h2 class="section">Recognition of powers of two</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a id="P_is_power2" class="idref" href="#P_is_power2"><span class="id" title="definition">P_is_power2</span></a> (<a id="p:200" class="idref" href="#p:200"><span class="id" title="binder">p</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.Zbits.html#p:200"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#xH"><span class="id" title="constructor">xH</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#xO"><span class="id" title="constructor">xO</span></a> <span class="id" title="var">q</span> ⇒ <a class="idref" href="CompOptCert.Zbits.html#P_is_power2:201"><span class="id" title="definition">P_is_power2</span></a> <span class="id" title="var">q</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#xI"><span class="id" title="constructor">xI</span></a> <span class="id" title="var">q</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Z_is_power2" class="idref" href="#Z_is_power2"><span class="id" title="definition">Z_is_power2</span></a> (<a id="x:203" class="idref" href="#x:203"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.Zbits.html#x:203"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z0"><span class="id" title="constructor">Z0</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Zbits.html#P_is_power2"><span class="id" title="definition">P_is_power2</span></a> <span class="id" title="var">p</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.log2"><span class="id" title="definition">Z.log2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:203"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zneg"><span class="id" title="constructor">Zneg</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="P_is_power2_sound" class="idref" href="#P_is_power2_sound"><span class="id" title="lemma">P_is_power2_sound</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="p:205" class="idref" href="#p:205"><span class="id" title="binder">p</span></a>, <a class="idref" href="CompOptCert.Zbits.html#P_is_power2"><span class="id" title="definition">P_is_power2</span></a> <a class="idref" href="CompOptCert.Zbits.html#p:205"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <a class="idref" href="CompOptCert.Zbits.html#p:205"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.log2"><span class="id" title="definition">Z.log2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <a class="idref" href="CompOptCert.Zbits.html#p:205"><span class="id" title="variable">p</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="var">P_is_power2</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPosDef.html#35713fcadfdd66af247cbf95acf859fa"><span class="id" title="notation">~0</span></a>) <span class="id" title="keyword">with</span> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <span class="id" title="var">p</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">IHp</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.log2_double"><span class="id" title="lemma">Z.log2_double</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">extlia</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_S"><span class="id" title="lemma">two_p_S</span></a>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.log2_nonneg"><span class="id" title="lemma">Z.log2_nonneg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_is_power2_nonneg" class="idref" href="#Z_is_power2_nonneg"><span class="id" title="lemma">Z_is_power2_nonneg</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:206" class="idref" href="#x:206"><span class="id" title="binder">x</span></a> <a id="i:207" class="idref" href="#i:207"><span class="id" title="binder">i</span></a>, <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2"><span class="id" title="definition">Z_is_power2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:206"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:207"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:207"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2"><span class="id" title="definition">Z_is_power2</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Zbits.html#P_is_power2"><span class="id" title="definition">P_is_power2</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">P</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">i</span> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.log2"><span class="id" title="definition">Z.log2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <span class="id" title="var">p</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.log2_nonneg"><span class="id" title="lemma">Z.log2_nonneg</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_is_power2_sound" class="idref" href="#Z_is_power2_sound"><span class="id" title="lemma">Z_is_power2_sound</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:208" class="idref" href="#x:208"><span class="id" title="binder">x</span></a> <a id="i:209" class="idref" href="#i:209"><span class="id" title="binder">i</span></a>, <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2"><span class="id" title="definition">Z_is_power2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:208"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:209"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:208"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:209"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:209"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.log2"><span class="id" title="definition">Z.log2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:208"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2"><span class="id" title="definition">Z_is_power2</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Zbits.html#P_is_power2"><span class="id" title="definition">P_is_power2</span></a> <span class="id" title="var">p</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">P</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#P_is_power2_sound"><span class="id" title="lemma">P_is_power2_sound</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">P</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">P</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Corollary</span> <a id="Z_is_power2_range" class="idref" href="#Z_is_power2_range"><span class="id" title="lemma">Z_is_power2_range</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:210" class="idref" href="#n:210"><span class="id" title="binder">n</span></a> <a id="x:211" class="idref" href="#x:211"><span class="id" title="binder">x</span></a> <a id="i:212" class="idref" href="#i:212"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:210"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:211"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:210"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2"><span class="id" title="definition">Z_is_power2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:211"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:212"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:212"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:210"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> 0) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">discriminate</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2_sound"><span class="id" title="lemma">Z_is_power2_sound</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">P</span> <span class="id" title="var">Q</span>]. <span class="id" title="tactic">subst</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.log2_nonneg"><span class="id" title="lemma">Z.log2_nonneg</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.log2_lt_pow2"><span class="id" title="lemma">Z.log2_lt_pow2</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_equiv"><span class="id" title="lemma">two_p_equiv</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_is_power2_complete" class="idref" href="#Z_is_power2_complete"><span class="id" title="lemma">Z_is_power2_complete</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:213" class="idref" href="#i:213"><span class="id" title="binder">i</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:213"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2"><span class="id" title="definition">Z_is_power2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:213"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:213"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.log2"><span class="id" title="definition">Z.log2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">A</span>: <span class="id" title="keyword">∀</span> <a id="x:216" class="idref" href="#x:216"><span class="id" title="binder">x</span></a> <a id="i:217" class="idref" href="#i:217"><span class="id" title="binder">i</span></a>, <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2"><span class="id" title="definition">Z_is_power2</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:214"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:215"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2"><span class="id" title="definition">Z_is_power2</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:214"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:215"><span class="id" title="variable">i</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> <span class="id" title="var">p</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pos"><span class="id" title="abbreviation">Z.pos</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#xO"><span class="id" title="constructor">xO</span></a> <span class="id" title="var">p</span>)); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Zbits.html#P_is_power2"><span class="id" title="definition">P_is_power2</span></a> <span class="id" title="var">p</span>); <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.log2_double"><span class="id" title="lemma">Z.log2_double</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">extlia</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">i</span> <span class="id" title="keyword">using</span> <a class="idref" href="CompOptCert.Zbits.html#Znatlike_ind"><span class="id" title="lemma">Znatlike_ind</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> <span class="id" title="var">i</span> <span class="id" title="keyword">with</span> 0 <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_S"><span class="id" title="lemma">two_p_S</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">A</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Z_is_power2m1" class="idref" href="#Z_is_power2m1"><span class="id" title="definition">Z_is_power2m1</span></a> (<a id="x:218" class="idref" href="#x:218"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> := <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2"><span class="id" title="definition">Z_is_power2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:218"><span class="id" title="variable">x</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_is_power2m1_nonneg" class="idref" href="#Z_is_power2m1_nonneg"><span class="id" title="lemma">Z_is_power2m1_nonneg</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:219" class="idref" href="#x:219"><span class="id" title="binder">x</span></a> <a id="i:220" class="idref" href="#i:220"><span class="id" title="binder">i</span></a>, <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2m1"><span class="id" title="definition">Z_is_power2m1</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:219"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:220"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:220"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2m1"><span class="id" title="definition">Z_is_power2m1</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2_nonneg"><span class="id" title="lemma">Z_is_power2_nonneg</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_is_power2m1_sound" class="idref" href="#Z_is_power2m1_sound"><span class="id" title="lemma">Z_is_power2m1_sound</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:221" class="idref" href="#x:221"><span class="id" title="binder">x</span></a> <a id="i:222" class="idref" href="#i:222"><span class="id" title="binder">i</span></a>, <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2m1"><span class="id" title="definition">Z_is_power2m1</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:221"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:222"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:221"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:222"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2m1"><span class="id" title="definition">Z_is_power2m1</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2_sound"><span class="id" title="lemma">Z_is_power2_sound</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_is_power2m1_complete" class="idref" href="#Z_is_power2m1_complete"><span class="id" title="lemma">Z_is_power2m1_complete</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:223" class="idref" href="#i:223"><span class="id" title="binder">i</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:223"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2m1"><span class="id" title="definition">Z_is_power2m1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:223"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:223"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2m1"><span class="id" title="definition">Z_is_power2m1</span></a>. <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">i</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2_complete"><span class="id" title="lemma">Z_is_power2_complete</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Z_is_power2m1_range" class="idref" href="#Z_is_power2m1_range"><span class="id" title="lemma">Z_is_power2m1_range</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:224" class="idref" href="#n:224"><span class="id" title="binder">n</span></a> <a id="x:225" class="idref" href="#x:225"><span class="id" title="binder">x</span></a> <a id="i:226" class="idref" href="#i:226"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:224"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:225"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:224"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2m1"><span class="id" title="definition">Z_is_power2m1</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:225"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:226"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:226"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:224"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2m1_complete"><span class="id" title="lemma">Z_is_power2m1_complete</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Z_is_power2m1"><span class="id" title="definition">Z_is_power2m1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="CompOptCert.Zbits.html#Z_is_power2_range"><span class="id" title="lemma">Z_is_power2_range</span></a> <span class="id" title="var">n</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab64"></a><h2 class="section">Relation between bitwise operations and multiplications / divisions by powers of 2</h2>

<div class="paragraph"> </div>

 Left shifts and multiplications by powers of 2. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zshiftl_mul_two_p" class="idref" href="#Zshiftl_mul_two_p"><span class="id" title="lemma">Zshiftl_mul_two_p</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:227" class="idref" href="#x:227"><span class="id" title="binder">x</span></a> <a id="n:228" class="idref" href="#n:228"><span class="id" title="binder">n</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:228"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.shiftl"><span class="id" title="definition">Z.shiftl</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:227"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:228"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:227"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:228"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pattern</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.peano_ind"><span class="id" title="definition">Pos.peano_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_pos"><span class="id" title="definition">two_power_pos</span></a> 1) <span class="id" title="keyword">with</span> 2. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.iter_succ"><span class="id" title="lemma">Pos.iter_succ</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pplus_one_succ_l"><span class="id" title="lemma">Pplus_one_succ_l</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_pos_is_exp"><span class="id" title="lemma">two_power_pos_is_exp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_pos"><span class="id" title="definition">two_power_pos</span></a> 1) <span class="id" title="keyword">with</span> 2. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Right shifts and divisions by powers of 2. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zshiftr_div_two_p" class="idref" href="#Zshiftr_div_two_p"><span class="id" title="lemma">Zshiftr_div_two_p</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:229" class="idref" href="#x:229"><span class="id" title="binder">x</span></a> <a id="n:230" class="idref" href="#n:230"><span class="id" title="binder">n</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:230"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.shiftr"><span class="id" title="definition">Z.shiftr</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:229"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:230"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:229"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:230"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.shiftr"><span class="id" title="definition">Z.shiftr</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Zdiv_1_r"><span class="id" title="lemma">Zdiv_1_r</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pattern</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.peano_ind"><span class="id" title="definition">Pos.peano_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_pos"><span class="id" title="definition">two_power_pos</span></a> 1) <span class="id" title="keyword">with</span> 2. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Zdiv2_div"><span class="id" title="lemma">Zdiv2_div</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.iter_succ"><span class="id" title="lemma">Pos.iter_succ</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pplus_one_succ_l"><span class="id" title="lemma">Pplus_one_succ_l</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_pos_is_exp"><span class="id" title="lemma">two_power_pos_is_exp</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_pos"><span class="id" title="definition">two_power_pos</span></a> 1) <span class="id" title="keyword">with</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Zdiv2_div"><span class="id" title="lemma">Zdiv2_div</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.mul_comm"><span class="id" title="lemma">Z.mul_comm</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Coqlib.html#Zdiv_Zdiv"><span class="id" title="lemma">Zdiv_Zdiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_power_pos_nat"><span class="id" title="lemma">two_power_pos_nat</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Coqlib.html#two_power_nat_pos"><span class="id" title="lemma">two_power_nat_pos</span></a>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab65"></a><h2 class="section">Properties of <span class="inlinecode"><a class="idref" href="CompOptCert.Integers.html#Make.shrx"><span class="id" title="definition">shrx</span></a></span> (signed division by a power of 2)</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zquot_Zdiv" class="idref" href="#Zquot_Zdiv"><span class="id" title="lemma">Zquot_Zdiv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:231" class="idref" href="#x:231"><span class="id" title="binder">x</span></a> <a id="y:232" class="idref" href="#y:232"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#y:232"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.quot"><span class="id" title="definition">Z.quot</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:231"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:232"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:231"><span class="id" title="variable">x</span></a> 0 <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Zbits.html#x:231"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:232"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">/</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:232"><span class="id" title="variable">y</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="CompOptCert.Zbits.html#x:231"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">/</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:232"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">x</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zquot.html#Zquot_unique_full"><span class="id" title="lemma">Zquot_unique_full</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">red</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">split</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Z_mod_lt"><span class="id" title="lemma">Z_mod_lt</span></a> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <span class="id" title="var">y</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.abs_eq"><span class="id" title="lemma">Z.abs_eq</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">transitivity</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">/</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3ea1afb7d81263dc23c4eb0da2a3c4e"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Z_div_mod_eq"><span class="id" title="lemma">Z_div_mod_eq</span></a>. <span class="id" title="tactic">ring</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">ring</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zquot.html#Zquot_Zdiv_pos"><span class="id" title="lemma">Zquot_Zdiv_pos</span></a>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zdiv_shift" class="idref" href="#Zdiv_shift"><span class="id" title="lemma">Zdiv_shift</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:233" class="idref" href="#x:233"><span class="id" title="binder">x</span></a> <a id="y:234" class="idref" href="#y:234"><span class="id" title="binder">y</span></a>, <a class="idref" href="CompOptCert.Zbits.html#y:234"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Zbits.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Zbits.html#y:234"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">/</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:234"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">/</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:234"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.modulo"><span class="id" title="definition">Z.modulo</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:233"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:234"><span class="id" title="variable">y</span></a>) 0 <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Z_div_mod_eq"><span class="id" title="lemma">Z_div_mod_eq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">generalize</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Z_mod_lt"><span class="id" title="lemma">Z_mod_lt</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">q</span> := <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#d3c2652250c7a120d67ccc0e8f58ae75"><span class="id" title="notation">/</span></a> <span class="id" title="var">y</span>). <span class="id" title="tactic">set</span> (<span class="id" title="var">r</span> := <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <span class="id" title="var">y</span>). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">r</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Coqlib.html#Zdiv_unique"><span class="id" title="lemma">Zdiv_unique</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">ring</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Coqlib.html#Zdiv_unique"><span class="id" title="lemma">Zdiv_unique</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">ring</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab66"></a><h2 class="section">Size of integers, in bits.</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Zsize" class="idref" href="#Zsize"><span class="id" title="definition">Zsize</span></a> (<a id="x:235" class="idref" href="#x:235"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.Zbits.html#x:235"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.size"><span class="id" title="definition">Pos.size</span></a> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Zsize_pos" class="idref" href="#Zsize_pos"><span class="id" title="lemma">Zsize_pos</span></a>: <span class="id" title="keyword">∀</span> <a id="x:237" class="idref" href="#x:237"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:237"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="var">lia</span>. <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a id="Zsize_pos'" class="idref" href="#Zsize_pos'"><span class="id" title="lemma">Zsize_pos'</span></a>: <span class="id" title="keyword">∀</span> <a id="x:238" class="idref" href="#x:238"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:238"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:238"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zsize_shiftin" class="idref" href="#Zsize_shiftin"><span class="id" title="lemma">Zsize_shiftin</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="b:239" class="idref" href="#b:239"><span class="id" title="binder">b</span></a> <a id="x:240" class="idref" href="#x:240"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:240"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="CompOptCert.Zbits.html#b:239"><span class="id" title="variable">b</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:240"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:240"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> (<span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPosDef.html#119ad21c8e0c4947cd973f1f72e5feea"><span class="id" title="notation">~1</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.add_1_r"><span class="id" title="lemma">Pos.add_1_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> <span class="id" title="var">p</span>)) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Zpos"><span class="id" title="constructor">Zpos</span></a> (<span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPosDef.html#35713fcadfdd66af247cbf95acf859fa"><span class="id" title="notation">~0</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.PArith.BinPos.html#Pos.add_1_r"><span class="id" title="lemma">Pos.add_1_r</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ztestbit_size_1" class="idref" href="#Ztestbit_size_1"><span class="id" title="lemma">Ztestbit_size_1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:241" class="idref" href="#x:241"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:241"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:241"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:241"><span class="id" title="variable">x</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x0</span> <span class="id" title="var">POS0</span>; <span class="id" title="tactic">pattern</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_pos_ind"><span class="id" title="lemma">Zshiftin_pos_ind</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zsize_shiftin"><span class="id" title="lemma">Zsize_shiftin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <span class="id" title="var">x</span>))) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <span class="id" title="var">x</span>))) <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin_succ"><span class="id" title="lemma">Ztestbit_shiftin_succ</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">generalize</span> (<a class="idref" href="CompOptCert.Zbits.html#Zsize_pos'"><span class="id" title="lemma">Zsize_pos'</span></a> <span class="id" title="var">x</span> <span class="id" title="var">H</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Ztestbit_size_2" class="idref" href="#Ztestbit_size_2"><span class="id" title="lemma">Ztestbit_size_2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:242" class="idref" href="#x:242"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:242"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">∀</span> <a id="i:243" class="idref" href="#i:243"><span class="id" title="binder">i</span></a>, <a class="idref" href="CompOptCert.Zbits.html#i:243"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">≥</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:242"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:242"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:243"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x0</span> <span class="id" title="var">POS0</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">x0</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_0"><span class="id" title="lemma">Ztestbit_0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pattern</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Zshiftin_pos_ind"><span class="id" title="lemma">Zshiftin_pos_ind</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">change</span> 1 <span class="id" title="keyword">with</span> (<a class="idref" href="CompOptCert.Zbits.html#Zshiftin"><span class="id" title="definition">Zshiftin</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> 0). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin"><span class="id" title="lemma">Ztestbit_shiftin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq_false"><span class="id" title="lemma">zeq_false</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_0"><span class="id" title="lemma">Ztestbit_0</span></a>. <span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zsize_shiftin"><span class="id" title="lemma">Zsize_shiftin</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="CompOptCert.Zbits.html#Zsize_pos'"><span class="id" title="lemma">Zsize_pos'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_shiftin"><span class="id" title="lemma">Ztestbit_shiftin</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zeq_false"><span class="id" title="lemma">zeq_false</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zsize_interval_1" class="idref" href="#Zsize_interval_1"><span class="id" title="lemma">Zsize_interval_1</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:244" class="idref" href="#x:244"><span class="id" title="binder">x</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:244"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:244"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:244"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <span class="id" title="var">x</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'mod'_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#equal_same_bits"><span class="id" title="lemma">equal_same_bits</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_mod_two_p"><span class="id" title="lemma">Ztestbit_mod_two_p</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">i</span> (<a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <span class="id" title="var">x</span>)). <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_size_2"><span class="id" title="lemma">Ztestbit_size_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Zsize_pos"><span class="id" title="lemma">Zsize_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">at</span> 3. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zdiv.html#Z_mod_lt"><span class="id" title="lemma">Z_mod_lt</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p_gt_ZERO"><span class="id" title="lemma">two_p_gt_ZERO</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Zsize_pos"><span class="id" title="lemma">Zsize_pos</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zsize_interval_2" class="idref" href="#Zsize_interval_2"><span class="id" title="lemma">Zsize_interval_2</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:245" class="idref" href="#x:245"><span class="id" title="binder">x</span></a> <a id="n:246" class="idref" href="#n:246"><span class="id" title="binder">n</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:246"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:245"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#bdb3edde5f841a282ce8fc1b00e3d211"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:246"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#n:246"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#b1f0780291abe9bd18804d2c9a5039d4"><span class="id" title="notation">≥</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:245"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">N</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.to_nat"><span class="id" title="definition">Z.to_nat</span></a> <span class="id" title="var">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">N</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Znat.html#Z2Nat.id"><span class="id" title="lemma">Z2Nat.id</span></a>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CompOptCert.Coqlib.html#two_power_nat_two_p"><span class="id" title="lemma">two_power_nat_two_p</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zeq"><span class="id" title="definition">zeq</span></a> <span class="id" title="var">x</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">n</span> (<a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <span class="id" title="var">x</span>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<a class="idref" href="CompOptCert.Zbits.html#Ztestbit_above"><span class="id" title="lemma">Ztestbit_above</span></a> <span class="id" title="var">N</span> <span class="id" title="var">x</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.pred"><span class="id" title="definition">Z.pred</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <span class="id" title="var">x</span>))). <span class="id" title="tactic">auto</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_size_1"><span class="id" title="lemma">Ztestbit_size_1</span></a>. <span class="id" title="tactic">congruence</span>. <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zsize_monotone" class="idref" href="#Zsize_monotone"><span class="id" title="lemma">Zsize_monotone</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:247" class="idref" href="#x:247"><span class="id" title="binder">x</span></a> <a id="y:248" class="idref" href="#y:248"><span class="id" title="binder">y</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:247"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#6f909ea2391c6073ff1047e870dd64e2"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:248"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:247"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#Zsize"><span class="id" title="definition">Zsize</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:248"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.ge_le"><span class="id" title="lemma">Z.ge_le</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Zsize_interval_2"><span class="id" title="lemma">Zsize_interval_2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Zsize_pos"><span class="id" title="lemma">Zsize_pos</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<a class="idref" href="CompOptCert.Zbits.html#Zsize_interval_1"><span class="id" title="lemma">Zsize_interval_1</span></a> <span class="id" title="var">y</span>). <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab67"></a><h2 class="section">Bit insertion, bit extraction</h2>

<div class="paragraph"> </div>

 Extract and optionally sign-extend bits <span class="inlinecode"><span class="id" title="var">from</span>...<span class="id" title="var">from</span>+<a class="idref" href="CompOptCert.Syntax.html#BBlock.len"><span class="id" title="definition">len</span></a>-1</span> of <span class="inlinecode"><a class="idref" href="CompOptCert.UsualFMapPositive.html#UsualPositiveMap'.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Zextract_u" class="idref" href="#Zextract_u"><span class="id" title="definition">Zextract_u</span></a> (<a id="x:249" class="idref" href="#x:249"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="from:250" class="idref" href="#from:250"><span class="id" title="binder">from</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="len:251" class="idref" href="#len:251"><span class="id" title="binder">len</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#Zzero_ext"><span class="id" title="definition">Zzero_ext</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:251"><span class="id" title="variable">len</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.shiftr"><span class="id" title="definition">Z.shiftr</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:249"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#from:250"><span class="id" title="variable">from</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Zextract_s" class="idref" href="#Zextract_s"><span class="id" title="definition">Zextract_s</span></a> (<a id="x:252" class="idref" href="#x:252"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="from:253" class="idref" href="#from:253"><span class="id" title="binder">from</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="len:254" class="idref" href="#len:254"><span class="id" title="binder">len</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Zbits.html#Zsign_ext"><span class="id" title="definition">Zsign_ext</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:254"><span class="id" title="variable">len</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.shiftr"><span class="id" title="definition">Z.shiftr</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:252"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#from:253"><span class="id" title="variable">from</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zextract_u_spec" class="idref" href="#Zextract_u_spec"><span class="id" title="lemma">Zextract_u_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:255" class="idref" href="#x:255"><span class="id" title="binder">x</span></a> <a id="from:256" class="idref" href="#from:256"><span class="id" title="binder">from</span></a> <a id="len:257" class="idref" href="#len:257"><span class="id" title="binder">len</span></a> <a id="i:258" class="idref" href="#i:258"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#from:256"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:257"><span class="id" title="variable">len</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:258"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zextract_u"><span class="id" title="definition">Zextract_u</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:255"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#from:256"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:257"><span class="id" title="variable">len</span></a>) <a class="idref" href="CompOptCert.Zbits.html#i:258"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:258"><span class="id" title="variable">i</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:257"><span class="id" title="variable">len</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:255"><span class="id" title="variable">x</span></a> (<a class="idref" href="CompOptCert.Zbits.html#from:256"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:258"><span class="id" title="variable">i</span></a>) <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Zextract_u"><span class="id" title="definition">Zextract_u</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zzero_ext_spec"><span class="id" title="lemma">Zzero_ext_spec</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.shiftr_spec"><span class="id" title="lemma">Z.shiftr_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.add_comm"><span class="id" title="lemma">Z.add_comm</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zextract_s_spec" class="idref" href="#Zextract_s_spec"><span class="id" title="lemma">Zextract_s_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:259" class="idref" href="#x:259"><span class="id" title="binder">x</span></a> <a id="from:260" class="idref" href="#from:260"><span class="id" title="binder">from</span></a> <a id="len:261" class="idref" href="#len:261"><span class="id" title="binder">len</span></a> <a id="i:262" class="idref" href="#i:262"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#from:260"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:261"><span class="id" title="variable">len</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:262"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zextract_s"><span class="id" title="definition">Zextract_s</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:259"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#from:260"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:261"><span class="id" title="variable">len</span></a>) <a class="idref" href="CompOptCert.Zbits.html#i:262"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:259"><span class="id" title="variable">x</span></a> (<a class="idref" href="CompOptCert.Zbits.html#from:260"><span class="id" title="variable">from</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:262"><span class="id" title="variable">i</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:261"><span class="id" title="variable">len</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="CompOptCert.Zbits.html#i:262"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="CompOptCert.Zbits.html#len:261"><span class="id" title="variable">len</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Zextract_s"><span class="id" title="definition">Zextract_s</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Zbits.html#Zsign_ext_spec"><span class="id" title="lemma">Zsign_ext_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.shiftr_spec"><span class="id" title="lemma">Z.shiftr_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.add_comm"><span class="id" title="lemma">Z.add_comm</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <span class="id" title="var">i</span> <span class="id" title="var">len</span>); <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Insert bits <span class="inlinecode">0...<a class="idref" href="CompOptCert.Syntax.html#BBlock.len"><span class="id" title="definition">len</span></a>-1</span> of <span class="inlinecode"><a class="idref" href="CompOptCert.UsualFMapPositive.html#UsualPositiveMap'.A.FMapSpec.y"><span class="id" title="variable">y</span></a></span> into bits <span class="inlinecode"><span class="id" title="var">to</span>...<span class="id" title="var">to</span>+<a class="idref" href="CompOptCert.Syntax.html#BBlock.len"><span class="id" title="definition">len</span></a>-1</span> of <span class="inlinecode"><a class="idref" href="CompOptCert.UsualFMapPositive.html#UsualPositiveMap'.A.FMapSpec.x"><span class="id" title="variable">x</span></a></span> 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a id="Zinsert" class="idref" href="#Zinsert"><span class="id" title="definition">Zinsert</span></a> (<a id="x:263" class="idref" href="#x:263"><span class="id" title="binder">x</span></a> <a id="y:264" class="idref" href="#y:264"><span class="id" title="binder">y</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="to:265" class="idref" href="#to:265"><span class="id" title="binder">to</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<a id="len:266" class="idref" href="#len:266"><span class="id" title="binder">len</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="mask:267" class="idref" href="#mask:267"><span class="id" title="binder">mask</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.shiftl"><span class="id" title="definition">Z.shiftl</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:266"><span class="id" title="variable">len</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1) <a class="idref" href="CompOptCert.Zbits.html#to:265"><span class="id" title="variable">to</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.lor"><span class="id" title="definition">Z.lor</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.land"><span class="id" title="definition">Z.land</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.shiftl"><span class="id" title="definition">Z.shiftl</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:264"><span class="id" title="variable">y</span></a> <a class="idref" href="CompOptCert.Zbits.html#to:265"><span class="id" title="variable">to</span></a>) <a class="idref" href="CompOptCert.Zbits.html#mask:267"><span class="id" title="variable">mask</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.ldiff"><span class="id" title="definition">Z.ldiff</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:263"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#mask:267"><span class="id" title="variable">mask</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a id="Zinsert_spec" class="idref" href="#Zinsert_spec"><span class="id" title="lemma">Zinsert_spec</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:268" class="idref" href="#x:268"><span class="id" title="binder">x</span></a> <a id="y:269" class="idref" href="#y:269"><span class="id" title="binder">y</span></a> <a id="to:270" class="idref" href="#to:270"><span class="id" title="binder">to</span></a> <a id="len:271" class="idref" href="#len:271"><span class="id" title="binder">len</span></a> <a id="i:272" class="idref" href="#i:272"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#to:270"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:271"><span class="id" title="variable">len</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:272"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> (<a class="idref" href="CompOptCert.Zbits.html#Zinsert"><span class="id" title="definition">Zinsert</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:268"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:269"><span class="id" title="variable">y</span></a> <a class="idref" href="CompOptCert.Zbits.html#to:270"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:271"><span class="id" title="variable">len</span></a>) <a class="idref" href="CompOptCert.Zbits.html#i:272"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zle"><span class="id" title="definition">zle</span></a> <a class="idref" href="CompOptCert.Zbits.html#to:270"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:272"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:272"><span class="id" title="variable">i</span></a> (<a class="idref" href="CompOptCert.Zbits.html#to:270"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#46584eddd5fdb16176a10a2843177d3a"><span class="id" title="notation">+</span></a> <a class="idref" href="CompOptCert.Zbits.html#len:271"><span class="id" title="variable">len</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#y:269"><span class="id" title="variable">y</span></a> (<a class="idref" href="CompOptCert.Zbits.html#i:272"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="CompOptCert.Zbits.html#to:270"><span class="id" title="variable">to</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <a class="idref" href="CompOptCert.Zbits.html#x:268"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.Zbits.html#i:272"><span class="id" title="variable">i</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Zbits.html#Zinsert"><span class="id" title="definition">Zinsert</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">set</span> (<span class="id" title="var">mask</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.Zpower.html#two_p"><span class="id" title="definition">two_p</span></a> <span class="id" title="var">len</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">M</span>: <span class="id" title="keyword">∀</span> <a id="j:274" class="idref" href="#j:274"><span class="id" title="binder">j</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#306329b0eca7a2b86c198702f594ad8e"><span class="id" title="notation">≤</span></a> <a class="idref" href="CompOptCert.Zbits.html#j:273"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.testbit"><span class="id" title="definition">Z.testbit</span></a> <span class="id" title="var">mask</span> <a class="idref" href="CompOptCert.Zbits.html#j:273"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> <a class="idref" href="CompOptCert.Zbits.html#j:273"><span class="id" title="variable">j</span></a> <span class="id" title="var">len</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Zbits.html#Ztestbit_two_p_m1"><span class="id" title="lemma">Ztestbit_two_p_m1</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.lor_spec"><span class="id" title="lemma">Z.lor_spec</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.land_spec"><span class="id" title="lemma">Z.land_spec</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.ldiff_spec"><span class="id" title="lemma">Z.ldiff_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zle"><span class="id" title="definition">zle</span></a> <span class="id" title="var">to</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ! <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.shiftl_spec"><span class="id" title="lemma">Z.shiftl_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> ! <span class="id" title="var">M</span> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Coqlib.html#proj_sumbool"><span class="id" title="definition">proj_sumbool</span></a>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Coqlib.html#zlt"><span class="id" title="definition">zlt</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#::Z_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <span class="id" title="var">to</span>) <span class="id" title="var">len</span>); <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Bool.Bool.html#andb_false_r"><span class="id" title="lemma">andb_false_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_true"><span class="id" title="lemma">zlt_true</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Bool.Bool.html#orb_false_r"><span class="id" title="lemma">orb_false_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Coqlib.html#zlt_false"><span class="id" title="lemma">zlt_false</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> ! <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.ZArith.BinInt.html#Z.shiftl_spec_low"><span class="id" title="lemma">Z.shiftl_spec_low</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">lia</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Bool.Bool.html#andb_true_r"><span class="id" title="lemma">andb_true_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>