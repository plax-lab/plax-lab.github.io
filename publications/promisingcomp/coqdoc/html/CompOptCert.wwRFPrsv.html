<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.wwRFPrsv</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.wwRFPrsv</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.sflib.html#"><span class="id" title="library">sflib</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Axioms.html#"><span class="id" title="library">Axioms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Basic.html#"><span class="id" title="library">Basic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DataStructure.html#"><span class="id" title="library">DataStructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Loc.html#"><span class="id" title="library">Loc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Coqlib.html#"><span class="id" title="library">Coqlib</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Language.html#"><span class="id" title="library">Language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Time.html#"><span class="id" title="library">Time</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Event.html#"><span class="id" title="library">Event</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.View.html#"><span class="id" title="library">View</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Cell.html#"><span class="id" title="library">Cell</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Memory.html#"><span class="id" title="library">Memory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.TView.html#"><span class="id" title="library">TView</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Local.html#"><span class="id" title="library">Local</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Thread.html#"><span class="id" title="library">Thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPThread.html#"><span class="id" title="library">NPThread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Configuration.html#"><span class="id" title="library">Configuration</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MsgMapping.html#"><span class="id" title="library">MsgMapping</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DelaySet.html#"><span class="id" title="library">DelaySet</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPConfiguration.html#"><span class="id" title="library">NPConfiguration</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ww_RF.html#"><span class="id" title="library">ww_RF</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.LibTactics.html#"><span class="id" title="library">LibTactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.WFConfig.html#"><span class="id" title="library">WFConfig</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#"><span class="id" title="library">PromiseConsistent</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.CompAuxDef.html#"><span class="id" title="library">CompAuxDef</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.LocalSim.html#"><span class="id" title="library">LocalSim</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#"><span class="id" title="library">ConfigInitLemmas</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#"><span class="id" title="library">Mem_at_eq_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Reordering.html#"><span class="id" title="library">Reordering</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#"><span class="id" title="library">np_to_ps_thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#"><span class="id" title="library">ps_to_np_thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConsistentProp.html#"><span class="id" title="library">ConsistentProp</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#"><span class="id" title="library">CompThreadSteps</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConsistentStableEnv.html#"><span class="id" title="library">ConsistentStableEnv</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#"><span class="id" title="library">simPromiseCertified</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#"><span class="id" title="library">wwRFPrsvLemmas</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab214"></a><h1 class="section">Write-Write Race Freedom Preservation Proof</h1>

<div class="paragraph"> </div>

 This file contains the proof of the write-write race freedom preservation. 
<div class="paragraph"> </div>

 The theorem <span class="inlinecode"><a class="idref" href="CompOptCert.wwRFPrsv.html#ww_RF_preservation"><span class="id" title="lemma">ww_RF_preservation</span></a></span> in this file shows
    the write-write race freedom preservation of our thread-local simulation.
    It says that,
    if each target thread has thread-local simulation with
    its corresponding source thread
    and the source program is safe and write-write race free,
    then the whole target program is write-write race free.

<div class="paragraph"> </div>

    The theorem <span class="inlinecode"><a class="idref" href="CompOptCert.wwRFPrsv.html#ww_RF_preservation"><span class="id" title="lemma">ww_RF_preservation</span></a></span> is a part of proof in Lemma 6.2 in our paper and
    also shown as a part of proof of the step 3 in Figure 6 (Our proof path) in our paper.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="source_ww_race_construction1" class="idref" href="#source_ww_race_construction1"><span class="id" title="lemma">source_ww_race_construction1</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:1" class="idref" href="#lang:1"><span class="id" title="binder">lang</span></a> <a id="st_tgt:2" class="idref" href="#st_tgt:2"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:3" class="idref" href="#lc_tgt:3"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:4" class="idref" href="#sc_tgt:4"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:5" class="idref" href="#mem_tgt:5"><span class="id" title="binder">mem_tgt</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:6" class="idref" href="#index:6"><span class="id" title="binder">index</span></a> <a id="index_order:7" class="idref" href="#index_order:7"><span class="id" title="binder">index_order</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_src:8" class="idref" href="#st_src:8"><span class="id" title="binder">st_src</span></a> <a id="lc_src:9" class="idref" href="#lc_src:9"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:10" class="idref" href="#sc_src:10"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:11" class="idref" href="#mem_src:11"><span class="id" title="binder">mem_src</span></a> <a id="lo:12" class="idref" href="#lo:12"><span class="id" title="binder">lo</span></a> <a id="loc:13" class="idref" href="#loc:13"><span class="id" title="binder">loc</span></a> <a id="to':14" class="idref" href="#to':14"><span class="id" title="binder">to'</span></a> <a id="b:15" class="idref" href="#b:15"><span class="id" title="binder">b</span></a> <a id="dset:16" class="idref" href="#dset:16"><span class="id" title="binder">dset</span></a> <a id="inj:17" class="idref" href="#inj:17"><span class="id" title="binder">inj</span></a> <a id="I:18" class="idref" href="#I:18"><span class="id" title="binder">I</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="from':19" class="idref" href="#from':19"><span class="id" title="binder">from'</span></a> <a id="val':20" class="idref" href="#val':20"><span class="id" title="binder">val'</span></a> <a id="R':21" class="idref" href="#R':21"><span class="id" title="binder">R'</span></a> <a id="i:22" class="idref" href="#i:22"><span class="id" title="binder">i</span></a> <a id="t:23" class="idref" href="#t:23"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T_BOT:24" class="idref" href="#T_BOT:24"><span class="id" title="binder">T_BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:3"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INDSET:25" class="idref" href="#INDSET:25"><span class="id" title="binder">INDSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:13"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t:23"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:16"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:22"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ACC:26" class="idref" href="#ACC:26"><span class="id" title="binder">ACC</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:7"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:22"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:27" class="idref" href="#LOCAL_SIM:27"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:6"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:7"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:1"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:18"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:12"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:17"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:16"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b:15"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:1"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:2"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:3"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:4"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:5"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:1"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:8"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:9"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:10"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:11"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_MSG_S:28" class="idref" href="#RACE_MSG_S:28"><span class="id" title="binder">RACE_MSG_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:13"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':14"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:11"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':19"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':20"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':21"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM_S:29" class="idref" href="#NOT_PROM_S:29"><span class="id" title="binder">NOT_PROM_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:13"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':14"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:9"><span class="id" title="variable">lc_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_S:30" class="idref" href="#RACE_S:30"><span class="id" title="binder">RACE_S</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:9"><span class="id" title="variable">lc_src</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:13"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':14"><span class="id" title="variable">to'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:32" class="idref" href="#SAFE:32"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':31" class="idref" href="#e_src':31"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:12"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:1"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:8"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:9"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:10"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:11"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':31"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':31"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:12"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:33" class="idref" href="#LOCAL_WF_T:33"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:3"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:5"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:34" class="idref" href="#MEM_CLOSED:34"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:5"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:35" class="idref" href="#LOCAL_WF_S:35"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:9"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:11"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:36" class="idref" href="#MEM_CLOSED:36"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:11"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:37" class="idref" href="#MONOTONIC_INJ:37"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:17"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED:38" class="idref" href="#WELL_FOUNDED:38"><span class="id" title="binder">WELL_FOUNDED</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:7"><span class="id" title="variable">index_order</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">∃</span></a> <a id="st_src':39" class="idref" href="#st_src':39"><span class="id" title="binder">st_src'</span></a> <a id="lc_src':40" class="idref" href="#lc_src':40"><span class="id" title="binder">lc_src'</span></a> <a id="sc_src':41" class="idref" href="#sc_src':41"><span class="id" title="binder">sc_src'</span></a> <a id="mem_src':42" class="idref" href="#mem_src':42"><span class="id" title="binder">mem_src'</span></a> <a id="e_src':43" class="idref" href="#e_src':43"><span class="id" title="binder">e_src'</span></a> <a id="stw_src':44" class="idref" href="#stw_src':44"><span class="id" title="binder">stw_src'</span></a> <a id="val0:45" class="idref" href="#val0:45"><span class="id" title="binder">val0</span></a><a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="PRE_S:46" class="idref" href="#PRE_S:46"><span class="id" title="binder">PRE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:12"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:1"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:8"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:9"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:10"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:11"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:1"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':39"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':40"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':41"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':42"><span class="id" title="variable">mem_src'</span></a>)<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="WRITE_S:47" class="idref" href="#WRITE_S:47"><span class="id" title="binder">WRITE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:1"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:13"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:45"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':39"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#stw_src':44"><span class="id" title="variable">stw_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="RACE_MSG_S':48" class="idref" href="#RACE_MSG_S':48"><span class="id" title="binder">RACE_MSG_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:13"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':14"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':42"><span class="id" title="variable">mem_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':19"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':20"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':21"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="NOT_PROM_S':49" class="idref" href="#NOT_PROM_S':49"><span class="id" title="binder">NOT_PROM_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:13"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':14"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':40"><span class="id" title="variable">lc_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="VIEW_S':50" class="idref" href="#VIEW_S':50"><span class="id" title="binder">VIEW_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':40"><span class="id" title="variable">lc_src'</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:13"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':14"><span class="id" title="variable">to'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="FULFILL_S:51" class="idref" href="#FULFILL_S:51"><span class="id" title="binder">FULFILL_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:12"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:1"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':39"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':40"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':41"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':42"><span class="id" title="variable">mem_src'</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':43"><span class="id" title="variable">e_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="BOT_S:52" class="idref" href="#BOT_S:52"><span class="id" title="binder">BOT_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':43"><span class="id" title="variable">e_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lc_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">sc_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">mem_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lc_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">sc_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">mem_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">dset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">inj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ACC</span>; <span class="id" title="var">ii</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_ABORT_T</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st_tgt</span> <span class="id" title="var">lc_tgt</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>) <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_ABORT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#not_and_or"><span class="id" title="lemma">not_and_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NOT_ABORT_T</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">NOT_ABORT_T</span> | <span class="id" title="var">NOT_ABORT_T</span>].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">T_BOT</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#not_or_and"><span class="id" title="lemma">not_or_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#NNPP"><span class="id" title="lemma">NNPP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.LocalSim.html#state_in_or_out"><span class="id" title="lemma">state_in_or_out</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AT_OR_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AT_OR_NA_STEP</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">AT_STEP_T</span> | <span class="id" title="var">NA_STEP_T</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_ABORT</span> <span class="id" title="var">THRD_DONE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">DSET_EMP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INDSET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gempty"><span class="id" title="lemma">DenseOrder.DOMap.gempty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INDSET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#not_or_and"><span class="id" title="lemma">not_or_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#state_in_not_abort_thread_step"><span class="id" title="lemma">state_in_not_abort_thread_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc_tgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TGT_THREAD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TGT_THREAD_STEP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">te</span> &amp; <span class="id" title="var">e_tgt</span> &amp; <span class="id" title="var">TGT_THREAD_STEP</span> &amp; <span class="id" title="var">IS_NA_STEP</span> &amp; <span class="id" title="var">PROM_EQ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">state</span> <span class="id" title="var">to</span> <span class="id" title="var">st_tgt'</span>, <span class="id" title="var">local</span> <span class="id" title="var">to</span> <span class="id" title="var">lc_tgt'</span>, <span class="id" title="var">sc</span> <span class="id" title="var">to</span> <span class="id" title="var">sc_tgt'</span>, <span class="id" title="var">memory</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_tgt'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_S'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">local</span> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_CLOSED_S'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">S_PROM_FULFILL</span>: <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_NA_STEP</span>: @<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">lo</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st_tgt</span> <span class="id" title="var">lc_tgt</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st_tgt'</span> <span class="id" title="var">lc_tgt'</span> <span class="id" title="var">sc_tgt'</span> <span class="id" title="var">mem_tgt'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">TGT_THREAD_STEP</span> <span class="id" title="var">IS_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">te</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_THREAD_STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_tau_step_intro"><span class="id" title="constructor">Thread.na_tau_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_THREAD_STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_read_step_intro"><span class="id" title="constructor">Thread.na_plain_read_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_THREAD_STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_write_step_intro"><span class="id" title="constructor">Thread.na_plain_write_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PROM_EQ</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_T'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc_tgt'</span> <span class="id" title="var">mem_tgt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_step_is_no_scfence_nprm_step"><span class="id" title="lemma">Thread_na_step_is_no_scfence_nprm_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_CLOSED_T'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem_tgt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_step_is_no_scfence_nprm_step"><span class="id" title="lemma">Thread_na_step_is_no_scfence_nprm_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#na_steps_dset_race_or_not"><span class="id" title="lemma">na_steps_dset_race_or_not</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">x</span>). <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">INDSET</span> <span class="id" title="var">H1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get_add1"><span class="id" title="lemma">dset_get_add1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span>, <span class="id" title="var">e1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RACE0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill_T_BOT"><span class="id" title="lemma">lsim_ensures_promise_fulfill_T_BOT</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_PROM_FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">S_PROM_FULFILL</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state0</span> <span class="id" title="var">local0</span> <span class="id" title="var">sc0</span> <span class="id" title="var">memory0</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_srcc'</span> <span class="id" title="var">state1</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_MSG_S'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">RACE_MSG_S'</span> &amp; <span class="id" title="var">NOT_PROM_S'</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PROM_EQ</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src</span> &amp; <span class="id" title="var">PSTEPS</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PSTEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_after_na_step_origin_prsv"><span class="id" title="lemma">dset_after_na_step_origin_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">DSET_GET</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_reduce"><span class="id" title="lemma">dset_reduce</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_MSG_S'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">RACE_MSG_S'</span> &amp; <span class="id" title="var">NOT_PROM_S'</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S'</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S'</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4: <span class="id" title="tactic">eapply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PROM_EQ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_DONE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.is_done"><span class="id" title="definition">Thread.is_done</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#na_steps_dset_race_or_not"><span class="id" title="lemma">na_steps_dset_race_or_not</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span>, <span class="id" title="var">e1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RACE0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_MSG_S'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">RACE_MSG_S'</span> &amp; <span class="id" title="var">NOT_PROM_S'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">sc</span> <span class="id" title="var">memory</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span> <span class="id" title="var">state0</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE2</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_gempty"><span class="id" title="lemma">dset_gempty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_RACE0</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="source_ww_race_construction2'" class="idref" href="#source_ww_race_construction2'"><span class="id" title="lemma">source_ww_race_construction2'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:53" class="idref" href="#n:53"><span class="id" title="binder">n</span></a> <a id="lang:54" class="idref" href="#lang:54"><span class="id" title="binder">lang</span></a> <a id="st_tgt:55" class="idref" href="#st_tgt:55"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:56" class="idref" href="#lc_tgt:56"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:57" class="idref" href="#sc_tgt:57"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:58" class="idref" href="#mem_tgt:58"><span class="id" title="binder">mem_tgt</span></a> <a id="e_tgt':59" class="idref" href="#e_tgt':59"><span class="id" title="binder">e_tgt'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:60" class="idref" href="#index:60"><span class="id" title="binder">index</span></a> <a id="index_order:61" class="idref" href="#index_order:61"><span class="id" title="binder">index_order</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_src:62" class="idref" href="#st_src:62"><span class="id" title="binder">st_src</span></a> <a id="lc_src:63" class="idref" href="#lc_src:63"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:64" class="idref" href="#sc_src:64"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:65" class="idref" href="#mem_src:65"><span class="id" title="binder">mem_src</span></a> <a id="lo:66" class="idref" href="#lo:66"><span class="id" title="binder">lo</span></a> <a id="loc:67" class="idref" href="#loc:67"><span class="id" title="binder">loc</span></a> <a id="to':68" class="idref" href="#to':68"><span class="id" title="binder">to'</span></a> <a id="b:69" class="idref" href="#b:69"><span class="id" title="binder">b</span></a> <a id="dset:70" class="idref" href="#dset:70"><span class="id" title="binder">dset</span></a> <a id="inj:71" class="idref" href="#inj:71"><span class="id" title="binder">inj</span></a> <a id="I:72" class="idref" href="#I:72"><span class="id" title="binder">I</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="from':73" class="idref" href="#from':73"><span class="id" title="binder">from'</span></a> <a id="val':74" class="idref" href="#val':74"><span class="id" title="binder">val'</span></a> <a id="R':75" class="idref" href="#R':75"><span class="id" title="binder">R'</span></a> <a id="t:76" class="idref" href="#t:76"><span class="id" title="binder">t</span></a> <a id="i:77" class="idref" href="#i:77"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:78" class="idref" href="#FULFILL:78"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step"><span class="id" title="inductive">no_scfence_nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:54"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:66"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#n:53"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:54"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:55"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:56"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:57"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:58"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':59"><span class="id" title="variable">e_tgt'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:79" class="idref" href="#BOT:79"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':59"><span class="id" title="variable">e_tgt'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INDSET:80" class="idref" href="#INDSET:80"><span class="id" title="binder">INDSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:67"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t:76"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:70"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:77"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ACC:81" class="idref" href="#ACC:81"><span class="id" title="binder">ACC</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:61"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:77"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:82" class="idref" href="#LOCAL_SIM:82"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:60"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:61"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:54"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:72"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:66"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:71"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:70"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b:69"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:54"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:55"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:56"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:57"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:58"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:54"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:62"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:63"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:64"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:65"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_MSG_S:83" class="idref" href="#RACE_MSG_S:83"><span class="id" title="binder">RACE_MSG_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:67"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':68"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:65"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':73"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':74"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':75"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM_S:84" class="idref" href="#NOT_PROM_S:84"><span class="id" title="binder">NOT_PROM_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:67"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':68"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:63"><span class="id" title="variable">lc_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_S:85" class="idref" href="#RACE_S:85"><span class="id" title="binder">RACE_S</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:63"><span class="id" title="variable">lc_src</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:67"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':68"><span class="id" title="variable">to'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:87" class="idref" href="#SAFE:87"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':86" class="idref" href="#e_src':86"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:66"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:54"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:62"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:63"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:64"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:65"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':86"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':86"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:66"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:88" class="idref" href="#LOCAL_WF_T:88"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:56"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:58"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:89" class="idref" href="#MEM_CLOSED:89"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:58"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:90" class="idref" href="#LOCAL_WF_S:90"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:63"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:65"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:91" class="idref" href="#MEM_CLOSED:91"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:65"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:92" class="idref" href="#MONOTONIC_INJ:92"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:71"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED:93" class="idref" href="#WELL_FOUNDED:93"><span class="id" title="binder">WELL_FOUNDED</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:61"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_I:94" class="idref" href="#WF_I:94"><span class="id" title="binder">WF_I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:72"><span class="id" title="variable">I</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">∃</span></a> <a id="st_src':95" class="idref" href="#st_src':95"><span class="id" title="binder">st_src'</span></a> <a id="lc_src':96" class="idref" href="#lc_src':96"><span class="id" title="binder">lc_src'</span></a> <a id="sc_src':97" class="idref" href="#sc_src':97"><span class="id" title="binder">sc_src'</span></a> <a id="mem_src':98" class="idref" href="#mem_src':98"><span class="id" title="binder">mem_src'</span></a> <a id="e_src':99" class="idref" href="#e_src':99"><span class="id" title="binder">e_src'</span></a> <a id="stw_src':100" class="idref" href="#stw_src':100"><span class="id" title="binder">stw_src'</span></a> <a id="val0:101" class="idref" href="#val0:101"><span class="id" title="binder">val0</span></a><a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="PRE_S:102" class="idref" href="#PRE_S:102"><span class="id" title="binder">PRE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:66"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:54"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:62"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:63"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:64"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:65"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:54"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':95"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':96"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':97"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':98"><span class="id" title="variable">mem_src'</span></a>)<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="WRITE_S:103" class="idref" href="#WRITE_S:103"><span class="id" title="binder">WRITE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:54"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:67"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:101"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':95"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#stw_src':100"><span class="id" title="variable">stw_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="RACE_MSG_S':104" class="idref" href="#RACE_MSG_S':104"><span class="id" title="binder">RACE_MSG_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:67"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':68"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':98"><span class="id" title="variable">mem_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':73"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':74"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':75"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="NOT_PROM_S':105" class="idref" href="#NOT_PROM_S':105"><span class="id" title="binder">NOT_PROM_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:67"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':68"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':96"><span class="id" title="variable">lc_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="VIEW_S':106" class="idref" href="#VIEW_S':106"><span class="id" title="binder">VIEW_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':96"><span class="id" title="variable">lc_src'</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:67"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':68"><span class="id" title="variable">to'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="FULFILL_S:107" class="idref" href="#FULFILL_S:107"><span class="id" title="binder">FULFILL_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:66"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:54"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':95"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':96"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':97"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':98"><span class="id" title="variable">mem_src'</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':99"><span class="id" title="variable">e_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="BOT_S:108" class="idref" href="#BOT_S:108"><span class="id" title="binder">BOT_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':99"><span class="id" title="variable">e_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#source_ww_race_construction1"><span class="id" title="lemma">source_ww_race_construction1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#no_scfence_steps_to_bot_promise_consistent"><span class="id" title="lemma">no_scfence_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FULFILL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#no_scfence_steps_to_bot_promise_consistent"><span class="id" title="lemma">no_scfence_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_T'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">local</span> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_CLOSED'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.LocalSim.html#state_in_or_out"><span class="id" title="lemma">state_in_or_out</span></a>. <span class="id" title="tactic">instantiate</span> (1 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.get_program_event"><span class="id" title="definition">ThreadEvent.get_program_event</span></a> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AT_OR_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AT_OR_NA_STEP</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">AT_STEP</span> | <span class="id" title="var">NA_STEP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">DSET_EMP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">INDSET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INDSET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gempty"><span class="id" title="lemma">DenseOrder.DOMap.gempty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INDSET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.LocalSim.html#state_in_step_implies_threadEvt_is_na_step"><span class="id" title="lemma">state_in_step_implies_threadEvt_is_na_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">IS_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_ABORT</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">RELY_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_S'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">local0</span> <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_CLOSED_S'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#na_steps_dset_race_or_not"><span class="id" title="lemma">na_steps_dset_race_or_not</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">i</span>). <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">INDSET</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get_add1"><span class="id" title="lemma">dset_get_add1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>. <span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill"><span class="id" title="lemma">lsim_ensures_promise_fulfill</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FOUNDED</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MONOTONIC_INJ</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WF_I</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">BOT</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="var">GET_MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_MSG</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_NONE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PSTEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NA_STEPS_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="var">GET_MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_MSG</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TEMP</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">TEMP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">STEP_INV0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ATOMIC_COVER</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">ATOMIC_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">MEM_APPROX_EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_approxEq_loc"><span class="id" title="definition">Mem_approxEq_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_APPROX_EQ</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_APPROX_EQ0</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">FULFILL_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">FULFILL_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">FULFILL_S</span> &amp; <span class="id" title="var">BOT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#tau_steps_fulfill_implies_nprm_steps_fulfill"><span class="id" title="lemma">tau_steps_fulfill_implies_nprm_steps_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_S</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RACE0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc1</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem1</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">st2</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_reduce"><span class="id" title="lemma">dset_reduce</span></a>; [ | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">IN_DSET2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IN_DSET2'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">j</span> &amp; <span class="id" title="var">IN_DSET2'</span> &amp; <span class="id" title="var">INDEX_DEC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_MSG_S'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">RACE_MSG_S'</span> &amp; <span class="id" title="var">NOT_PROM_S'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NA_STEPS_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRE_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">TVIEW_UNCHANGE</span>: <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.pf_promise_steps_tview_unchange"><span class="id" title="lemma">Thread.pf_promise_steps_tview_unchange</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TVIEW_UNCHANGE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>.. ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_MSG_S'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">RACE_MSG_S'</span> &amp; <span class="id" title="var">NOT_PROM_S'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">TVIEW_UNCHANGE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="source_ww_race_construction2" class="idref" href="#source_ww_race_construction2"><span class="id" title="lemma">source_ww_race_construction2</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:109" class="idref" href="#n:109"><span class="id" title="binder">n</span></a> <a id="lang:110" class="idref" href="#lang:110"><span class="id" title="binder">lang</span></a> <a id="st_tgt:111" class="idref" href="#st_tgt:111"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:112" class="idref" href="#lc_tgt:112"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:113" class="idref" href="#sc_tgt:113"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:114" class="idref" href="#mem_tgt:114"><span class="id" title="binder">mem_tgt</span></a> <a id="e_tgt':115" class="idref" href="#e_tgt':115"><span class="id" title="binder">e_tgt'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:116" class="idref" href="#index:116"><span class="id" title="binder">index</span></a> <a id="index_order:117" class="idref" href="#index_order:117"><span class="id" title="binder">index_order</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_src:118" class="idref" href="#st_src:118"><span class="id" title="binder">st_src</span></a> <a id="lc_src:119" class="idref" href="#lc_src:119"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:120" class="idref" href="#sc_src:120"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:121" class="idref" href="#mem_src:121"><span class="id" title="binder">mem_src</span></a> <a id="lo:122" class="idref" href="#lo:122"><span class="id" title="binder">lo</span></a> <a id="loc:123" class="idref" href="#loc:123"><span class="id" title="binder">loc</span></a> <a id="to':124" class="idref" href="#to':124"><span class="id" title="binder">to'</span></a> <a id="b:125" class="idref" href="#b:125"><span class="id" title="binder">b</span></a> <a id="dset:126" class="idref" href="#dset:126"><span class="id" title="binder">dset</span></a> <a id="inj:127" class="idref" href="#inj:127"><span class="id" title="binder">inj</span></a> <a id="I:128" class="idref" href="#I:128"><span class="id" title="binder">I</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="from':129" class="idref" href="#from':129"><span class="id" title="binder">from'</span></a> <a id="val':130" class="idref" href="#val':130"><span class="id" title="binder">val'</span></a> <a id="R':131" class="idref" href="#R':131"><span class="id" title="binder">R'</span></a> <a id="t:132" class="idref" href="#t:132"><span class="id" title="binder">t</span></a> <a id="i:133" class="idref" href="#i:133"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:134" class="idref" href="#FULFILL:134"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:122"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#n:109"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:110"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:111"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:112"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:113"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:114"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':115"><span class="id" title="variable">e_tgt'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:135" class="idref" href="#BOT:135"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':115"><span class="id" title="variable">e_tgt'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INDSET:136" class="idref" href="#INDSET:136"><span class="id" title="binder">INDSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t:132"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:126"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:133"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ACC:137" class="idref" href="#ACC:137"><span class="id" title="binder">ACC</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:117"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:133"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:138" class="idref" href="#LOCAL_SIM:138"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:116"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:117"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:110"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:128"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:122"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:127"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:126"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b:125"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:110"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:111"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:112"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:113"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:114"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:110"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:118"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:119"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:120"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:121"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_MSG_S:139" class="idref" href="#RACE_MSG_S:139"><span class="id" title="binder">RACE_MSG_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':124"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:121"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':129"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':130"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':131"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM_S:140" class="idref" href="#NOT_PROM_S:140"><span class="id" title="binder">NOT_PROM_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':124"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:119"><span class="id" title="variable">lc_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_S:141" class="idref" href="#RACE_S:141"><span class="id" title="binder">RACE_S</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:119"><span class="id" title="variable">lc_src</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':124"><span class="id" title="variable">to'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:143" class="idref" href="#SAFE:143"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':142" class="idref" href="#e_src':142"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:122"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:110"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:118"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:119"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:120"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:121"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':142"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':142"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:122"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:144" class="idref" href="#LOCAL_WF_T:144"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:112"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:114"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:145" class="idref" href="#MEM_CLOSED:145"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:114"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:146" class="idref" href="#LOCAL_WF_S:146"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:119"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:121"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:147" class="idref" href="#MEM_CLOSED:147"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:121"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:148" class="idref" href="#MONOTONIC_INJ:148"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:127"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED:149" class="idref" href="#WELL_FOUNDED:149"><span class="id" title="binder">WELL_FOUNDED</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:117"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_I:150" class="idref" href="#WF_I:150"><span class="id" title="binder">WF_I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:128"><span class="id" title="variable">I</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">∃</span></a> <a id="st_src':151" class="idref" href="#st_src':151"><span class="id" title="binder">st_src'</span></a> <a id="lc_src':152" class="idref" href="#lc_src':152"><span class="id" title="binder">lc_src'</span></a> <a id="sc_src':153" class="idref" href="#sc_src':153"><span class="id" title="binder">sc_src'</span></a> <a id="mem_src':154" class="idref" href="#mem_src':154"><span class="id" title="binder">mem_src'</span></a> <a id="e_src':155" class="idref" href="#e_src':155"><span class="id" title="binder">e_src'</span></a> <a id="stw_src':156" class="idref" href="#stw_src':156"><span class="id" title="binder">stw_src'</span></a> <a id="val0:157" class="idref" href="#val0:157"><span class="id" title="binder">val0</span></a><a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="PRE_S:158" class="idref" href="#PRE_S:158"><span class="id" title="binder">PRE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:122"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:110"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:118"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:119"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:120"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:121"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:110"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':151"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':152"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':153"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':154"><span class="id" title="variable">mem_src'</span></a>)<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="WRITE_S:159" class="idref" href="#WRITE_S:159"><span class="id" title="binder">WRITE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:110"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:157"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':151"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#stw_src':156"><span class="id" title="variable">stw_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="RACE_MSG_S':160" class="idref" href="#RACE_MSG_S':160"><span class="id" title="binder">RACE_MSG_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':124"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':154"><span class="id" title="variable">mem_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':129"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':130"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':131"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="NOT_PROM_S':161" class="idref" href="#NOT_PROM_S':161"><span class="id" title="binder">NOT_PROM_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':124"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':152"><span class="id" title="variable">lc_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="VIEW_S':162" class="idref" href="#VIEW_S':162"><span class="id" title="binder">VIEW_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':152"><span class="id" title="variable">lc_src'</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':124"><span class="id" title="variable">to'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="FULFILL_S:163" class="idref" href="#FULFILL_S:163"><span class="id" title="binder">FULFILL_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:122"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:110"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':151"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':152"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':153"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':154"><span class="id" title="variable">mem_src'</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':155"><span class="id" title="variable">e_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="BOT_S:164" class="idref" href="#BOT_S:164"><span class="id" title="binder">BOT_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':155"><span class="id" title="variable">e_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_fulfill_implies_no_scfence_nprm_step_fulfill"><span class="id" title="lemma">nprm_steps_fulfill_implies_no_scfence_nprm_step_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#source_ww_race_construction2'"><span class="id" title="lemma">source_ww_race_construction2'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="source_ww_race_construction" class="idref" href="#source_ww_race_construction"><span class="id" title="lemma">source_ww_race_construction</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:165" class="idref" href="#n:165"><span class="id" title="binder">n</span></a> <a id="lang:166" class="idref" href="#lang:166"><span class="id" title="binder">lang</span></a> <a id="st_tgt:167" class="idref" href="#st_tgt:167"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:168" class="idref" href="#lc_tgt:168"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:169" class="idref" href="#sc_tgt:169"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:170" class="idref" href="#mem_tgt:170"><span class="id" title="binder">mem_tgt</span></a> <a id="e_tgt':171" class="idref" href="#e_tgt':171"><span class="id" title="binder">e_tgt'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:172" class="idref" href="#index:172"><span class="id" title="binder">index</span></a> <a id="index_order:173" class="idref" href="#index_order:173"><span class="id" title="binder">index_order</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_src:174" class="idref" href="#st_src:174"><span class="id" title="binder">st_src</span></a> <a id="lc_src:175" class="idref" href="#lc_src:175"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:176" class="idref" href="#sc_src:176"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:177" class="idref" href="#mem_src:177"><span class="id" title="binder">mem_src</span></a> <a id="lo:178" class="idref" href="#lo:178"><span class="id" title="binder">lo</span></a> <a id="loc:179" class="idref" href="#loc:179"><span class="id" title="binder">loc</span></a> <a id="val:180" class="idref" href="#val:180"><span class="id" title="binder">val</span></a> <a id="to':181" class="idref" href="#to':181"><span class="id" title="binder">to'</span></a> <a id="b:182" class="idref" href="#b:182"><span class="id" title="binder">b</span></a> <a id="dset:183" class="idref" href="#dset:183"><span class="id" title="binder">dset</span></a> <a id="inj:184" class="idref" href="#inj:184"><span class="id" title="binder">inj</span></a> <a id="stw_tgt:185" class="idref" href="#stw_tgt:185"><span class="id" title="binder">stw_tgt</span></a> <a id="I:186" class="idref" href="#I:186"><span class="id" title="binder">I</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="from':187" class="idref" href="#from':187"><span class="id" title="binder">from'</span></a> <a id="val':188" class="idref" href="#val':188"><span class="id" title="binder">val'</span></a> <a id="R':189" class="idref" href="#R':189"><span class="id" title="binder">R'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TGT_WRITE:190" class="idref" href="#TGT_WRITE:190"><span class="id" title="binder">TGT_WRITE</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:166"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:179"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:180"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:167"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#stw_tgt:185"><span class="id" title="variable">stw_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:191" class="idref" href="#FULFILL:191"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:178"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#n:165"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:167"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:168"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:169"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:170"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':171"><span class="id" title="variable">e_tgt'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:192" class="idref" href="#BOT:192"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':171"><span class="id" title="variable">e_tgt'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:193" class="idref" href="#LOCAL_SIM:193"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:172"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:173"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:186"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:178"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:184"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:183"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b:182"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:167"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:168"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:169"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:170"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:174"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:175"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:176"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:177"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_MSG_S:194" class="idref" href="#RACE_MSG_S:194"><span class="id" title="binder">RACE_MSG_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:179"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':181"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:177"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':187"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':188"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':189"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM_S:195" class="idref" href="#NOT_PROM_S:195"><span class="id" title="binder">NOT_PROM_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:179"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':181"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:175"><span class="id" title="variable">lc_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_S:196" class="idref" href="#RACE_S:196"><span class="id" title="binder">RACE_S</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:175"><span class="id" title="variable">lc_src</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:179"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':181"><span class="id" title="variable">to'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:198" class="idref" href="#SAFE:198"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':197" class="idref" href="#e_src':197"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:178"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:174"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:175"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:176"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:177"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':197"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':197"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:178"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:199" class="idref" href="#LOCAL_WF_T:199"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:168"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:170"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:200" class="idref" href="#MEM_CLOSED:200"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:170"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:201" class="idref" href="#LOCAL_WF_S:201"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:175"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:177"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:202" class="idref" href="#MEM_CLOSED:202"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:177"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:203" class="idref" href="#MONOTONIC_INJ:203"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:184"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED:204" class="idref" href="#WELL_FOUNDED:204"><span class="id" title="binder">WELL_FOUNDED</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:173"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_I:205" class="idref" href="#WF_I:205"><span class="id" title="binder">WF_I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:186"><span class="id" title="variable">I</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">∃</span></a> <a id="st_src':206" class="idref" href="#st_src':206"><span class="id" title="binder">st_src'</span></a> <a id="lc_src':207" class="idref" href="#lc_src':207"><span class="id" title="binder">lc_src'</span></a> <a id="sc_src':208" class="idref" href="#sc_src':208"><span class="id" title="binder">sc_src'</span></a> <a id="mem_src':209" class="idref" href="#mem_src':209"><span class="id" title="binder">mem_src'</span></a> <a id="e_src':210" class="idref" href="#e_src':210"><span class="id" title="binder">e_src'</span></a> <a id="stw_src':211" class="idref" href="#stw_src':211"><span class="id" title="binder">stw_src'</span></a> <a id="val0:212" class="idref" href="#val0:212"><span class="id" title="binder">val0</span></a><a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="PRE_S:213" class="idref" href="#PRE_S:213"><span class="id" title="binder">PRE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:178"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:174"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:175"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:176"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:177"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':206"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':207"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':208"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':209"><span class="id" title="variable">mem_src'</span></a>)<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="WRITE_S:214" class="idref" href="#WRITE_S:214"><span class="id" title="binder">WRITE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:166"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:179"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:212"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':206"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#stw_src':211"><span class="id" title="variable">stw_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="RACE_MSG_S':215" class="idref" href="#RACE_MSG_S':215"><span class="id" title="binder">RACE_MSG_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:179"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':181"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':209"><span class="id" title="variable">mem_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':187"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':188"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':189"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="NOT_PROM_S':216" class="idref" href="#NOT_PROM_S':216"><span class="id" title="binder">NOT_PROM_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:179"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':181"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':207"><span class="id" title="variable">lc_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="VIEW_S':217" class="idref" href="#VIEW_S':217"><span class="id" title="binder">VIEW_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':207"><span class="id" title="variable">lc_src'</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:179"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':181"><span class="id" title="variable">to'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="FULFILL_S:218" class="idref" href="#FULFILL_S:218"><span class="id" title="binder">FULFILL_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:178"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':206"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':207"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':208"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':209"><span class="id" title="variable">mem_src'</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':210"><span class="id" title="variable">e_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="BOT_S:219" class="idref" href="#BOT_S:219"><span class="id" title="binder">BOT_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':210"><span class="id" title="variable">e_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BOT</span>. <span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">PROGRESS</span>: <span class="id" title="var">TGT_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#write_not_abort_progress"><span class="id" title="lemma">write_not_abort_progress</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) (<span class="id" title="var">sc</span> := <span class="id" title="var">sc_tgt</span>) (<span class="id" title="var">lc</span> := <span class="id" title="var">lc_tgt</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">PROGRESS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.write"><span class="id" title="constructor">ThreadEvent.write</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <span class="id" title="var">val</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>). <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_write"><span class="id" title="constructor">Local.step_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">THRD_STEP</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">DSET_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="i:221" class="idref" href="#i:221"><span class="id" title="binder">i</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <span class="id" title="var">dset1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:220"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">NA_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get_gss"><span class="id" title="lemma">dset_get_gss</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#na_steps_dset_race_or_not"><span class="id" title="lemma">na_steps_dset_race_or_not</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_LC_BOT'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">BOT</span> <span class="id" title="var">PROGRESS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROGRESS</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill_T_BOT"><span class="id" title="lemma">lsim_ensures_promise_fulfill_T_BOT</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">MONOTONIC_INJ</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FOUNDED</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">TGT_LC_BOT'</span> | | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H3</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc</span>). <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">RACE_WRITE</span>: <span class="id" title="var">RACE0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RACE_WRITE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc1</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem1</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_srcc'</span> <span class="id" title="var">st2</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE2</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">RACE_MSG_PRSV</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to'</span> <span class="id" title="var">memory</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val'</span> <span class="id" title="var">R'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to'</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">local</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_RACE0</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">WF_INDEX</span>: <span class="id" title="var">WELL_FOUNDED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WF_INDEX</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">WF_INDEX</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#source_ww_race_construction1"><span class="id" title="lemma">source_ww_race_construction1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRE_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">BOT</span> <span class="id" title="var">PROGRESS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROGRESS</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEP_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEP_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">AT_OR_NA_LOC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_write_on_atomic_loc_is_abort"><span class="id" title="lemma">Thread.na_write_on_atomic_loc_is_abort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROGRESS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_ABORT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FULFILL</span>. <span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<a class="idref" href="CompOptCert.Language.html#Language.deterministic"><span class="id" title="projection">Language.deterministic</span></a> <span class="id" title="var">lang</span>); [<span class="id" title="tactic">eapply</span> <span class="id" title="var">TGT_WRITE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STATE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">STATE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_S'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">local0</span> <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">CLOSED_S'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">DSET_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="i:223" class="idref" href="#i:223"><span class="id" title="binder">i</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to</span> <span class="id" title="var">dset1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:222"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">NA_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get_gss"><span class="id" title="lemma">dset_get_gss</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#na_steps_dset_race_or_not"><span class="id" title="lemma">na_steps_dset_race_or_not</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">RACE_WRITE_S</span>: <span class="id" title="var">RACE0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RACE_WRITE_S</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill"><span class="id" title="lemma">lsim_ensures_promise_fulfill</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> := <span class="id" title="var">n</span>) (<span class="id" title="var">e_tgt'</span> := <span class="id" title="var">e_tgt'</span>) (<span class="id" title="var">mem_tgtc</span> := <span class="id" title="var">memory</span>) (<span class="id" title="var">mem_srcc</span> := <span class="id" title="var">memory0</span>) (<span class="id" title="var">sc_srcc</span> := <span class="id" title="var">sc0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#tau_steps_fulfill_implies_nprm_steps_fulfill"><span class="id" title="lemma">tau_steps_fulfill_implies_nprm_steps_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc1</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem1</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span> <span class="id" title="var">st2</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE2</span> | <span class="id" title="tactic">eauto</span>..].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="var">GET_MSG</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_MSG</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PSTEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="var">GET_MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_MSG</span>. <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NP_STEPS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV0</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ATOMIC_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ATOMIC_COVER</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_approxEq_loc"><span class="id" title="definition">Mem_approxEq_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_RACE0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>. <span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#source_ww_race_construction2"><span class="id" title="lemma">source_ww_race_construction2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> := <span class="id" title="var">n</span>) (<span class="id" title="var">e_tgt'</span> := <span class="id" title="var">e_tgt'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PF</span>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">RACE_MSG_PRSV</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to'</span> <span class="id" title="var">memory0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val'</span> <span class="id" title="var">R'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to'</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">local0</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_pf_promise_steps_is_nprm_steps"><span class="id" title="lemma">Thread_pf_promise_steps_is_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">st_tgt</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">state</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_pf_promise_steps_is_nprm_steps"><span class="id" title="lemma">Thread_pf_promise_steps_is_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.pf_promise_steps_tview_unchange"><span class="id" title="lemma">Thread.pf_promise_steps_tview_unchange</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_pf_promise_steps_is_nprm_steps"><span class="id" title="lemma">Thread_pf_promise_steps_is_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_step_future"><span class="id" title="lemma">Local.promise_step_future</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_step_future"><span class="id" title="lemma">Local.promise_step_future</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ww_rf_preservation_aux_cur_race" class="idref" href="#ww_rf_preservation_aux_cur_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_race</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="index:224" class="idref" href="#index:224"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>) (<a id="index_order:225" class="idref" href="#index_order:225"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#index:224"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:224"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="I:226" class="idref" href="#I:226"><span class="id" title="binder">I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Invariant"><span class="id" title="definition">Invariant</span></a>) (<a id="lo:227" class="idref" href="#lo:227"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>) <a id="inj:228" class="idref" href="#inj:228"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ths_tgt:229" class="idref" href="#ths_tgt:229"><span class="id" title="binder">ths_tgt</span></a> <a id="ths_src:230" class="idref" href="#ths_src:230"><span class="id" title="binder">ths_src</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Threads.t"><span class="id" title="definition">Threads.t</span></a>) (<a id="sc_tgt:231" class="idref" href="#sc_tgt:231"><span class="id" title="binder">sc_tgt</span></a> <a id="sc_src:232" class="idref" href="#sc_src:232"><span class="id" title="binder">sc_src</span></a>: <a class="idref" href="CompOptCert.View.html#TimeMap.t"><span class="id" title="definition">TimeMap.t</span></a>) (<a id="mem_tgt:233" class="idref" href="#mem_tgt:233"><span class="id" title="binder">mem_tgt</span></a> <a id="mem_src:234" class="idref" href="#mem_src:234"><span class="id" title="binder">mem_src</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ctid:235" class="idref" href="#ctid:235"><span class="id" title="binder">ctid</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED_ORDER:236" class="idref" href="#WELL_FOUNDED_ORDER:236"><span class="id" title="binder">WELL_FOUNDED_ORDER</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:225"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FORMED_INV:237" class="idref" href="#WELL_FORMED_INV:237"><span class="id" title="binder">WELL_FORMED_INV</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:226"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="AUX_WW_RACE:238" class="idref" href="#AUX_WW_RACE:238"><span class="id" title="binder">AUX_WW_RACE</span></a>: <a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:227"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:229"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:235"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:231"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:233"><span class="id" title="variable">mem_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:245" class="idref" href="#LOCAL_SIM:245"><span class="id" title="binder">LOCAL_SIM</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:239" class="idref" href="#lang:239"><span class="id" title="binder">lang</span></a> <a id="st_tgt:240" class="idref" href="#st_tgt:240"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:241" class="idref" href="#lc_tgt:241"><span class="id" title="binder">lc_tgt</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:235"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:229"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:239"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:240"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:241"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="st_src:242" class="idref" href="#st_src:242"><span class="id" title="binder">st_src</span></a> <a id="lc_src:243" class="idref" href="#lc_src:243"><span class="id" title="binder">lc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:235"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:230"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:239"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:242"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:243"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:224"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:225"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:239"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:226"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:227"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:228"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:239"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:240"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:241"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:231"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:233"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:239"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:242"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:243"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:232"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:234"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="TGT_PROM_CONS:244" class="idref" href="#TGT_PROM_CONS:244"><span class="id" title="binder">TGT_PROM_CONS</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:241"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:247" class="idref" href="#SAFE:247"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:246" class="idref" href="#npc:246"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:227"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:230"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:235"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:232"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:234"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:246"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Configuration.html#Configuration.is_abort"><span class="id" title="definition">Configuration.is_abort</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:246"><span class="id" title="variable">npc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:227"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:248" class="idref" href="#MONOTONIC_INJ:248"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:228"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_TGT:249" class="idref" href="#WF_CONFIG_TGT:249"><span class="id" title="binder">WF_CONFIG_TGT</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:229"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:235"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:231"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:233"><span class="id" title="variable">mem_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_SRC:250" class="idref" href="#WF_CONFIG_SRC:250"><span class="id" title="binder">WF_CONFIG_SRC</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:230"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:235"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:232"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:234"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:227"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:230"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:235"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:232"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:234"><span class="id" title="variable">mem_src</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AUX_WW_RACE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">LOCAL_SIM</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#thread_all_step_to_NPThread_all_steps_from_outAtmBlk"><span class="id" title="lemma">thread_all_step_to_NPThread_all_steps_from_outAtmBlk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#tau_steps_fulfill_implies_nprm_steps_fulfill"><span class="id" title="lemma">tau_steps_fulfill_implies_nprm_steps_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#not_abort_implies_thread_safe"><span class="id" title="lemma">not_abort_implies_thread_safe</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">st</span> := <span class="id" title="var">st_src</span>) (<span class="id" title="var">lc</span> := <span class="id" title="var">lc_src</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">SAFE</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#sim_all_steps"><span class="id" title="lemma">sim_all_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eauto</span>..].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_in_starting_mem"><span class="id" title="lemma">race_message_in_starting_mem</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RC_MSG</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RC_MSG0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WWRC</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CTID</span> <span class="id" title="var">WF_CONFIG_TGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CTID</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_POINT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_POINT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">MEM_RACE_MSG0</span> &amp; <span class="id" title="var">NOT_IN_PROM0</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">RELY_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WELL_FORMED_INV</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_RACE_MSG0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NOT_IN_S_PROM0</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t'</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t'</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc_src</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">GET_S_PROM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET_S_PROM</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">REL_PROMISES0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_S_PROM</span>; <span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET_S_PROM0</span> <span class="id" title="var">REL_PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_subset"><span class="id" title="definition">dset_subset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REL_PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">REL_PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gempty"><span class="id" title="lemma">DenseOrder.DOMap.gempty</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj_implies_injective"><span class="id" title="lemma">monotonic_inj_implies_injective</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">MONOTONIC_INJ</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">GET_S_PROM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NOT_IN_PROM0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_S_PROM0</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsvLemmas.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_IN_S_PROM0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">memory</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_src'</span>, <span class="id" title="var">local</span> <span class="id" title="var">to</span> <span class="id" title="var">lc_src'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">LOCAL_SIM_PSV'</span>: <span class="id" title="var">LOCAL_SIM_PSV</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">INJ</span>: <span class="id" title="var">inj'</span> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">INJ_INCR</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">VIEW_LE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_S</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#source_ww_race_construction"><span class="id" title="lemma">source_ww_race_construction</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">FULFILL</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">FULFILL1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_SIM_PSV'</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H3</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">S_STEPS</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">WW_RACE_S</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid</span> := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRE_S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRE_S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRE_S</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE_S</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">FULFILL_S</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
current thread will not abort 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ww_rf_preservation_aux_cur_not_race" class="idref" href="#ww_rf_preservation_aux_cur_not_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_not_race</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:251" class="idref" href="#n:251"><span class="id" title="binder">n</span></a> (<a id="index:252" class="idref" href="#index:252"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>) (<a id="index_order:253" class="idref" href="#index_order:253"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#index:252"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:252"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="I:254" class="idref" href="#I:254"><span class="id" title="binder">I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Invariant"><span class="id" title="definition">Invariant</span></a>) (<a id="lo:255" class="idref" href="#lo:255"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>) <a id="inj:256" class="idref" href="#inj:256"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ths_tgt:257" class="idref" href="#ths_tgt:257"><span class="id" title="binder">ths_tgt</span></a> <a id="ths_src:258" class="idref" href="#ths_src:258"><span class="id" title="binder">ths_src</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Threads.t"><span class="id" title="definition">Threads.t</span></a>) (<a id="sc_tgt:259" class="idref" href="#sc_tgt:259"><span class="id" title="binder">sc_tgt</span></a> <a id="sc_src:260" class="idref" href="#sc_src:260"><span class="id" title="binder">sc_src</span></a>: <a class="idref" href="CompOptCert.View.html#TimeMap.t"><span class="id" title="definition">TimeMap.t</span></a>) (<a id="mem_tgt:261" class="idref" href="#mem_tgt:261"><span class="id" title="binder">mem_tgt</span></a> <a id="mem_src:262" class="idref" href="#mem_src:262"><span class="id" title="binder">mem_src</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ctid:263" class="idref" href="#ctid:263"><span class="id" title="binder">ctid</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>) <a id="npc_tgt:264" class="idref" href="#npc_tgt:264"><span class="id" title="binder">npc_tgt</span></a> <a id="b_tgt:265" class="idref" href="#b_tgt:265"><span class="id" title="binder">b_tgt</span></a> <a id="b_src:266" class="idref" href="#b_src:266"><span class="id" title="binder">b_src</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED_ORDER:267" class="idref" href="#WELL_FOUNDED_ORDER:267"><span class="id" title="binder">WELL_FOUNDED_ORDER</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:253"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FORMED_INV:268" class="idref" href="#WELL_FORMED_INV:268"><span class="id" title="binder">WELL_FORMED_INV</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:254"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T_STEPS:269" class="idref" href="#T_STEPS:269"><span class="id" title="binder">T_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#n:251"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:257"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:263"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:259"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:261"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:265"><span class="id" title="variable">b_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_tgt:264"><span class="id" title="variable">npc_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WW_RACE:270" class="idref" href="#WW_RACE:270"><span class="id" title="binder">WW_RACE</span></a>: <a class="idref" href="CompOptCert.ww_RF.html#ww_race"><span class="id" title="inductive">ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_tgt:264"><span class="id" title="variable">npc_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_NOT_RACE:271" class="idref" href="#CUR_NOT_RACE:271"><span class="id" title="binder">CUR_NOT_RACE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:257"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:263"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:259"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:261"><span class="id" title="variable">mem_tgt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READY_THRDS:281" class="idref" href="#READY_THRDS:281"><span class="id" title="binder">READY_THRDS</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="tid:272" class="idref" href="#tid:272"><span class="id" title="binder">tid</span></a> (<a id="READY_TID:273" class="idref" href="#READY_TID:273"><span class="id" title="binder">READY_TID</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:272"><span class="id" title="variable">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:263"><span class="id" title="variable">ctid</span></a>) <a id="lang:274" class="idref" href="#lang:274"><span class="id" title="binder">lang</span></a> <a id="st_tgt:275" class="idref" href="#st_tgt:275"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:276" class="idref" href="#lc_tgt:276"><span class="id" title="binder">lc_tgt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READY_TGT_THD:277" class="idref" href="#READY_TGT_THD:277"><span class="id" title="binder">READY_TGT_THD</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:272"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:257"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:274"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:275"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:276"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="st_src:278" class="idref" href="#st_src:278"><span class="id" title="binder">st_src</span></a> <a id="lc_src:279" class="idref" href="#lc_src:279"><span class="id" title="binder">lc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:272"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:258"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:274"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:278"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:279"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state"><span class="id" title="inductive">rely_local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:252"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:253"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:274"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:254"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:256"><span class="id" title="variable">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:274"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:275"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:276"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:259"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:261"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:274"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:278"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:279"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:260"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:262"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="R_TGT_PROM_CONS:280" class="idref" href="#R_TGT_PROM_CONS:280"><span class="id" title="binder">R_TGT_PROM_CONS</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:276"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_THRD:290" class="idref" href="#CUR_THRD:290"><span class="id" title="binder">CUR_THRD</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:282" class="idref" href="#lang:282"><span class="id" title="binder">lang</span></a> <a id="st_tgt:283" class="idref" href="#st_tgt:283"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:284" class="idref" href="#lc_tgt:284"><span class="id" title="binder">lc_tgt</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_TGT_THRD:285" class="idref" href="#CUR_TGT_THRD:285"><span class="id" title="binder">CUR_TGT_THRD</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:263"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:257"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:282"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:283"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:284"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">∃</span></a> <a id="st_src:286" class="idref" href="#st_src:286"><span class="id" title="binder">st_src</span></a> <a id="lc_src:287" class="idref" href="#lc_src:287"><span class="id" title="binder">lc_src</span></a> <a id="dset:288" class="idref" href="#dset:288"><span class="id" title="binder">dset</span></a><a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:263"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:258"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:282"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:286"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:287"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:252"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:253"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:282"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:254"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:256"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:288"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:265"><span class="id" title="variable">b_tgt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:282"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:283"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:284"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:259"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:261"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:282"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:286"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:287"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:260"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:262"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:265"><span class="id" title="variable">b_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:288"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="C_TGT_PROM_CONS:289" class="idref" href="#C_TGT_PROM_CONS:289"><span class="id" title="binder">C_TGT_PROM_CONS</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:284"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONSISTENTS:291" class="idref" href="#CONSISTENTS:291"><span class="id" title="binder">CONSISTENTS</span></a>: <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.consistent"><span class="id" title="definition">NPConfiguration.consistent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:257"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:263"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:259"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:261"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:265"><span class="id" title="variable">b_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WWRF:293" class="idref" href="#WWRF:293"><span class="id" title="binder">WWRF</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:292" class="idref" href="#npc:292"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:258"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:263"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:260"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:262"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#b_src:266"><span class="id" title="variable">b_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:292"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:292"><span class="id" title="variable">npc</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:295" class="idref" href="#SAFE:295"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:294" class="idref" href="#npc:294"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:258"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:263"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:260"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:262"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#b_src:266"><span class="id" title="variable">b_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:294"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Configuration.html#Configuration.is_abort"><span class="id" title="definition">Configuration.is_abort</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:294"><span class="id" title="variable">npc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_TGT:296" class="idref" href="#WF_CONFIG_TGT:296"><span class="id" title="binder">WF_CONFIG_TGT</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:257"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:263"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:259"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:261"><span class="id" title="variable">mem_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_SRC:297" class="idref" href="#WF_CONFIG_SRC:297"><span class="id" title="binder">WF_CONFIG_SRC</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:258"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:263"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:260"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:262"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_ATM_BIT:298" class="idref" href="#WF_ATM_BIT:298"><span class="id" title="binder">WF_ATM_BIT</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:265"><span class="id" title="variable">b_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b_src:266"><span class="id" title="variable">b_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INV_OUT_ATM:299" class="idref" href="#INV_OUT_ATM:299"><span class="id" title="binder">INV_OUT_ATM</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:265"><span class="id" title="variable">b_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:261"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:262"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:254"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:256"><span class="id" title="variable">inj</span></a> (<a class="idref" href="CompOptCert.LocalSim.html#Build_Rss"><span class="id" title="constructor">Build_Rss</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:259"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:261"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:260"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:262"><span class="id" title="variable">mem_src</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:300" class="idref" href="#MONOTONIC_INJ:300"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:256"><span class="id" title="variable">inj</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc_src:301" class="idref" href="#npc_src:301"><span class="id" title="binder">npc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:258"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:263"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:260"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:262"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#b_src:266"><span class="id" title="variable">b_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_src:301"><span class="id" title="variable">npc_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ww_RF.html#ww_race"><span class="id" title="inductive">ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:255"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_src:301"><span class="id" title="variable">npc_src</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">T_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WW_RACE</span> <span class="id" title="var">CUR_NOT_RACE</span> <span class="id" title="var">CONSISTENTS</span> <span class="id" title="var">WF_CONFIG_TGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">CUR_NOT_RACE</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">CUR_NOT_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.consistent"><span class="id" title="definition">NPConfiguration.consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENTS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Configuration.html#Threads.consistent_nprm"><span class="id" title="definition">Threads.consistent_nprm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENTS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">T_CONSISTENT</span>: <span class="id" title="var">CTID</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CONSISTENTS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">T_CONSISTENT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#Thread_nprm_implies_fulfill"><span class="id" title="lemma">Thread_nprm_implies_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_CONSISTENT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_CONSISTENT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">T_CONSISTENT</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">CONSISTENTS'</span>: <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentStableEnv.html#threads_consistent_stable"><span class="id" title="lemma">threads_consistent_stable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENTS'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">T_STEPS</span>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">lo</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <span class="id" title="var">lang</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc1</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>) <span class="id" title="var">b_tgt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <span class="id" title="var">lang</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st2</span> <span class="id" title="var">lc2</span> <span class="id" title="var">sc2</span> <span class="id" title="var">m2</span>) <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_n1"><span class="id" title="lemma">rtc_n1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">T_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">T_CONFIG_WF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">TID1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PROM_CONS_T</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#consistent_nprm_promise_consistent"><span class="id" title="lemma">consistent_nprm_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENT</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#sim_tau_steps_aux"><span class="id" title="lemma">sim_tau_steps_aux</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">T_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_ABORT</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_ABORT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_CONFIG_WF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">S_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">S_STEPS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lang</span> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_tgt</span> := <span class="id" title="var">sc2</span>) (<span class="id" title="var">mem_tgt</span> := <span class="id" title="var">m2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory</span>) (<span class="id" title="var">b_src</span> := <span class="id" title="var">b_src'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_SRC</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gsident"><span class="id" title="lemma">IdentMap.gsident</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PSTEPS_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">CUR_NOT_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AUX_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CTID</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CTID</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">TID1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := <span class="id" title="var">n0</span>) (<span class="id" title="var">n_src</span> := 0) (<span class="id" title="var">lang2</span> := <span class="id" title="var">lang0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (4 := <span class="id" title="var">ctid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gsident"><span class="id" title="lemma">IdentMap.gsident</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gsident"><span class="id" title="lemma">IdentMap.gsident</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#out_atmblk_I_inj_hold"><span class="id" title="lemma">out_atmblk_I_inj_hold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_STEPS_CONS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">S_STEPS_CONS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">S_STEPS_CONS</span> &amp; <span class="id" title="var">S_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (@<a class="idref" href="CompOptCert.ww_RF.html#thrd_ww_race"><span class="id" title="inductive">thrd_ww_race</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">sc</span> <span class="id" title="var">memory</span>))) <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">THRD_WW_RACE</span> | <span class="id" title="var">THRD_NOT_WW_RACE</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">AUX_WW_RACE_S</span>: <a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <span class="id" title="var">ths_src</span> <span class="id" title="var">ctid</span> <span class="id" title="var">sc_src</span> <span class="id" title="var">mem_src</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">THRD_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <span class="id" title="var">lo</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st_src</span> <span class="id" title="var">lc_src</span> <span class="id" title="var">sc_src</span> <span class="id" title="var">mem_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st'</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc'</span> <span class="id" title="var">mem'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">WF_CONFIG_T_TEMP</span>: <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WF_CONFIG_T_TEMP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid</span> := <span class="id" title="var">ctid</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">WF_CONFIG_T_TEMP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONSISTENT_S</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a> <span class="id" title="var">lang</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">sc</span> <span class="id" title="var">memory</span>) <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#promise_certified_prsv"><span class="id" title="lemma">promise_certified_prsv</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CONSISTENT</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE</span> <span class="id" title="var">S_STEPS</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">S_ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">S_STEPS_TO_ABORT</span> &amp; <span class="id" title="var">S_ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_TO_ABORT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lang</span> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_tgt</span> := <span class="id" title="var">sc2</span>) (<span class="id" title="var">mem_tgt</span> := <span class="id" title="var">m2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory</span>) (<span class="id" title="var">b_src</span> := <span class="id" title="var">b_src'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_SRC</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_SRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS_CONS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">CUR_NOT_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AUX_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CTID</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CTID</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">TID1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := <span class="id" title="var">n1</span>) (<span class="id" title="var">n_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>) (<span class="id" title="var">lang2</span> := <span class="id" title="var">lang0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#out_atmblk_I_inj_hold"><span class="id" title="lemma">out_atmblk_I_inj_hold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">b_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">ctid</span> <span class="id" title="var">tid2</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">I_INV</span>: <span class="id" title="var">I</span> <span class="id" title="var">lo</span> <span class="id" title="var">inj</span> (<a class="idref" href="CompOptCert.LocalSim.html#Build_Rss"><span class="id" title="constructor">Build_Rss</span></a> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span> <span class="id" title="var">sc_src</span> <span class="id" title="var">mem_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="var">lo</span> <span class="id" title="var">mem_tgt</span> <span class="id" title="var">mem_src</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">INV_OUT_ATM</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">I_INV</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">I_INV</span> &amp; <span class="id" title="var">MEM_AT_EQ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NEW_TH_LOCAL_SIM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">WF_ATM_BIT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">b_src</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <span class="id" title="var">ths_tgt</span> <span class="id" title="var">tid2</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">TID2_WW_RACE</span> | <span class="id" title="var">TID2_NOT_WW_RACE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_rf_preservation_aux_cur_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_race</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ths_src</span> := <span class="id" title="var">ths_src</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">tid2</span>) (<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc_src</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">mem_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#aux_wwrace_to_np_wwrace_from_outAtmBlk"><span class="id" title="lemma">aux_wwrace_to_np_wwrace_from_outAtmBlk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">TID2_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid2</span> := <span class="id" title="var">tid2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TH_TID2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TID2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TH_TID2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TH_TID2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <span class="id" title="var">ths_src</span>) (<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mem_src</span> := <span class="id" title="var">mem_src</span>) (<span class="id" title="var">b_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_SRC</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_SRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid2</span> := <span class="id" title="var">tid2</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src0</span> <span class="id" title="var">lc_src0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_state_to_rely_local_sim_state"><span class="id" title="lemma">local_sim_state_to_rely_local_sim_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPConfig_abort_to_Config_abort"><span class="id" title="lemma">NPConfig_abort_to_Config_abort</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TID2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">st2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src</span> <span class="id" title="var">lc_src</span> (@<a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a> <span class="id" title="var">index</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">OLD_TID</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src</span> <span class="id" title="var">lc_src</span> <span class="id" title="var">e_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_DONE0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NEW_TID_NOT_DONE</span>: <span class="id" title="var">tid2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEW_TID_OK</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEW_TID_OK</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_NPThread_tau_steps"><span class="id" title="lemma">na_steps_dset_to_NPThread_tau_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">b_src</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hprefix_tau_steps</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprefix_tau_steps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprefix_tau_steps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">Hprefix_tau_steps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hprefix_tau_steps</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> <span class="id" title="var">ths_tgt</span>) <span class="id" title="var">tid2</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">TID2_WW_RACE</span> | <span class="id" title="var">TID2_NOT_WW_RACE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_rf_preservation_aux_cur_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_race</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> <span class="id" title="var">ths_src</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">tid2</span>) (<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc_src</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">mem_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#aux_wwrace_to_np_wwrace_from_outAtmBlk"><span class="id" title="lemma">aux_wwrace_to_np_wwrace_from_outAtmBlk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">TID2_WW_RACE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TID2_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := 0) (<span class="id" title="var">lc_tgt1</span> := <span class="id" title="var">lc1</span>) (<span class="id" title="var">lc_src1</span> := <span class="id" title="var">lc_src</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WELL_FORMED_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := 0) (<span class="id" title="var">lc_tgt1</span> := <span class="id" title="var">lc1</span>) (<span class="id" title="var">lc_src1</span> := <span class="id" title="var">lc_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> <span class="id" title="var">ths_src</span>) (<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mem_src</span> := <span class="id" title="var">mem_src</span>) (<span class="id" title="var">b_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_SRC</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_SRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid2</span> := <span class="id" title="var">tid2</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NOT_ORIGIN_TID</span>: <span class="id" title="var">tid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">READY_TGT_THD_ORIGN</span>: <span class="id" title="var">READY_TGT_THD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_THRDS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := 0) (<span class="id" title="var">lc_tgt1</span> := <span class="id" title="var">lc1</span>) (<span class="id" title="var">lc_src1</span> := <span class="id" title="var">lc_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj'</span> := <span class="id" title="var">inj'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NOT_ORIGIN_TID</span>: <span class="id" title="var">tid2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NEW_TID_OK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hprefix_tau_steps</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hprefix_tau_steps'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprefix_tau_steps'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">PREFIX_STEPS</span> &amp; <span class="id" title="var">PREFIX_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PREFIX_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONSISTENT_T</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <span class="id" title="var">e_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hprefix_tau_steps</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">introv</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> <span class="id" title="var">ths_tgt</span>) <span class="id" title="var">tid2</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">TID2_WW_RACE</span> | <span class="id" title="var">TID2_NOT_WW_RACE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_rf_preservation_aux_cur_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_race</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="CompOptCert.Language.html#Language.state"><span class="id" title="projection">Language.state</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">state0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ctid</span> := <span class="id" title="var">tid2</span>) (<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc0</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory0</span>) (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#aux_wwrace_to_np_wwrace_from_outAtmBlk"><span class="id" title="lemma">aux_wwrace_to_np_wwrace_from_outAtmBlk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PREFIX_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PREFIX_STEP</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">TID2_WW_RACE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NEW_TID_OK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_AT_EQ</span>: <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="var">lo</span> <span class="id" title="var">mem_tgt</span> <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#out_atmblk_I_inj_hold"><span class="id" title="lemma">out_atmblk_I_inj_hold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lang</span> <span class="id" title="var">state0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory0</span>) (<span class="id" title="var">b_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_SRC</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PREFIX_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PREFIX_STEP</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_SRC</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">READY_TGT_NOT_DONE</span>: <span class="id" title="var">tid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NEW_TID_OK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_na_steps_prsv"><span class="id" title="lemma">Mem_at_eq_na_steps_prsv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">mem_tgt</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_reflexive"><span class="id" title="lemma">Mem_at_eq_reflexive</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_reflexive"><span class="id" title="lemma">Mem_at_eq_reflexive</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">TID1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#sim_output_steps"><span class="id" title="lemma">sim_output_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_NPThread_out_step_prsv"><span class="id" title="lemma">wf_config_NPThread_out_step_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">T_CONFIG_WF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_CONFIG_WF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_NPThread_out_step_prsv"><span class="id" title="lemma">wf_config_NPThread_out_step_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_OUT</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_CONFIG_WF''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PROM_BOT</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">local</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">local0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">S_OUT</span>. <span class="id" title="var">inv</span> <span class="id" title="var">S_OUT</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">OUT</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PROM_BOT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">PROM_BOT</span> &amp; <span class="id" title="var">PROM_BOT'</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">OUT</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#out_atmblk_I_inj_hold"><span class="id" title="lemma">out_atmblk_I_inj_hold</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lang</span> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_tgt</span> := <span class="id" title="var">sc2</span>) (<span class="id" title="var">mem_tgt</span> := <span class="id" title="var">m2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory</span>) (<span class="id" title="var">b_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">CUR_NOT_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AUX_WW_RACE_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CTID</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CTID</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">st1</span>). <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">lc1</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#out_step_is_all_step"><span class="id" title="lemma">out_step_is_all_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_out_rely_condition"><span class="id" title="lemma">local_sim_out_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_src</span> := 0); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_CONFIG_WF''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hprefix_tau_steps'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprefix_tau_steps'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">PREFIX_STEPS</span> &amp; <span class="id" title="var">PREFIX_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">state1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PREFIX_STEPS</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#out_atmblk_I_inj_hold"><span class="id" title="lemma">out_atmblk_I_inj_hold</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lang</span> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_tgt</span> := <span class="id" title="var">sc2</span>) (<span class="id" title="var">mem_tgt</span> := <span class="id" title="var">m2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory</span>) (<span class="id" title="var">b_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">CUR_NOT_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AUX_WW_RACE_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CTID</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CTID</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#out_step_is_all_step"><span class="id" title="lemma">out_step_is_all_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_out_rely_condition"><span class="id" title="lemma">local_sim_out_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_CONFIG_WF''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">lang0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">lang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_src0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_src0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">lang0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
ww-race preservation proof 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ww_RF_preservation_aux" class="idref" href="#ww_RF_preservation_aux"><span class="id" title="lemma">ww_RF_preservation_aux</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="index:302" class="idref" href="#index:302"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>) (<a id="index_order:303" class="idref" href="#index_order:303"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#index:302"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:302"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="I:304" class="idref" href="#I:304"><span class="id" title="binder">I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Invariant"><span class="id" title="definition">Invariant</span></a>) (<a id="lo:305" class="idref" href="#lo:305"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>) <a id="inj:306" class="idref" href="#inj:306"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ths_tgt:307" class="idref" href="#ths_tgt:307"><span class="id" title="binder">ths_tgt</span></a> <a id="ths_src:308" class="idref" href="#ths_src:308"><span class="id" title="binder">ths_src</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Threads.t"><span class="id" title="definition">Threads.t</span></a>) (<a id="ctid:309" class="idref" href="#ctid:309"><span class="id" title="binder">ctid</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="sc_tgt:310" class="idref" href="#sc_tgt:310"><span class="id" title="binder">sc_tgt</span></a> <a id="sc_src:311" class="idref" href="#sc_src:311"><span class="id" title="binder">sc_src</span></a>: <a class="idref" href="CompOptCert.View.html#TimeMap.t"><span class="id" title="definition">TimeMap.t</span></a>) (<a id="mem_tgt:312" class="idref" href="#mem_tgt:312"><span class="id" title="binder">mem_tgt</span></a> <a id="mem_src:313" class="idref" href="#mem_src:313"><span class="id" title="binder">mem_src</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a>) <a id="npc_tgt:314" class="idref" href="#npc_tgt:314"><span class="id" title="binder">npc_tgt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED_ORDER:315" class="idref" href="#WELL_FOUNDED_ORDER:315"><span class="id" title="binder">WELL_FOUNDED_ORDER</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:303"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FORMED_INV:316" class="idref" href="#WELL_FORMED_INV:316"><span class="id" title="binder">WELL_FORMED_INV</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:304"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T_STEPS:317" class="idref" href="#T_STEPS:317"><span class="id" title="binder">T_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:307"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:309"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:310"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:312"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_tgt:314"><span class="id" title="variable">npc_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WW_RACE:318" class="idref" href="#WW_RACE:318"><span class="id" title="binder">WW_RACE</span></a>: <a class="idref" href="CompOptCert.ww_RF.html#ww_race"><span class="id" title="inductive">ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_tgt:314"><span class="id" title="variable">npc_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READY_THRDS:328" class="idref" href="#READY_THRDS:328"><span class="id" title="binder">READY_THRDS</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="tid:319" class="idref" href="#tid:319"><span class="id" title="binder">tid</span></a> (<a id="READY_TID:320" class="idref" href="#READY_TID:320"><span class="id" title="binder">READY_TID</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:319"><span class="id" title="variable">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:309"><span class="id" title="variable">ctid</span></a>) <a id="lang:321" class="idref" href="#lang:321"><span class="id" title="binder">lang</span></a> <a id="st_tgt:322" class="idref" href="#st_tgt:322"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:323" class="idref" href="#lc_tgt:323"><span class="id" title="binder">lc_tgt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READY_TGT_THD:324" class="idref" href="#READY_TGT_THD:324"><span class="id" title="binder">READY_TGT_THD</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:319"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:307"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:321"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:322"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:323"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="st_src:325" class="idref" href="#st_src:325"><span class="id" title="binder">st_src</span></a> <a id="lc_src:326" class="idref" href="#lc_src:326"><span class="id" title="binder">lc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:319"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:308"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:321"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:325"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:326"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state"><span class="id" title="inductive">rely_local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:302"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:303"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:321"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:304"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:306"><span class="id" title="variable">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:321"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:322"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:323"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:310"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:312"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:321"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:325"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:326"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:311"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:313"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="R_PROM_CONS_T:327" class="idref" href="#R_PROM_CONS_T:327"><span class="id" title="binder">R_PROM_CONS_T</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:323"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_THRD:336" class="idref" href="#CUR_THRD:336"><span class="id" title="binder">CUR_THRD</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:329" class="idref" href="#lang:329"><span class="id" title="binder">lang</span></a> <a id="st_tgt:330" class="idref" href="#st_tgt:330"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:331" class="idref" href="#lc_tgt:331"><span class="id" title="binder">lc_tgt</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_TGT_THRD:332" class="idref" href="#CUR_TGT_THRD:332"><span class="id" title="binder">CUR_TGT_THRD</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:309"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:307"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:329"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:330"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:331"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="st_src:333" class="idref" href="#st_src:333"><span class="id" title="binder">st_src</span></a> <a id="lc_src:334" class="idref" href="#lc_src:334"><span class="id" title="binder">lc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:309"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:308"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:329"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:333"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:334"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:302"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:303"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:329"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:304"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:306"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:329"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:330"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:331"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:310"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:312"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:329"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:333"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:334"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:311"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:313"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="C_PROM_CONS_T:335" class="idref" href="#C_PROM_CONS_T:335"><span class="id" title="binder">C_PROM_CONS_T</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:331"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONSISTENTS:337" class="idref" href="#CONSISTENTS:337"><span class="id" title="binder">CONSISTENTS</span></a>: <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.consistent"><span class="id" title="definition">NPConfiguration.consistent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:307"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:309"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:310"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:312"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:339" class="idref" href="#SAFE:339"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:338" class="idref" href="#npc:338"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:308"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:309"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:311"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:313"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:338"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Configuration.html#Configuration.is_abort"><span class="id" title="definition">Configuration.is_abort</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:338"><span class="id" title="variable">npc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WWRF:341" class="idref" href="#WWRF:341"><span class="id" title="binder">WWRF</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:340" class="idref" href="#npc:340"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:308"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:309"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:311"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:313"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:340"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:340"><span class="id" title="variable">npc</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_TGT:342" class="idref" href="#WF_CONFIG_TGT:342"><span class="id" title="binder">WF_CONFIG_TGT</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:307"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:309"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:310"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:312"><span class="id" title="variable">mem_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_SRC:343" class="idref" href="#WF_CONFIG_SRC:343"><span class="id" title="binder">WF_CONFIG_SRC</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:308"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:309"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:311"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:313"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INV_OUT_ATM:344" class="idref" href="#INV_OUT_ATM:344"><span class="id" title="binder">INV_OUT_ATM</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:312"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:313"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:304"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:306"><span class="id" title="variable">inj</span></a> (<a class="idref" href="CompOptCert.LocalSim.html#Build_Rss"><span class="id" title="constructor">Build_Rss</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:310"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:312"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:311"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:313"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:345" class="idref" href="#MONOTONIC_INJ:345"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:306"><span class="id" title="variable">inj</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc_src:346" class="idref" href="#npc_src:346"><span class="id" title="binder">npc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:308"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:309"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:311"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:313"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_src:346"><span class="id" title="variable">npc_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ww_RF.html#ww_race"><span class="id" title="inductive">ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:305"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_src:346"><span class="id" title="variable">npc_src</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <span class="id" title="var">ths_tgt</span> <span class="id" title="var">ctid</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>))) <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">CUR_WILL_RACE</span> | <span class="id" title="var">CUR_WILL_NOT_RACE</span>].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_rf_preservation_aux_cur_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_race</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_WILL_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#sound_np_aux_wwrace"><span class="id" title="lemma">sound_np_aux_wwrace</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_rf_preservation_aux_cur_not_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_not_race</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CTH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CUR_THRD</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CTH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab215"></a><h2 class="section">Write-Write Race Freedom Preservation</h2>
 It depicts that, if
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">LOCAL_SIM</span></span>: local simulation holds;

</li>
<li> <span class="inlinecode"><span class="id" title="var">SAFE_NP_SRC</span></span>: source program is safe;

</li>
<li> <span class="inlinecode"><span class="id" title="var">WW_RF_NP_SRC</span></span>: source program is write-write race free;

</li>
</ul>
    then the target program is write-write race free. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ww_RF_preservation" class="idref" href="#ww_RF_preservation"><span class="id" title="lemma">ww_RF_preservation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lang:347" class="idref" href="#lang:347"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>) (<a id="index:348" class="idref" href="#index:348"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>) (<a id="index_order:349" class="idref" href="#index_order:349"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#index:348"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:348"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="I:350" class="idref" href="#I:350"><span class="id" title="binder">I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Invariant"><span class="id" title="definition">Invariant</span></a>) (<a id="lo:351" class="idref" href="#lo:351"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="code_t:352" class="idref" href="#code_t:352"><span class="id" title="binder">code_t</span></a> <a id="code_s:353" class="idref" href="#code_s:353"><span class="id" title="binder">code_s</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.syntax"><span class="id" title="projection">Language.syntax</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:347"><span class="id" title="variable">lang</span></a>) (<a id="fs:354" class="idref" href="#fs:354"><span class="id" title="binder">fs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>) (<a id="ctid:355" class="idref" href="#ctid:355"><span class="id" title="binder">ctid</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:356" class="idref" href="#LOCAL_SIM:356"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim"><span class="id" title="record">local_sim</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:348"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:349"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:347"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:350"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:351"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#code_t:352"><span class="id" title="variable">code_t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#code_s:353"><span class="id" title="variable">code_s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE_NP_SRC:357" class="idref" href="#SAFE_NP_SRC:357"><span class="id" title="binder">SAFE_NP_SRC</span></a>: <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.safe"><span class="id" title="inductive">NPConfiguration.safe</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:351"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#fs:354"><span class="id" title="variable">fs</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#code_s:353"><span class="id" title="variable">code_s</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:355"><span class="id" title="variable">ctid</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WW_RF_NP_SRC:358" class="idref" href="#WW_RF_NP_SRC:358"><span class="id" title="binder">WW_RF_NP_SRC</span></a>: <a class="idref" href="CompOptCert.ww_RF.html#ww_rf_np"><span class="id" title="definition">ww_rf_np</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:351"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#fs:354"><span class="id" title="variable">fs</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#code_s:353"><span class="id" title="variable">code_s</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:355"><span class="id" title="variable">ctid</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.ww_RF.html#ww_rf_np"><span class="id" title="definition">ww_rf_np</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:351"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#fs:354"><span class="id" title="variable">fs</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#code_t:352"><span class="id" title="variable">code_t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:355"><span class="id" title="variable">ctid</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ww_RF.html#ww_rf_np"><span class="id" title="definition">ww_rf_np</span></a>. <span class="id" title="var">introv</span> <span class="id" title="var">ww_Race_np_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ww_RF.html#ww_rf_np"><span class="id" title="definition">ww_rf_np</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WW_RF_NP_SRC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WW_RF_NP_SRC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ww_Race_np_tgt</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">NPConfiguration.init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_t</span> <span class="id" title="var">ctid</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H_tgt_init</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">NPLOAD</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">t</span> <span class="id" title="var">to</span> <span class="id" title="var">c_tgt</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">H_src_init</span> : <span class="id" title="var">H_tgt_init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#cons_source_init_from_target_init_program"><span class="id" title="lemma">cons_source_init_from_target_init_program</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_src_init</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">c_src</span> &amp; <span class="id" title="var">H_src_init</span> &amp; <span class="id" title="var">Htgt_2_src</span> &amp; <span class="id" title="var">Hsrc_2_tgt</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c_tgt</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c_src</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">threads</span> <span class="id" title="var">to</span> <span class="id" title="var">ths_tgt</span>, <span class="id" title="var">sc</span> <span class="id" title="var">to</span> <span class="id" title="var">sc_tgt</span>, <span class="id" title="var">memory</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">threads0</span> <span class="id" title="var">to</span> <span class="id" title="var">ths_src</span>, <span class="id" title="var">sc0</span> <span class="id" title="var">to</span> <span class="id" title="var">sc_src</span>, <span class="id" title="var">memory0</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hctid</span>: <span class="id" title="var">tid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">tid0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H_tgt_init</span> <span class="id" title="var">H_src_init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Configuration.init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Threads.init"><span class="id" title="definition">Threads.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_t</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H_tgt_init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Threads.init"><span class="id" title="definition">Threads.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_s</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hctid</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#config_init_ths_sc_mem"><span class="id" title="lemma">config_init_ths_sc_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_tgt_init</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_tgt_init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_tgt_init</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hths_tgt_init</span> &amp; <span class="id" title="var">Hsc_tgt_init</span> &amp; <span class="id" title="var">Hmem_tgt_init</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#config_init_ths_sc_mem"><span class="id" title="lemma">config_init_ths_sc_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_src_init</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_src_init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_src_init</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hths_src_init</span> &amp; <span class="id" title="var">Hsc_src_init</span> &amp; <span class="id" title="var">Hmem_src_init</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NP_CONFIG_INIT</span>: <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.init"><span class="id" title="definition">NPConfiguration.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_s</span> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <span class="id" title="var">ths_src</span> <span class="id" title="var">ctid</span> <a class="idref" href="CompOptCert.View.html#TimeMap.bot"><span class="id" title="definition">TimeMap.bot</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.init"><span class="id" title="definition">Memory.init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hths_src_init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.init"><span class="id" title="definition">NPConfiguration.init</span></a>, <a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hths_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_RF_preservation_aux"><span class="id" title="lemma">ww_RF_preservation_aux</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ths_src</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.View.html#TimeMap.bot"><span class="id" title="definition">TimeMap.bot</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <a class="idref" href="CompOptCert.Memory.html#Memory.init"><span class="id" title="definition">Memory.init</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hready_tid</span> <span class="id" title="var">Hready_th</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lang0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">lang</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hths_tgt_init</span> <span class="id" title="var">Hready_th</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#thread_init_same_lang"><span class="id" title="lemma">thread_init_same_lang</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hths_tgt_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Htgt_2_src</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hready_th</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hready_th</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st_src</span> &amp; <span class="id" title="var">lc_src</span> &amp; <span class="id" title="var">Hlc_tgt_init</span> &amp; <span class="id" title="var">Hlc_src_init</span> &amp; <span class="id" title="var">Hsrc_ready_th</span> &amp; <span class="id" title="var">Hlocal_sim_state</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsrc_ready_th</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_state_to_rely_local_sim_state"><span class="id" title="lemma">local_sim_state_to_rely_local_sim_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE_NP_SRC</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">SAFE_NP_SRC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SAFE_EXEC</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_CONFIG_INIT</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">NP_CONFIG_INIT</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>, <a class="idref" href="CompOptCert.Local.html#Local.init"><span class="id" title="definition">Local.init</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>, <a class="idref" href="CompOptCert.Local.html#Local.init"><span class="id" title="definition">Local.init</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hcur_th</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lang0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">lang</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hths_tgt_init</span> <span class="id" title="var">Hcur_th</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#thread_init_same_lang"><span class="id" title="lemma">thread_init_same_lang</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hths_tgt_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Htgt_2_src</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_th</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcur_th</span> <span class="id" title="keyword">as</span>(<span class="id" title="var">st_src</span> &amp; <span class="id" title="var">lc_src</span> &amp; <span class="id" title="var">Hlc_tgt_init</span> &amp; <span class="id" title="var">Hlc_src_init</span> &amp; <span class="id" title="var">Hsrc_cur_th</span> &amp; <span class="id" title="var">Hlocal_sim_state</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>, <a class="idref" href="CompOptCert.Local.html#Local.init"><span class="id" title="definition">Local.init</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.consistent"><span class="id" title="definition">NPConfiguration.consistent</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Configuration.html#Threads.consistent_nprm"><span class="id" title="definition">Threads.consistent_nprm</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lang0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">lang</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hths_tgt_init</span> <span class="id" title="var">TH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#thread_init_same_lang"><span class="id" title="lemma">thread_init_same_lang</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hths_tgt_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#thread_init_lc_init"><span class="id" title="lemma">thread_init_lc_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">fs</span> := <span class="id" title="var">fs</span>) (<span class="id" title="var">code</span> := <span class="id" title="var">code_t</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">TH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#sound_np_abort"><span class="id" title="lemma">sound_np_abort</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE_NP_SRC</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">SAFE_NP_SRC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SAFE_EXEC</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_CONFIG_INIT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hnp_abort</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnp_abort</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">Hrtc_steps</span> &amp; <span class="id" title="var">Habort</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#sound_np_aux_wwrf"><span class="id" title="lemma">sound_np_aux_wwrf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_init"><span class="id" title="lemma">wf_config_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">fs</span> := <span class="id" title="var">fs</span>) (<span class="id" title="var">code</span> := <span class="id" title="var">code_s</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">NPConfiguration.init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_s</span> <span class="id" title="var">ctid</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">NP_CONFIG_INIT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WW_RF_NP_SRC</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">ww_rf_np</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Haux_ww_race</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">WW_RF_NP_SRC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Haux_ww_race</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">Hrtc</span> &amp; <span class="id" title="var">Haux_ww_race</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hrtc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_init"><span class="id" title="lemma">wf_config_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">fs</span> := <span class="id" title="var">fs</span>) (<span class="id" title="var">code</span> := <span class="id" title="var">code_t</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hths_tgt_init</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_init"><span class="id" title="lemma">wf_config_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">fs</span> := <span class="id" title="var">fs</span>) (<span class="id" title="var">code</span> := <span class="id" title="var">code_s</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hths_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_init"><span class="id" title="lemma">Mem_at_eq_init</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a>. <span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MsgMapping.html#inj_init"><span class="id" title="definition">inj_init</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">INJ1</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">INJ2</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>