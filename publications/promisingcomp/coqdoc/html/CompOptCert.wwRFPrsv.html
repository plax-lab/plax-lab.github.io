<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.wwRFPrsv</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.wwRFPrsv</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.sflib.html#"><span class="id" title="library">sflib</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Axioms.html#"><span class="id" title="library">Axioms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Basic.html#"><span class="id" title="library">Basic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DataStructure.html#"><span class="id" title="library">DataStructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Loc.html#"><span class="id" title="library">Loc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Coqlib.html#"><span class="id" title="library">Coqlib</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Language.html#"><span class="id" title="library">Language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Time.html#"><span class="id" title="library">Time</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Event.html#"><span class="id" title="library">Event</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.View.html#"><span class="id" title="library">View</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Cell.html#"><span class="id" title="library">Cell</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Memory.html#"><span class="id" title="library">Memory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.TView.html#"><span class="id" title="library">TView</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Local.html#"><span class="id" title="library">Local</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Thread.html#"><span class="id" title="library">Thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPThread.html#"><span class="id" title="library">NPThread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Configuration.html#"><span class="id" title="library">Configuration</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MsgMapping.html#"><span class="id" title="library">MsgMapping</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DelaySet.html#"><span class="id" title="library">DelaySet</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPConfiguration.html#"><span class="id" title="library">NPConfiguration</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ww_RF.html#"><span class="id" title="library">ww_RF</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.LibTactics.html#"><span class="id" title="library">LibTactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.WFConfig.html#"><span class="id" title="library">WFConfig</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#"><span class="id" title="library">PromiseConsistent</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.CompAuxDef.html#"><span class="id" title="library">CompAuxDef</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.LocalSim.html#"><span class="id" title="library">LocalSim</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#"><span class="id" title="library">ConfigInitLemmas</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#"><span class="id" title="library">Mem_at_eq_lemmas</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Reordering.html#"><span class="id" title="library">Reordering</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#"><span class="id" title="library">np_to_ps_thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#"><span class="id" title="library">ps_to_np_thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConsistentProp.html#"><span class="id" title="library">ConsistentProp</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#"><span class="id" title="library">CompThreadSteps</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConsistentStableEnv.html#"><span class="id" title="library">ConsistentStableEnv</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#"><span class="id" title="library">simPromiseCertified</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab208"></a><h1 class="section">Write-write race freedom preservation proof</h1>

<div class="paragraph"> </div>

 This file contains the proof of the write-write race freedom preservation. 
<div class="paragraph"> </div>

 The theorem <span class="inlinecode"><a class="idref" href="CompOptCert.wwRFPrsv.html#ww_RF_preservation"><span class="id" title="lemma">ww_RF_preservation</span></a></span> in this file shows
    the write-write race freedom preservation of our thread-local simulation.
    It says that,
    if each target thread has thread-local simulation with
    its corresponding source thread
    and the source program is safe and write-write race free,
    then the whole target program is write-write race free.

<div class="paragraph"> </div>

    The theorem <span class="inlinecode"><a class="idref" href="CompOptCert.wwRFPrsv.html#ww_RF_preservation"><span class="id" title="lemma">ww_RF_preservation</span></a></span> is a part of proof in Lemma 6.2 in our paper and
    also shown as a part of proof of the step 3 in Figure 3 (Our proof path) in our paper.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="na_write_on_atomic_loc_is_abort" class="idref" href="#na_write_on_atomic_loc_is_abort"><span class="id" title="lemma">na_write_on_atomic_loc_is_abort</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:1" class="idref" href="#lang:1"><span class="id" title="binder">lang</span></a> <a id="st:2" class="idref" href="#st:2"><span class="id" title="binder">st</span></a> <a id="lc:3" class="idref" href="#lc:3"><span class="id" title="binder">lc</span></a> <a id="sc:4" class="idref" href="#sc:4"><span class="id" title="binder">sc</span></a> <a id="mem:5" class="idref" href="#mem:5"><span class="id" title="binder">mem</span></a> <a id="lo:6" class="idref" href="#lo:6"><span class="id" title="binder">lo</span></a> <a id="st':7" class="idref" href="#st':7"><span class="id" title="binder">st'</span></a> <a id="val:8" class="idref" href="#val:8"><span class="id" title="binder">val</span></a> <a id="loc:9" class="idref" href="#loc:9"><span class="id" title="binder">loc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_WRITE:10" class="idref" href="#NA_WRITE:10"><span class="id" title="binder">NA_WRITE</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:1"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:9"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:8"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#st:2"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st':7"><span class="id" title="variable">st'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="AT_LOC:11" class="idref" href="#AT_LOC:11"><span class="id" title="binder">AT_LOC</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:6"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:9"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.atomic"><span class="id" title="constructor">Ordering.atomic</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROM_CONS:12" class="idref" href="#PROM_CONS:12"><span class="id" title="binder">PROM_CONS</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:3"><span class="id" title="variable">lc</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:1"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st:2"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:3"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc:4"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:5"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:6"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">AT_LOC</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pf_promise_step_tview_unchange" class="idref" href="#pf_promise_step_tview_unchange"><span class="id" title="lemma">pf_promise_step_tview_unchange</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:13" class="idref" href="#lang:13"><span class="id" title="binder">lang</span></a> (<a id="e:14" class="idref" href="#e:14"><span class="id" title="binder">e</span></a> <a id="e':15" class="idref" href="#e':15"><span class="id" title="binder">e'</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:13"><span class="id" title="variable">lang</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PF:16" class="idref" href="#PF:16"><span class="id" title="binder">PF</span></a>: @<a class="idref" href="CompOptCert.Thread.html#Thread.pf_promise_step"><span class="id" title="inductive">Thread.pf_promise_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:13"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e:14"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e':15"><span class="id" title="variable">e'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e:14"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e':15"><span class="id" title="variable">e'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PF_STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pf_promise_steps_tview_unchange" class="idref" href="#pf_promise_steps_tview_unchange"><span class="id" title="lemma">pf_promise_steps_tview_unchange</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:17" class="idref" href="#lang:17"><span class="id" title="binder">lang</span></a> (<a id="e:18" class="idref" href="#e:18"><span class="id" title="binder">e</span></a> <a id="e':19" class="idref" href="#e':19"><span class="id" title="binder">e'</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:17"><span class="id" title="variable">lang</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PF:20" class="idref" href="#PF:20"><span class="id" title="binder">PF</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.pf_promise_step"><span class="id" title="inductive">Thread.pf_promise_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:17"><span class="id" title="variable">lang</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e:18"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e':19"><span class="id" title="variable">e'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e:18"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e':19"><span class="id" title="variable">e'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">PF</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#pf_promise_step_tview_unchange"><span class="id" title="lemma">pf_promise_step_tview_unchange</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHPF</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_abort_implies_thread_safe" class="idref" href="#not_abort_implies_thread_safe"><span class="id" title="lemma">not_abort_implies_thread_safe</span></a><br/>
&nbsp;&nbsp;<a id="ths:21" class="idref" href="#ths:21"><span class="id" title="binder">ths</span></a> <a id="ctid:22" class="idref" href="#ctid:22"><span class="id" title="binder">ctid</span></a> <a id="sc:23" class="idref" href="#sc:23"><span class="id" title="binder">sc</span></a> <a id="mem:24" class="idref" href="#mem:24"><span class="id" title="binder">mem</span></a> <a id="lang:25" class="idref" href="#lang:25"><span class="id" title="binder">lang</span></a> <a id="st:26" class="idref" href="#st:26"><span class="id" title="binder">st</span></a> <a id="lc:27" class="idref" href="#lc:27"><span class="id" title="binder">lc</span></a> <a id="lo:28" class="idref" href="#lo:28"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;(<a id="SAFE:30" class="idref" href="#SAFE:30"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:29" class="idref" href="#npc:29"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:28"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths:21"><span class="id" title="variable">ths</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:22"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc:23"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:24"><span class="id" title="variable">mem</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:29"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Configuration.html#Configuration.is_abort"><span class="id" title="definition">Configuration.is_abort</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:29"><span class="id" title="variable">npc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:28"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="TH:31" class="idref" href="#TH:31"><span class="id" title="binder">TH</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:22"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths:21"><span class="id" title="variable">ths</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:25"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st:26"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:27"><span class="id" title="variable">lc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>):<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e:32" class="idref" href="#e:32"><span class="id" title="binder">e</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:25"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:28"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:25"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st:26"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:27"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc:23"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:24"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e:32"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e:32"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:28"><span class="id" title="variable">lo</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_all_steps_to_out_trans"><span class="id" title="lemma">Thread_all_steps_to_out_trans</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#multi_out_trans_to_np_configuration_steps"><span class="id" title="lemma">multi_out_trans_to_np_configuration_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Memory_promise_not_prm_msg_prsv" class="idref" href="#Memory_promise_not_prm_msg_prsv"><span class="id" title="lemma">Memory_promise_not_prm_msg_prsv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="prom:33" class="idref" href="#prom:33"><span class="id" title="binder">prom</span></a> <a id="mem:34" class="idref" href="#mem:34"><span class="id" title="binder">mem</span></a> <a id="loc:35" class="idref" href="#loc:35"><span class="id" title="binder">loc</span></a> <a id="from:36" class="idref" href="#from:36"><span class="id" title="binder">from</span></a> <a id="to:37" class="idref" href="#to:37"><span class="id" title="binder">to</span></a> <a id="msg:38" class="idref" href="#msg:38"><span class="id" title="binder">msg</span></a> <a id="prom':39" class="idref" href="#prom':39"><span class="id" title="binder">prom'</span></a> <a id="mem':40" class="idref" href="#mem':40"><span class="id" title="binder">mem'</span></a> <a id="kind:41" class="idref" href="#kind:41"><span class="id" title="binder">kind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc0:42" class="idref" href="#loc0:42"><span class="id" title="binder">loc0</span></a> <a id="to0:43" class="idref" href="#to0:43"><span class="id" title="binder">to0</span></a> <a id="from0:44" class="idref" href="#from0:44"><span class="id" title="binder">from0</span></a> <a id="val0:45" class="idref" href="#val0:45"><span class="id" title="binder">val0</span></a> <a id="released0:46" class="idref" href="#released0:46"><span class="id" title="binder">released0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:47" class="idref" href="#PROMISE:47"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.promise"><span class="id" title="inductive">Memory.promise</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#prom:33"><span class="id" title="variable">prom</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:34"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:35"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#from:36"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:37"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#msg:38"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#prom':39"><span class="id" title="variable">prom'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':40"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#kind:41"><span class="id" title="variable">kind</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_GET:48" class="idref" href="#MEM_GET:48"><span class="id" title="binder">MEM_GET</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc0:42"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to0:43"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':40"><span class="id" title="variable">mem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from0:44"><span class="id" title="variable">from0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:45"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released0:46"><span class="id" title="variable">released0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROM_GET:49" class="idref" href="#PROM_GET:49"><span class="id" title="binder">PROM_GET</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc0:42"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to0:43"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#prom':39"><span class="id" title="variable">prom'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc0:42"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to0:43"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:34"><span class="id" title="variable">mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from0:44"><span class="id" title="variable">from0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:45"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released0:46"><span class="id" title="variable">released0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc0:42"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to0:43"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#prom:33"><span class="id" title="variable">prom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">PROM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">PROM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">PROM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">PROM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">MEM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">PROM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROM_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">PROM_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Memory_promise_not_prm_msg_stable" class="idref" href="#Memory_promise_not_prm_msg_stable"><span class="id" title="lemma">Memory_promise_not_prm_msg_stable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="prom:50" class="idref" href="#prom:50"><span class="id" title="binder">prom</span></a> <a id="mem:51" class="idref" href="#mem:51"><span class="id" title="binder">mem</span></a> <a id="loc:52" class="idref" href="#loc:52"><span class="id" title="binder">loc</span></a> <a id="from:53" class="idref" href="#from:53"><span class="id" title="binder">from</span></a> <a id="to:54" class="idref" href="#to:54"><span class="id" title="binder">to</span></a> <a id="msg:55" class="idref" href="#msg:55"><span class="id" title="binder">msg</span></a> <a id="prom':56" class="idref" href="#prom':56"><span class="id" title="binder">prom'</span></a> <a id="mem':57" class="idref" href="#mem':57"><span class="id" title="binder">mem'</span></a> <a id="kind:58" class="idref" href="#kind:58"><span class="id" title="binder">kind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc0:59" class="idref" href="#loc0:59"><span class="id" title="binder">loc0</span></a> <a id="to0:60" class="idref" href="#to0:60"><span class="id" title="binder">to0</span></a> <a id="from0:61" class="idref" href="#from0:61"><span class="id" title="binder">from0</span></a> <a id="val0:62" class="idref" href="#val0:62"><span class="id" title="binder">val0</span></a> <a id="released0:63" class="idref" href="#released0:63"><span class="id" title="binder">released0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:64" class="idref" href="#PROMISE:64"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.promise"><span class="id" title="inductive">Memory.promise</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#prom:50"><span class="id" title="variable">prom</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:51"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:52"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#from:53"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:54"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#msg:55"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#prom':56"><span class="id" title="variable">prom'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':57"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#kind:58"><span class="id" title="variable">kind</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_GET:65" class="idref" href="#MEM_GET:65"><span class="id" title="binder">MEM_GET</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc0:59"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to0:60"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:51"><span class="id" title="variable">mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from0:61"><span class="id" title="variable">from0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:62"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released0:63"><span class="id" title="variable">released0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROM_GET:66" class="idref" href="#PROM_GET:66"><span class="id" title="binder">PROM_GET</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc0:59"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to0:60"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#prom:50"><span class="id" title="variable">prom</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc0:59"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to0:60"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':57"><span class="id" title="variable">mem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from0:61"><span class="id" title="variable">from0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:62"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released0:63"><span class="id" title="variable">released0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc0:59"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to0:60"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#prom':56"><span class="id" title="variable">prom'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">MEM_GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">MEM_GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">PROM_GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">MEM_GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">PROM_GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">PROM_GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">PROM_GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">PROM_GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="race_message_in_starting_mem'" class="idref" href="#race_message_in_starting_mem'"><span class="id" title="lemma">race_message_in_starting_mem'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:67" class="idref" href="#n:67"><span class="id" title="binder">n</span></a> <a id="lang:68" class="idref" href="#lang:68"><span class="id" title="binder">lang</span></a> <a id="st:69" class="idref" href="#st:69"><span class="id" title="binder">st</span></a> <a id="lc:70" class="idref" href="#lc:70"><span class="id" title="binder">lc</span></a> <a id="sc:71" class="idref" href="#sc:71"><span class="id" title="binder">sc</span></a> <a id="mem:72" class="idref" href="#mem:72"><span class="id" title="binder">mem</span></a> <a id="st':73" class="idref" href="#st':73"><span class="id" title="binder">st'</span></a> <a id="lc':74" class="idref" href="#lc':74"><span class="id" title="binder">lc'</span></a> <a id="sc':75" class="idref" href="#sc':75"><span class="id" title="binder">sc'</span></a> <a id="mem':76" class="idref" href="#mem':76"><span class="id" title="binder">mem'</span></a> <a id="lo:77" class="idref" href="#lo:77"><span class="id" title="binder">lo</span></a> <a id="loc:78" class="idref" href="#loc:78"><span class="id" title="binder">loc</span></a> <a id="to:79" class="idref" href="#to:79"><span class="id" title="binder">to</span></a> <a id="from:80" class="idref" href="#from:80"><span class="id" title="binder">from</span></a> <a id="val:81" class="idref" href="#val:81"><span class="id" title="binder">val</span></a> <a id="released:82" class="idref" href="#released:82"><span class="id" title="binder">released</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEPS:83" class="idref" href="#STEPS:83"><span class="id" title="binder">STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:68"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:77"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#n:67"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:68"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st:69"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:70"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc:71"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:72"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:68"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st':73"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc':74"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc':75"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':76"><span class="id" title="variable">mem'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MSG:84" class="idref" href="#MSG:84"><span class="id" title="binder">MSG</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:78"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:79"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':76"><span class="id" title="variable">mem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from:80"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:81"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released:82"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM:85" class="idref" href="#NOT_PROM:85"><span class="id" title="binder">NOT_PROM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:78"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:79"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc':74"><span class="id" title="variable">lc'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE:86" class="idref" href="#RACE:86"><span class="id" title="binder">RACE</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc':74"><span class="id" title="variable">lc'</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:78"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to:79"><span class="id" title="variable">to</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:87" class="idref" href="#LOCAL_WF:87"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:70"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:72"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SC_CLOSED:88" class="idref" href="#SC_CLOSED:88"><span class="id" title="binder">SC_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc:71"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:72"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM:89" class="idref" href="#CLOSED_MEM:89"><span class="id" title="binder">CLOSED_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:72"><span class="id" title="variable">mem</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:78"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:79"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:72"><span class="id" title="variable">mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from:80"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:81"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released:82"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:78"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:79"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:70"><span class="id" title="variable">lc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:70"><span class="id" title="variable">lc</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:78"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to:79"><span class="id" title="variable">to</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">STEPS</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>. <span class="id" title="var">inv</span> <span class="id" title="var">USTEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_future"><span class="id" title="lemma">Thread.step_future</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#Memory_promise_not_prm_msg_prsv"><span class="id" title="lemma">Memory_promise_not_prm_msg_prsv</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.MsgMapping.html#Loc_add_eq"><span class="id" title="lemma">Loc_add_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A0</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#Memory_promise_not_prm_msg_prsv"><span class="id" title="lemma">Memory_promise_not_prm_msg_prsv</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">MEM_PROM_GET</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">MEM_PROM_GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">READABLE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL2</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITABLE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">tsw</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.MsgMapping.html#Loc_add_eq"><span class="id" title="lemma">Loc_add_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A0</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#Memory_promise_not_prm_msg_prsv"><span class="id" title="lemma">Memory_promise_not_prm_msg_prsv</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">MEM_PROM_GET</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">MEM_PROM_GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Event.html#Ordering.le"><span class="id" title="definition">Ordering.le</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a> <span class="id" title="var">ordw</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">ORDER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.TView.html#TView.write_fence_sc"><span class="id" title="definition">TView.write_fence_sc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.TView.html#TView.read_fence_tview"><span class="id" title="definition">TView.read_fence_tview</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A1</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A1</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>. <span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_WF</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_ACQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.le"><span class="id" title="definition">TimeMap.le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc</span>)) <span class="id" title="var">loc</span>) <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.le"><span class="id" title="definition">TimeMap.le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PLN_RLX</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">PLN_RLX</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A1</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>. <span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_WF</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_ACQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.le"><span class="id" title="definition">TimeMap.le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">ORDER_LE</span>: <a class="idref" href="CompOptCert.Event.html#Ordering.le"><span class="id" title="definition">Ordering.le</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ORDER_LE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.TView.html#TView.write_fence_sc"><span class="id" title="definition">TView.write_fence_sc</span></a>, <a class="idref" href="CompOptCert.TView.html#TView.read_fence_tview"><span class="id" title="definition">TView.read_fence_tview</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time_lt_join"><span class="id" title="lemma">Time_lt_join</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A1</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A2</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>. <span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_WF</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_ACQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.le"><span class="id" title="definition">TimeMap.le</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.acq"><span class="id" title="projection">TView.acq</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc</span>)) <span class="id" title="var">loc</span>) <span class="id" title="var">to</span>). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="race_message_in_starting_mem" class="idref" href="#race_message_in_starting_mem"><span class="id" title="lemma">race_message_in_starting_mem</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:90" class="idref" href="#lang:90"><span class="id" title="binder">lang</span></a> <a id="st:91" class="idref" href="#st:91"><span class="id" title="binder">st</span></a> <a id="lc:92" class="idref" href="#lc:92"><span class="id" title="binder">lc</span></a> <a id="sc:93" class="idref" href="#sc:93"><span class="id" title="binder">sc</span></a> <a id="mem:94" class="idref" href="#mem:94"><span class="id" title="binder">mem</span></a> <a id="st':95" class="idref" href="#st':95"><span class="id" title="binder">st'</span></a> <a id="lc':96" class="idref" href="#lc':96"><span class="id" title="binder">lc'</span></a> <a id="sc':97" class="idref" href="#sc':97"><span class="id" title="binder">sc'</span></a> <a id="mem':98" class="idref" href="#mem':98"><span class="id" title="binder">mem'</span></a> <a id="lo:99" class="idref" href="#lo:99"><span class="id" title="binder">lo</span></a> <a id="loc:100" class="idref" href="#loc:100"><span class="id" title="binder">loc</span></a> <a id="to:101" class="idref" href="#to:101"><span class="id" title="binder">to</span></a> <a id="from:102" class="idref" href="#from:102"><span class="id" title="binder">from</span></a> <a id="val:103" class="idref" href="#val:103"><span class="id" title="binder">val</span></a> <a id="released:104" class="idref" href="#released:104"><span class="id" title="binder">released</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEPS:105" class="idref" href="#STEPS:105"><span class="id" title="binder">STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:90"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:99"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:90"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st:91"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:92"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc:93"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:94"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:90"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st':95"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc':96"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc':97"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':98"><span class="id" title="variable">mem'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MSG:106" class="idref" href="#MSG:106"><span class="id" title="binder">MSG</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:100"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:101"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':98"><span class="id" title="variable">mem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from:102"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:103"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released:104"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM:107" class="idref" href="#NOT_PROM:107"><span class="id" title="binder">NOT_PROM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:100"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:101"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc':96"><span class="id" title="variable">lc'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE:108" class="idref" href="#RACE:108"><span class="id" title="binder">RACE</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc':96"><span class="id" title="variable">lc'</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:100"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to:101"><span class="id" title="variable">to</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:109" class="idref" href="#LOCAL_WF:109"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:92"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:94"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SC_CLOSED:110" class="idref" href="#SC_CLOSED:110"><span class="id" title="binder">SC_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc:93"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:94"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM:111" class="idref" href="#CLOSED_MEM:111"><span class="id" title="binder">CLOSED_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:94"><span class="id" title="variable">mem</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:100"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:101"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:94"><span class="id" title="variable">mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from:102"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:103"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released:104"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:100"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:101"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:92"><span class="id" title="variable">lc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_in_starting_mem'"><span class="id" title="lemma">race_message_in_starting_mem'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="race_message_stable'" class="idref" href="#race_message_stable'"><span class="id" title="lemma">race_message_stable'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:112" class="idref" href="#n:112"><span class="id" title="binder">n</span></a> <a id="lang:113" class="idref" href="#lang:113"><span class="id" title="binder">lang</span></a> <a id="st:114" class="idref" href="#st:114"><span class="id" title="binder">st</span></a> <a id="lc:115" class="idref" href="#lc:115"><span class="id" title="binder">lc</span></a> <a id="sc:116" class="idref" href="#sc:116"><span class="id" title="binder">sc</span></a> <a id="mem:117" class="idref" href="#mem:117"><span class="id" title="binder">mem</span></a> <a id="st':118" class="idref" href="#st':118"><span class="id" title="binder">st'</span></a> <a id="lc':119" class="idref" href="#lc':119"><span class="id" title="binder">lc'</span></a> <a id="sc':120" class="idref" href="#sc':120"><span class="id" title="binder">sc'</span></a> <a id="mem':121" class="idref" href="#mem':121"><span class="id" title="binder">mem'</span></a> <a id="lo:122" class="idref" href="#lo:122"><span class="id" title="binder">lo</span></a> <a id="loc:123" class="idref" href="#loc:123"><span class="id" title="binder">loc</span></a> <a id="from:124" class="idref" href="#from:124"><span class="id" title="binder">from</span></a> <a id="to:125" class="idref" href="#to:125"><span class="id" title="binder">to</span></a> <a id="val:126" class="idref" href="#val:126"><span class="id" title="binder">val</span></a> <a id="released:127" class="idref" href="#released:127"><span class="id" title="binder">released</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEPS:128" class="idref" href="#STEPS:128"><span class="id" title="binder">STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:113"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:122"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#n:112"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:113"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st:114"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:115"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc:116"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:117"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:113"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st':118"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc':119"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc':120"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':121"><span class="id" title="variable">mem'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MSG:129" class="idref" href="#MSG:129"><span class="id" title="binder">MSG</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:125"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:117"><span class="id" title="variable">mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from:124"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:126"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released:127"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM:130" class="idref" href="#NOT_PROM:130"><span class="id" title="binder">NOT_PROM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:125"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:115"><span class="id" title="variable">lc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:125"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':121"><span class="id" title="variable">mem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from:124"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:126"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released:127"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:123"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:125"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc':119"><span class="id" title="variable">lc'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>. <span class="id" title="var">inv</span> <span class="id" title="var">USTEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#Memory_promise_not_prm_msg_stable"><span class="id" title="lemma">Memory_promise_not_prm_msg_stable</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MSG</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#Memory_promise_not_prm_msg_stable"><span class="id" title="lemma">Memory_promise_not_prm_msg_stable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">PROMISE0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL2</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#Memory_promise_not_prm_msg_stable"><span class="id" title="lemma">Memory_promise_not_prm_msg_stable</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">loc0</span> := <span class="id" title="var">loc</span>) (<span class="id" title="var">to0</span> := <span class="id" title="var">to</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">tsw</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">PROMISE0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="race_message_stable" class="idref" href="#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a><br/>
&nbsp;&nbsp;<a id="lang:131" class="idref" href="#lang:131"><span class="id" title="binder">lang</span></a> <a id="st:132" class="idref" href="#st:132"><span class="id" title="binder">st</span></a> <a id="lc:133" class="idref" href="#lc:133"><span class="id" title="binder">lc</span></a> <a id="sc:134" class="idref" href="#sc:134"><span class="id" title="binder">sc</span></a> <a id="mem:135" class="idref" href="#mem:135"><span class="id" title="binder">mem</span></a> <a id="st':136" class="idref" href="#st':136"><span class="id" title="binder">st'</span></a> <a id="lc':137" class="idref" href="#lc':137"><span class="id" title="binder">lc'</span></a> <a id="sc':138" class="idref" href="#sc':138"><span class="id" title="binder">sc'</span></a> <a id="mem':139" class="idref" href="#mem':139"><span class="id" title="binder">mem'</span></a> <a id="lo:140" class="idref" href="#lo:140"><span class="id" title="binder">lo</span></a> <a id="loc:141" class="idref" href="#loc:141"><span class="id" title="binder">loc</span></a> <a id="from:142" class="idref" href="#from:142"><span class="id" title="binder">from</span></a> <a id="to:143" class="idref" href="#to:143"><span class="id" title="binder">to</span></a> <a id="val:144" class="idref" href="#val:144"><span class="id" title="binder">val</span></a> <a id="released:145" class="idref" href="#released:145"><span class="id" title="binder">released</span></a><br/>
&nbsp;&nbsp;(<a id="STEPS:146" class="idref" href="#STEPS:146"><span class="id" title="binder">STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:131"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:140"><span class="id" title="variable">lo</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:131"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st:132"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:133"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc:134"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:135"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:131"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st':136"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc':137"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc':138"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':139"><span class="id" title="variable">mem'</span></a>))<br/>
&nbsp;&nbsp;(<a id="MSG:147" class="idref" href="#MSG:147"><span class="id" title="binder">MSG</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:141"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:143"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem:135"><span class="id" title="variable">mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from:142"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:144"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released:145"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;(<a id="NOT_PROM:148" class="idref" href="#NOT_PROM:148"><span class="id" title="binder">NOT_PROM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:141"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:143"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc:133"><span class="id" title="variable">lc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:141"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:143"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem':139"><span class="id" title="variable">mem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from:142"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:144"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#released:145"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:141"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:143"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc':137"><span class="id" title="variable">lc'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable'"><span class="id" title="lemma">race_message_stable'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="na_steps_dset_race_or_not'" class="idref" href="#na_steps_dset_race_or_not'"><span class="id" title="lemma">na_steps_dset_race_or_not'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:149" class="idref" href="#n:149"><span class="id" title="binder">n</span></a> <a id="lo:150" class="idref" href="#lo:150"><span class="id" title="binder">lo</span></a> <a id="lang:151" class="idref" href="#lang:151"><span class="id" title="binder">lang</span></a> (<a id="e:152" class="idref" href="#e:152"><span class="id" title="binder">e</span></a> <a id="e':153" class="idref" href="#e':153"><span class="id" title="binder">e'</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:151"><span class="id" title="variable">lang</span></a>) <a id="loc:154" class="idref" href="#loc:154"><span class="id" title="binder">loc</span></a> <a id="from:155" class="idref" href="#from:155"><span class="id" title="binder">from</span></a> <a id="to:156" class="idref" href="#to:156"><span class="id" title="binder">to</span></a> <a id="val:157" class="idref" href="#val:157"><span class="id" title="binder">val</span></a> <a id="R:158" class="idref" href="#R:158"><span class="id" title="binder">R</span></a> <a id="index:159" class="idref" href="#index:159"><span class="id" title="binder">index</span></a> (<a id="dset:160" class="idref" href="#dset:160"><span class="id" title="binder">dset</span></a> <a id="dset':161" class="idref" href="#dset':161"><span class="id" title="binder">dset'</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:159"><span class="id" title="variable">index</span></a>) <a id="i:162" class="idref" href="#i:162"><span class="id" title="binder">i</span></a> <a id="t:163" class="idref" href="#t:163"><span class="id" title="binder">t</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_STEPS_DSET:164" class="idref" href="#NA_STEPS_DSET:164"><span class="id" title="binder">NA_STEPS_DSET</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.DelaySet.html#na_step_dset"><span class="id" title="inductive">na_step_dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:150"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#n:149"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#e:152"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:160"><span class="id" title="variable">dset</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#e':153"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset':161"><span class="id" title="variable">dset'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_MSG:165" class="idref" href="#RACE_MSG:165"><span class="id" title="binder">RACE_MSG</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:154"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:156"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e:152"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from:155"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:157"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R:158"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM:166" class="idref" href="#NOT_PROM:166"><span class="id" title="binder">NOT_PROM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:154"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:156"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e:152"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LT:167" class="idref" href="#LT:167"><span class="id" title="binder">LT</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e:152"><span class="id" title="variable">e</span></a>))) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:154"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to:156"><span class="id" title="variable">to</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IN_DSET:168" class="idref" href="#IN_DSET:168"><span class="id" title="binder">IN_DSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:154"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t:163"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:160"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:162"><span class="id" title="variable">i</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="RACE:169" class="idref" href="#RACE:169"><span class="id" title="binder">RACE</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.LibTactics.html#50861c54b1507014ad26dbebc2b84f1d"><span class="id" title="notation">∃</span></a> <a id="e0:170" class="idref" href="#e0:170"><span class="id" title="binder">e0</span></a> <a id="e1:171" class="idref" href="#e1:171"><span class="id" title="binder">e1</span></a> <a id="f':172" class="idref" href="#f':172"><span class="id" title="binder">f'</span></a> <a id="t':173" class="idref" href="#t':173"><span class="id" title="binder">t'</span></a> <a id="v:174" class="idref" href="#v:174"><span class="id" title="binder">v</span></a><a class="idref" href="CompOptCert.LibTactics.html#50861c54b1507014ad26dbebc2b84f1d"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:150"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e:152"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e0:170"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> (<a class="idref" href="CompOptCert.Local.html#ThreadEvent.write"><span class="id" title="constructor">ThreadEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:154"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#f':172"><span class="id" title="variable">f'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t':173"><span class="id" title="variable">t'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#v:174"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:150"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e0:170"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e1:171"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e0:170"><span class="id" title="variable">e0</span></a>))) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:154"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to:156"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:150"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e1:171"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e':153"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="NOT_RACE:175" class="idref" href="#NOT_RACE:175"><span class="id" title="binder">NOT_RACE</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e':153"><span class="id" title="variable">e'</span></a>))) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:154"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to:156"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:154"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t:163"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset':161"><span class="id" title="variable">dset'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:162"><span class="id" title="variable">i</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">NA_STEPS_DSET</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">NA_STEPS_DSET</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">t0</span> <span class="id" title="var">to</span> <span class="id" title="var">e0</span>, <span class="id" title="var">d</span> <span class="id" title="var">to</span> <span class="id" title="var">dset0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">f'</span> <span class="id" title="var">t'</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_tau_step_intro"><span class="id" title="constructor">Thread.na_tau_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span> <span class="id" title="var">f'</span> <span class="id" title="var">t'</span> <span class="id" title="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_read_step_intro"><span class="id" title="constructor">Thread.na_plain_read_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <span class="id" title="var">RLX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">loc0</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span> <span class="id" title="var">e0</span> <span class="id" title="var">from0</span> <span class="id" title="var">to0</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">R0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">R0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps'"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">DSET0</span>: <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t</span> <span class="id" title="var">dset0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">DSET_REMOVE</span> <span class="id" title="var">IN_DSET</span> <span class="id" title="var">n0</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_remove"><span class="id" title="definition">dset_remove</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>. <span class="id" title="var">des_if</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">DSET_REMOVE</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>, <span class="id" title="var">e0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">loc</span> := <span class="id" title="var">loc</span>) (<span class="id" title="var">to</span> := <span class="id" title="var">to</span>) (<span class="id" title="var">i</span> := <span class="id" title="var">i</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span> <span class="id" title="var">e1</span> <span class="id" title="var">f'</span> <span class="id" title="var">t'</span> <span class="id" title="var">v0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_write_step_intro"><span class="id" title="constructor">Thread.na_plain_write_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.join"><span class="id" title="definition">TimeMap.join</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.singleton"><span class="id" title="definition">TimeMap.singleton</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.MsgMapping.html#Loc_add_neq"><span class="id" title="lemma">Loc_add_neq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.init"><span class="id" title="definition">LocFun.init</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Time.html#Time_join_bot"><span class="id" title="lemma">Time_join_bot</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="na_steps_dset_race_or_not" class="idref" href="#na_steps_dset_race_or_not"><span class="id" title="lemma">na_steps_dset_race_or_not</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lo:176" class="idref" href="#lo:176"><span class="id" title="binder">lo</span></a> <a id="lang:177" class="idref" href="#lang:177"><span class="id" title="binder">lang</span></a> (<a id="e:178" class="idref" href="#e:178"><span class="id" title="binder">e</span></a> <a id="e':179" class="idref" href="#e':179"><span class="id" title="binder">e'</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:177"><span class="id" title="variable">lang</span></a>) <a id="loc:180" class="idref" href="#loc:180"><span class="id" title="binder">loc</span></a> <a id="from:181" class="idref" href="#from:181"><span class="id" title="binder">from</span></a> <a id="to:182" class="idref" href="#to:182"><span class="id" title="binder">to</span></a> <a id="val:183" class="idref" href="#val:183"><span class="id" title="binder">val</span></a> <a id="R:184" class="idref" href="#R:184"><span class="id" title="binder">R</span></a> <a id="index:185" class="idref" href="#index:185"><span class="id" title="binder">index</span></a> (<a id="dset:186" class="idref" href="#dset:186"><span class="id" title="binder">dset</span></a> <a id="dset':187" class="idref" href="#dset':187"><span class="id" title="binder">dset'</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:185"><span class="id" title="variable">index</span></a>) <a id="i:188" class="idref" href="#i:188"><span class="id" title="binder">i</span></a> <a id="t:189" class="idref" href="#t:189"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_STEPS_DSET:190" class="idref" href="#NA_STEPS_DSET:190"><span class="id" title="binder">NA_STEPS_DSET</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.DelaySet.html#na_step_dset"><span class="id" title="inductive">na_step_dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:176"><span class="id" title="variable">lo</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#e:178"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:186"><span class="id" title="variable">dset</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#e':179"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset':187"><span class="id" title="variable">dset'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_MSG:191" class="idref" href="#RACE_MSG:191"><span class="id" title="binder">RACE_MSG</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:180"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:182"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e:178"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from:181"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:183"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R:184"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM:192" class="idref" href="#NOT_PROM:192"><span class="id" title="binder">NOT_PROM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:180"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to:182"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e:178"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LT:193" class="idref" href="#LT:193"><span class="id" title="binder">LT</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e:178"><span class="id" title="variable">e</span></a>))) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:180"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to:182"><span class="id" title="variable">to</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IN_DSET:194" class="idref" href="#IN_DSET:194"><span class="id" title="binder">IN_DSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:180"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t:189"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:186"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:188"><span class="id" title="variable">i</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="RACE:195" class="idref" href="#RACE:195"><span class="id" title="binder">RACE</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.LibTactics.html#50861c54b1507014ad26dbebc2b84f1d"><span class="id" title="notation">∃</span></a> <a id="e0:196" class="idref" href="#e0:196"><span class="id" title="binder">e0</span></a> <a id="e1:197" class="idref" href="#e1:197"><span class="id" title="binder">e1</span></a> <a id="f':198" class="idref" href="#f':198"><span class="id" title="binder">f'</span></a> <a id="t':199" class="idref" href="#t':199"><span class="id" title="binder">t'</span></a> <a id="v:200" class="idref" href="#v:200"><span class="id" title="binder">v</span></a><a class="idref" href="CompOptCert.LibTactics.html#50861c54b1507014ad26dbebc2b84f1d"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:176"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e:178"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e0:196"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> (<a class="idref" href="CompOptCert.Local.html#ThreadEvent.write"><span class="id" title="constructor">ThreadEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:180"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#f':198"><span class="id" title="variable">f'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t':199"><span class="id" title="variable">t'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#v:200"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:176"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e0:196"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e1:197"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e0:196"><span class="id" title="variable">e0</span></a>))) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:180"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to:182"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:176"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e1:197"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e':179"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="NOT_RACE:201" class="idref" href="#NOT_RACE:201"><span class="id" title="binder">NOT_RACE</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e':179"><span class="id" title="variable">e'</span></a>))) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:180"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to:182"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:180"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t:189"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset':187"><span class="id" title="variable">dset'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:188"><span class="id" title="variable">i</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_DSET</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#na_steps_dset_race_or_not'"><span class="id" title="lemma">na_steps_dset_race_or_not'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Move above lemmas to another file
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="source_ww_race_construction1" class="idref" href="#source_ww_race_construction1"><span class="id" title="lemma">source_ww_race_construction1</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:202" class="idref" href="#lang:202"><span class="id" title="binder">lang</span></a> <a id="st_tgt:203" class="idref" href="#st_tgt:203"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:204" class="idref" href="#lc_tgt:204"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:205" class="idref" href="#sc_tgt:205"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:206" class="idref" href="#mem_tgt:206"><span class="id" title="binder">mem_tgt</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:207" class="idref" href="#index:207"><span class="id" title="binder">index</span></a> <a id="index_order:208" class="idref" href="#index_order:208"><span class="id" title="binder">index_order</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_src:209" class="idref" href="#st_src:209"><span class="id" title="binder">st_src</span></a> <a id="lc_src:210" class="idref" href="#lc_src:210"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:211" class="idref" href="#sc_src:211"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:212" class="idref" href="#mem_src:212"><span class="id" title="binder">mem_src</span></a> <a id="lo:213" class="idref" href="#lo:213"><span class="id" title="binder">lo</span></a> <a id="loc:214" class="idref" href="#loc:214"><span class="id" title="binder">loc</span></a> <a id="to':215" class="idref" href="#to':215"><span class="id" title="binder">to'</span></a> <a id="b:216" class="idref" href="#b:216"><span class="id" title="binder">b</span></a> <a id="dset:217" class="idref" href="#dset:217"><span class="id" title="binder">dset</span></a> <a id="inj:218" class="idref" href="#inj:218"><span class="id" title="binder">inj</span></a> <a id="I:219" class="idref" href="#I:219"><span class="id" title="binder">I</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="from':220" class="idref" href="#from':220"><span class="id" title="binder">from'</span></a> <a id="val':221" class="idref" href="#val':221"><span class="id" title="binder">val'</span></a> <a id="R':222" class="idref" href="#R':222"><span class="id" title="binder">R'</span></a> <a id="i:223" class="idref" href="#i:223"><span class="id" title="binder">i</span></a> <a id="t:224" class="idref" href="#t:224"><span class="id" title="binder">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T_BOT:225" class="idref" href="#T_BOT:225"><span class="id" title="binder">T_BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:204"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INDSET:226" class="idref" href="#INDSET:226"><span class="id" title="binder">INDSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:214"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t:224"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:217"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:223"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ACC:227" class="idref" href="#ACC:227"><span class="id" title="binder">ACC</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:208"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:223"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:228" class="idref" href="#LOCAL_SIM:228"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:207"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:208"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:202"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:219"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:213"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:218"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:217"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b:216"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:202"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:203"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:204"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:205"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:206"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:202"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:209"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:210"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:211"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:212"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_MSG_S:229" class="idref" href="#RACE_MSG_S:229"><span class="id" title="binder">RACE_MSG_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:214"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':215"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:212"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':220"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':221"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':222"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM_S:230" class="idref" href="#NOT_PROM_S:230"><span class="id" title="binder">NOT_PROM_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:214"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':215"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:210"><span class="id" title="variable">lc_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_S:231" class="idref" href="#RACE_S:231"><span class="id" title="binder">RACE_S</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:210"><span class="id" title="variable">lc_src</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:214"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':215"><span class="id" title="variable">to'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:233" class="idref" href="#SAFE:233"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':232" class="idref" href="#e_src':232"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:213"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:202"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:209"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:210"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:211"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:212"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':232"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':232"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:213"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:234" class="idref" href="#LOCAL_WF_T:234"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:204"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:206"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:235" class="idref" href="#MEM_CLOSED:235"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:206"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:236" class="idref" href="#LOCAL_WF_S:236"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:210"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:212"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:237" class="idref" href="#MEM_CLOSED:237"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:212"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:238" class="idref" href="#MONOTONIC_INJ:238"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:218"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED:239" class="idref" href="#WELL_FOUNDED:239"><span class="id" title="binder">WELL_FOUNDED</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:208"><span class="id" title="variable">index_order</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">∃</span></a> <a id="st_src':240" class="idref" href="#st_src':240"><span class="id" title="binder">st_src'</span></a> <a id="lc_src':241" class="idref" href="#lc_src':241"><span class="id" title="binder">lc_src'</span></a> <a id="sc_src':242" class="idref" href="#sc_src':242"><span class="id" title="binder">sc_src'</span></a> <a id="mem_src':243" class="idref" href="#mem_src':243"><span class="id" title="binder">mem_src'</span></a> <a id="e_src':244" class="idref" href="#e_src':244"><span class="id" title="binder">e_src'</span></a> <a id="stw_src':245" class="idref" href="#stw_src':245"><span class="id" title="binder">stw_src'</span></a> <a id="val0:246" class="idref" href="#val0:246"><span class="id" title="binder">val0</span></a><a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="PRE_S:247" class="idref" href="#PRE_S:247"><span class="id" title="binder">PRE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:213"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:202"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:209"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:210"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:211"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:212"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:202"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':240"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':241"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':242"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':243"><span class="id" title="variable">mem_src'</span></a>)<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="WRITE_S:248" class="idref" href="#WRITE_S:248"><span class="id" title="binder">WRITE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:202"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:214"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:246"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':240"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#stw_src':245"><span class="id" title="variable">stw_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="RACE_MSG_S':249" class="idref" href="#RACE_MSG_S':249"><span class="id" title="binder">RACE_MSG_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:214"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':215"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':243"><span class="id" title="variable">mem_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':220"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':221"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':222"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="NOT_PROM_S':250" class="idref" href="#NOT_PROM_S':250"><span class="id" title="binder">NOT_PROM_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:214"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':215"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':241"><span class="id" title="variable">lc_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="VIEW_S':251" class="idref" href="#VIEW_S':251"><span class="id" title="binder">VIEW_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':241"><span class="id" title="variable">lc_src'</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:214"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':215"><span class="id" title="variable">to'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="FULFILL_S:252" class="idref" href="#FULFILL_S:252"><span class="id" title="binder">FULFILL_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:213"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:202"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':240"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':241"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':242"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':243"><span class="id" title="variable">mem_src'</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':244"><span class="id" title="variable">e_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="BOT_S:253" class="idref" href="#BOT_S:253"><span class="id" title="binder">BOT_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':244"><span class="id" title="variable">e_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lc_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">sc_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">mem_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lc_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">sc_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">mem_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">dset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">inj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ACC</span>; <span class="id" title="var">ii</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_ABORT_T</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st_tgt</span> <span class="id" title="var">lc_tgt</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>) <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_ABORT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#not_and_or"><span class="id" title="lemma">not_and_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NOT_ABORT_T</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">NOT_ABORT_T</span> | <span class="id" title="var">NOT_ABORT_T</span>].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">T_BOT</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#not_or_and"><span class="id" title="lemma">not_or_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#NNPP"><span class="id" title="lemma">NNPP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.LocalSim.html#state_in_or_out"><span class="id" title="lemma">state_in_or_out</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AT_OR_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AT_OR_NA_STEP</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">AT_STEP_T</span> | <span class="id" title="var">NA_STEP_T</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_ABORT</span> <span class="id" title="var">THRD_DONE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">DSET_EMP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INDSET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gempty"><span class="id" title="lemma">DenseOrder.DOMap.gempty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INDSET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#not_or_and"><span class="id" title="lemma">not_or_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#state_in_not_abort_thread_step"><span class="id" title="lemma">state_in_not_abort_thread_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc_tgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TGT_THREAD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TGT_THREAD_STEP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">te</span> &amp; <span class="id" title="var">e_tgt</span> &amp; <span class="id" title="var">TGT_THREAD_STEP</span> &amp; <span class="id" title="var">IS_NA_STEP</span> &amp; <span class="id" title="var">PROM_EQ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">state</span> <span class="id" title="var">to</span> <span class="id" title="var">st_tgt'</span>, <span class="id" title="var">local</span> <span class="id" title="var">to</span> <span class="id" title="var">lc_tgt'</span>, <span class="id" title="var">sc</span> <span class="id" title="var">to</span> <span class="id" title="var">sc_tgt'</span>, <span class="id" title="var">memory</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_tgt'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span> <span class="id" title="var">H3</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_S'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">local</span> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_CLOSED_S'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">S_PROM_FULFILL</span>: <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_NA_STEP</span>: @<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">lo</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st_tgt</span> <span class="id" title="var">lc_tgt</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st_tgt'</span> <span class="id" title="var">lc_tgt'</span> <span class="id" title="var">sc_tgt'</span> <span class="id" title="var">mem_tgt'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">TGT_THREAD_STEP</span> <span class="id" title="var">IS_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">te</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_THREAD_STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_tau_step_intro"><span class="id" title="constructor">Thread.na_tau_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_THREAD_STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_read_step_intro"><span class="id" title="constructor">Thread.na_plain_read_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_THREAD_STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_write_step_intro"><span class="id" title="constructor">Thread.na_plain_write_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PROM_EQ</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_T'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc_tgt'</span> <span class="id" title="var">mem_tgt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_step_is_no_scfence_nprm_step"><span class="id" title="lemma">Thread_na_step_is_no_scfence_nprm_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_CLOSED_T'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem_tgt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_step_is_no_scfence_nprm_step"><span class="id" title="lemma">Thread_na_step_is_no_scfence_nprm_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#na_steps_dset_race_or_not"><span class="id" title="lemma">na_steps_dset_race_or_not</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">x</span>). <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">INDSET</span> <span class="id" title="var">H1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get_add1"><span class="id" title="lemma">dset_get_add1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span>, <span class="id" title="var">e1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RACE0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill_T_BOT"><span class="id" title="lemma">lsim_ensures_promise_fulfill_T_BOT</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_PROM_FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">S_PROM_FULFILL</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state0</span> <span class="id" title="var">local0</span> <span class="id" title="var">sc0</span> <span class="id" title="var">memory0</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_srcc'</span> <span class="id" title="var">state1</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_MSG_S'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">RACE_MSG_S'</span> &amp; <span class="id" title="var">NOT_PROM_S'</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PROM_EQ</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src</span> &amp; <span class="id" title="var">PSTEPS</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PSTEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_after_na_step_origin_prsv"><span class="id" title="lemma">dset_after_na_step_origin_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">DSET_GET</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_reduce"><span class="id" title="lemma">dset_reduce</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_MSG_S'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">RACE_MSG_S'</span> &amp; <span class="id" title="var">NOT_PROM_S'</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S'</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S'</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4: <span class="id" title="tactic">eapply</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PROM_EQ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_DONE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#na_steps_dset_race_or_not"><span class="id" title="lemma">na_steps_dset_race_or_not</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span>, <span class="id" title="var">e1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RACE0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_MSG_S'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">RACE_MSG_S'</span> &amp; <span class="id" title="var">NOT_PROM_S'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">sc</span> <span class="id" title="var">memory</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span> <span class="id" title="var">state0</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE2</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_gempty"><span class="id" title="lemma">dset_gempty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_RACE0</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="source_ww_race_construction2'" class="idref" href="#source_ww_race_construction2'"><span class="id" title="lemma">source_ww_race_construction2'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:254" class="idref" href="#n:254"><span class="id" title="binder">n</span></a> <a id="lang:255" class="idref" href="#lang:255"><span class="id" title="binder">lang</span></a> <a id="st_tgt:256" class="idref" href="#st_tgt:256"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:257" class="idref" href="#lc_tgt:257"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:258" class="idref" href="#sc_tgt:258"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:259" class="idref" href="#mem_tgt:259"><span class="id" title="binder">mem_tgt</span></a> <a id="e_tgt':260" class="idref" href="#e_tgt':260"><span class="id" title="binder">e_tgt'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:261" class="idref" href="#index:261"><span class="id" title="binder">index</span></a> <a id="index_order:262" class="idref" href="#index_order:262"><span class="id" title="binder">index_order</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_src:263" class="idref" href="#st_src:263"><span class="id" title="binder">st_src</span></a> <a id="lc_src:264" class="idref" href="#lc_src:264"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:265" class="idref" href="#sc_src:265"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:266" class="idref" href="#mem_src:266"><span class="id" title="binder">mem_src</span></a> <a id="lo:267" class="idref" href="#lo:267"><span class="id" title="binder">lo</span></a> <a id="loc:268" class="idref" href="#loc:268"><span class="id" title="binder">loc</span></a> <a id="to':269" class="idref" href="#to':269"><span class="id" title="binder">to'</span></a> <a id="b:270" class="idref" href="#b:270"><span class="id" title="binder">b</span></a> <a id="dset:271" class="idref" href="#dset:271"><span class="id" title="binder">dset</span></a> <a id="inj:272" class="idref" href="#inj:272"><span class="id" title="binder">inj</span></a> <a id="I:273" class="idref" href="#I:273"><span class="id" title="binder">I</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="from':274" class="idref" href="#from':274"><span class="id" title="binder">from'</span></a> <a id="val':275" class="idref" href="#val':275"><span class="id" title="binder">val'</span></a> <a id="R':276" class="idref" href="#R':276"><span class="id" title="binder">R'</span></a> <a id="t:277" class="idref" href="#t:277"><span class="id" title="binder">t</span></a> <a id="i:278" class="idref" href="#i:278"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:279" class="idref" href="#FULFILL:279"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step"><span class="id" title="inductive">no_scfence_nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:255"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:267"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#n:254"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:255"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:256"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:257"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:258"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:259"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':260"><span class="id" title="variable">e_tgt'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:280" class="idref" href="#BOT:280"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':260"><span class="id" title="variable">e_tgt'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INDSET:281" class="idref" href="#INDSET:281"><span class="id" title="binder">INDSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:268"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t:277"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:271"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:278"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ACC:282" class="idref" href="#ACC:282"><span class="id" title="binder">ACC</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:262"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:278"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:283" class="idref" href="#LOCAL_SIM:283"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:261"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:262"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:255"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:273"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:267"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:272"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:271"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b:270"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:255"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:256"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:257"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:258"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:259"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:255"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:263"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:264"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:265"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:266"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_MSG_S:284" class="idref" href="#RACE_MSG_S:284"><span class="id" title="binder">RACE_MSG_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:268"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':269"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:266"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':274"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':275"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':276"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM_S:285" class="idref" href="#NOT_PROM_S:285"><span class="id" title="binder">NOT_PROM_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:268"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':269"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:264"><span class="id" title="variable">lc_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_S:286" class="idref" href="#RACE_S:286"><span class="id" title="binder">RACE_S</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:264"><span class="id" title="variable">lc_src</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:268"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':269"><span class="id" title="variable">to'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:288" class="idref" href="#SAFE:288"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':287" class="idref" href="#e_src':287"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:267"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:255"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:263"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:264"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:265"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:266"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':287"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':287"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:267"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:289" class="idref" href="#LOCAL_WF_T:289"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:257"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:259"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:290" class="idref" href="#MEM_CLOSED:290"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:259"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:291" class="idref" href="#LOCAL_WF_S:291"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:264"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:266"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:292" class="idref" href="#MEM_CLOSED:292"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:266"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:293" class="idref" href="#MONOTONIC_INJ:293"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:272"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED:294" class="idref" href="#WELL_FOUNDED:294"><span class="id" title="binder">WELL_FOUNDED</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:262"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_I:295" class="idref" href="#WF_I:295"><span class="id" title="binder">WF_I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:273"><span class="id" title="variable">I</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">∃</span></a> <a id="st_src':296" class="idref" href="#st_src':296"><span class="id" title="binder">st_src'</span></a> <a id="lc_src':297" class="idref" href="#lc_src':297"><span class="id" title="binder">lc_src'</span></a> <a id="sc_src':298" class="idref" href="#sc_src':298"><span class="id" title="binder">sc_src'</span></a> <a id="mem_src':299" class="idref" href="#mem_src':299"><span class="id" title="binder">mem_src'</span></a> <a id="e_src':300" class="idref" href="#e_src':300"><span class="id" title="binder">e_src'</span></a> <a id="stw_src':301" class="idref" href="#stw_src':301"><span class="id" title="binder">stw_src'</span></a> <a id="val0:302" class="idref" href="#val0:302"><span class="id" title="binder">val0</span></a><a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="PRE_S:303" class="idref" href="#PRE_S:303"><span class="id" title="binder">PRE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:267"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:255"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:263"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:264"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:265"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:266"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:255"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':296"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':297"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':298"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':299"><span class="id" title="variable">mem_src'</span></a>)<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="WRITE_S:304" class="idref" href="#WRITE_S:304"><span class="id" title="binder">WRITE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:255"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:268"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:302"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':296"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#stw_src':301"><span class="id" title="variable">stw_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="RACE_MSG_S':305" class="idref" href="#RACE_MSG_S':305"><span class="id" title="binder">RACE_MSG_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:268"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':269"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':299"><span class="id" title="variable">mem_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':274"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':275"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':276"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="NOT_PROM_S':306" class="idref" href="#NOT_PROM_S':306"><span class="id" title="binder">NOT_PROM_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:268"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':269"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':297"><span class="id" title="variable">lc_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="VIEW_S':307" class="idref" href="#VIEW_S':307"><span class="id" title="binder">VIEW_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':297"><span class="id" title="variable">lc_src'</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:268"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':269"><span class="id" title="variable">to'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="FULFILL_S:308" class="idref" href="#FULFILL_S:308"><span class="id" title="binder">FULFILL_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:267"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:255"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':296"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':297"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':298"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':299"><span class="id" title="variable">mem_src'</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':300"><span class="id" title="variable">e_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="BOT_S:309" class="idref" href="#BOT_S:309"><span class="id" title="binder">BOT_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':300"><span class="id" title="variable">e_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#source_ww_race_construction1"><span class="id" title="lemma">source_ww_race_construction1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#no_scfence_steps_to_bot_promise_consistent"><span class="id" title="lemma">no_scfence_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FULFILL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#no_scfence_steps_to_bot_promise_consistent"><span class="id" title="lemma">no_scfence_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_T'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">local</span> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_CLOSED'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.LocalSim.html#state_in_or_out"><span class="id" title="lemma">state_in_or_out</span></a>. <span class="id" title="tactic">instantiate</span> (1 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.get_program_event"><span class="id" title="definition">ThreadEvent.get_program_event</span></a> <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AT_OR_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AT_OR_NA_STEP</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">AT_STEP</span> | <span class="id" title="var">NA_STEP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">DSET_EMP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">INDSET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INDSET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gempty"><span class="id" title="lemma">DenseOrder.DOMap.gempty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INDSET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.LocalSim.html#state_in_step_implies_threadEvt_is_na_step"><span class="id" title="lemma">state_in_step_implies_threadEvt_is_na_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">IS_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_ABORT</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">RELY_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_S'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">local0</span> <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_CLOSED_S'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#na_steps_dset_race_or_not"><span class="id" title="lemma">na_steps_dset_race_or_not</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">i</span>). <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">INDSET</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get_add1"><span class="id" title="lemma">dset_get_add1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>. <span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill"><span class="id" title="lemma">lsim_ensures_promise_fulfill</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FOUNDED</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MONOTONIC_INJ</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WF_I</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">BOT</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="var">GET_MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_MSG</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_NONE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PSTEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NA_STEPS_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="var">GET_MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_MSG</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TEMP</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">TEMP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">STEP_INV0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ATOMIC_COVER</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">ATOMIC_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">MEM_APPROX_EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_approxEq_loc"><span class="id" title="definition">Mem_approxEq_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_APPROX_EQ</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_APPROX_EQ0</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">FULFILL_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">FULFILL_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">FULFILL_S</span> &amp; <span class="id" title="var">BOT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#tau_steps_fulfill_implies_nprm_steps_fulfill"><span class="id" title="lemma">tau_steps_fulfill_implies_nprm_steps_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_S</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RACE0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc1</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem1</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">st2</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_reduce"><span class="id" title="lemma">dset_reduce</span></a>; [ | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">IN_DSET2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IN_DSET2'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">j</span> &amp; <span class="id" title="var">IN_DSET2'</span> &amp; <span class="id" title="var">INDEX_DEC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_MSG_S'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">RACE_MSG_S'</span> &amp; <span class="id" title="var">NOT_PROM_S'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NA_STEPS_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRE_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">TVIEW_UNCHANGE</span>: <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#pf_promise_steps_tview_unchange"><span class="id" title="lemma">pf_promise_steps_tview_unchange</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TVIEW_UNCHANGE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>.. ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_MSG_S'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">RACE_MSG_S'</span> &amp; <span class="id" title="var">NOT_PROM_S'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">TVIEW_UNCHANGE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="source_ww_race_construction2" class="idref" href="#source_ww_race_construction2"><span class="id" title="lemma">source_ww_race_construction2</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:310" class="idref" href="#n:310"><span class="id" title="binder">n</span></a> <a id="lang:311" class="idref" href="#lang:311"><span class="id" title="binder">lang</span></a> <a id="st_tgt:312" class="idref" href="#st_tgt:312"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:313" class="idref" href="#lc_tgt:313"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:314" class="idref" href="#sc_tgt:314"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:315" class="idref" href="#mem_tgt:315"><span class="id" title="binder">mem_tgt</span></a> <a id="e_tgt':316" class="idref" href="#e_tgt':316"><span class="id" title="binder">e_tgt'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:317" class="idref" href="#index:317"><span class="id" title="binder">index</span></a> <a id="index_order:318" class="idref" href="#index_order:318"><span class="id" title="binder">index_order</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_src:319" class="idref" href="#st_src:319"><span class="id" title="binder">st_src</span></a> <a id="lc_src:320" class="idref" href="#lc_src:320"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:321" class="idref" href="#sc_src:321"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:322" class="idref" href="#mem_src:322"><span class="id" title="binder">mem_src</span></a> <a id="lo:323" class="idref" href="#lo:323"><span class="id" title="binder">lo</span></a> <a id="loc:324" class="idref" href="#loc:324"><span class="id" title="binder">loc</span></a> <a id="to':325" class="idref" href="#to':325"><span class="id" title="binder">to'</span></a> <a id="b:326" class="idref" href="#b:326"><span class="id" title="binder">b</span></a> <a id="dset:327" class="idref" href="#dset:327"><span class="id" title="binder">dset</span></a> <a id="inj:328" class="idref" href="#inj:328"><span class="id" title="binder">inj</span></a> <a id="I:329" class="idref" href="#I:329"><span class="id" title="binder">I</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="from':330" class="idref" href="#from':330"><span class="id" title="binder">from'</span></a> <a id="val':331" class="idref" href="#val':331"><span class="id" title="binder">val'</span></a> <a id="R':332" class="idref" href="#R':332"><span class="id" title="binder">R'</span></a> <a id="t:333" class="idref" href="#t:333"><span class="id" title="binder">t</span></a> <a id="i:334" class="idref" href="#i:334"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:335" class="idref" href="#FULFILL:335"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:323"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#n:310"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:311"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:312"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:313"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:314"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:315"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':316"><span class="id" title="variable">e_tgt'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:336" class="idref" href="#BOT:336"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':316"><span class="id" title="variable">e_tgt'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INDSET:337" class="idref" href="#INDSET:337"><span class="id" title="binder">INDSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:324"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#t:333"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:327"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:334"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ACC:338" class="idref" href="#ACC:338"><span class="id" title="binder">ACC</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#Acc"><span class="id" title="inductive">Acc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:318"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:334"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:339" class="idref" href="#LOCAL_SIM:339"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:317"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:318"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:311"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:329"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:323"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:328"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:327"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b:326"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:311"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:312"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:313"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:314"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:315"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:311"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:319"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:320"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:321"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:322"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_MSG_S:340" class="idref" href="#RACE_MSG_S:340"><span class="id" title="binder">RACE_MSG_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:324"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':325"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:322"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':330"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':331"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':332"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM_S:341" class="idref" href="#NOT_PROM_S:341"><span class="id" title="binder">NOT_PROM_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:324"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':325"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:320"><span class="id" title="variable">lc_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_S:342" class="idref" href="#RACE_S:342"><span class="id" title="binder">RACE_S</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:320"><span class="id" title="variable">lc_src</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:324"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':325"><span class="id" title="variable">to'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:344" class="idref" href="#SAFE:344"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':343" class="idref" href="#e_src':343"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:323"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:311"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:319"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:320"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:321"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:322"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':343"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':343"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:323"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:345" class="idref" href="#LOCAL_WF_T:345"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:313"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:315"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:346" class="idref" href="#MEM_CLOSED:346"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:315"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:347" class="idref" href="#LOCAL_WF_S:347"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:320"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:322"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:348" class="idref" href="#MEM_CLOSED:348"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:322"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:349" class="idref" href="#MONOTONIC_INJ:349"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:328"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED:350" class="idref" href="#WELL_FOUNDED:350"><span class="id" title="binder">WELL_FOUNDED</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:318"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_I:351" class="idref" href="#WF_I:351"><span class="id" title="binder">WF_I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:329"><span class="id" title="variable">I</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">∃</span></a> <a id="st_src':352" class="idref" href="#st_src':352"><span class="id" title="binder">st_src'</span></a> <a id="lc_src':353" class="idref" href="#lc_src':353"><span class="id" title="binder">lc_src'</span></a> <a id="sc_src':354" class="idref" href="#sc_src':354"><span class="id" title="binder">sc_src'</span></a> <a id="mem_src':355" class="idref" href="#mem_src':355"><span class="id" title="binder">mem_src'</span></a> <a id="e_src':356" class="idref" href="#e_src':356"><span class="id" title="binder">e_src'</span></a> <a id="stw_src':357" class="idref" href="#stw_src':357"><span class="id" title="binder">stw_src'</span></a> <a id="val0:358" class="idref" href="#val0:358"><span class="id" title="binder">val0</span></a><a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="PRE_S:359" class="idref" href="#PRE_S:359"><span class="id" title="binder">PRE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:323"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:311"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:319"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:320"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:321"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:322"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:311"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':352"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':353"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':354"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':355"><span class="id" title="variable">mem_src'</span></a>)<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="WRITE_S:360" class="idref" href="#WRITE_S:360"><span class="id" title="binder">WRITE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:311"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:324"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:358"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':352"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#stw_src':357"><span class="id" title="variable">stw_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="RACE_MSG_S':361" class="idref" href="#RACE_MSG_S':361"><span class="id" title="binder">RACE_MSG_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:324"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':325"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':355"><span class="id" title="variable">mem_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':330"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':331"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':332"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="NOT_PROM_S':362" class="idref" href="#NOT_PROM_S':362"><span class="id" title="binder">NOT_PROM_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:324"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':325"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':353"><span class="id" title="variable">lc_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="VIEW_S':363" class="idref" href="#VIEW_S':363"><span class="id" title="binder">VIEW_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':353"><span class="id" title="variable">lc_src'</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:324"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':325"><span class="id" title="variable">to'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="FULFILL_S:364" class="idref" href="#FULFILL_S:364"><span class="id" title="binder">FULFILL_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:323"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:311"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':352"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':353"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':354"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':355"><span class="id" title="variable">mem_src'</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':356"><span class="id" title="variable">e_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="BOT_S:365" class="idref" href="#BOT_S:365"><span class="id" title="binder">BOT_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':356"><span class="id" title="variable">e_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_fulfill_implies_no_scfence_nprm_step_fulfill"><span class="id" title="lemma">nprm_steps_fulfill_implies_no_scfence_nprm_step_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#source_ww_race_construction2'"><span class="id" title="lemma">source_ww_race_construction2'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="source_ww_race_construction" class="idref" href="#source_ww_race_construction"><span class="id" title="lemma">source_ww_race_construction</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:366" class="idref" href="#n:366"><span class="id" title="binder">n</span></a> <a id="lang:367" class="idref" href="#lang:367"><span class="id" title="binder">lang</span></a> <a id="st_tgt:368" class="idref" href="#st_tgt:368"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:369" class="idref" href="#lc_tgt:369"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:370" class="idref" href="#sc_tgt:370"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:371" class="idref" href="#mem_tgt:371"><span class="id" title="binder">mem_tgt</span></a> <a id="e_tgt':372" class="idref" href="#e_tgt':372"><span class="id" title="binder">e_tgt'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:373" class="idref" href="#index:373"><span class="id" title="binder">index</span></a> <a id="index_order:374" class="idref" href="#index_order:374"><span class="id" title="binder">index_order</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_src:375" class="idref" href="#st_src:375"><span class="id" title="binder">st_src</span></a> <a id="lc_src:376" class="idref" href="#lc_src:376"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:377" class="idref" href="#sc_src:377"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:378" class="idref" href="#mem_src:378"><span class="id" title="binder">mem_src</span></a> <a id="lo:379" class="idref" href="#lo:379"><span class="id" title="binder">lo</span></a> <a id="loc:380" class="idref" href="#loc:380"><span class="id" title="binder">loc</span></a> <a id="val:381" class="idref" href="#val:381"><span class="id" title="binder">val</span></a> <a id="to':382" class="idref" href="#to':382"><span class="id" title="binder">to'</span></a> <a id="b:383" class="idref" href="#b:383"><span class="id" title="binder">b</span></a> <a id="dset:384" class="idref" href="#dset:384"><span class="id" title="binder">dset</span></a> <a id="inj:385" class="idref" href="#inj:385"><span class="id" title="binder">inj</span></a> <a id="stw_tgt:386" class="idref" href="#stw_tgt:386"><span class="id" title="binder">stw_tgt</span></a> <a id="I:387" class="idref" href="#I:387"><span class="id" title="binder">I</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="from':388" class="idref" href="#from':388"><span class="id" title="binder">from'</span></a> <a id="val':389" class="idref" href="#val':389"><span class="id" title="binder">val'</span></a> <a id="R':390" class="idref" href="#R':390"><span class="id" title="binder">R'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TGT_WRITE:391" class="idref" href="#TGT_WRITE:391"><span class="id" title="binder">TGT_WRITE</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:367"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:380"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val:381"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:368"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#stw_tgt:386"><span class="id" title="variable">stw_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:392" class="idref" href="#FULFILL:392"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:379"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#n:366"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:367"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:368"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:369"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:370"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:371"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':372"><span class="id" title="variable">e_tgt'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:393" class="idref" href="#BOT:393"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_tgt':372"><span class="id" title="variable">e_tgt'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:394" class="idref" href="#LOCAL_SIM:394"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:373"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:374"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:367"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:387"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:379"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:385"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:384"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b:383"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:367"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:368"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:369"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:370"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:371"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:367"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:375"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:376"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:377"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:378"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_MSG_S:395" class="idref" href="#RACE_MSG_S:395"><span class="id" title="binder">RACE_MSG_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:380"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':382"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:378"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':388"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':389"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':390"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM_S:396" class="idref" href="#NOT_PROM_S:396"><span class="id" title="binder">NOT_PROM_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:380"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':382"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:376"><span class="id" title="variable">lc_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_S:397" class="idref" href="#RACE_S:397"><span class="id" title="binder">RACE_S</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:376"><span class="id" title="variable">lc_src</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:380"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':382"><span class="id" title="variable">to'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:399" class="idref" href="#SAFE:399"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':398" class="idref" href="#e_src':398"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:379"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:367"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:375"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:376"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:377"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:378"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':398"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':398"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:379"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:400" class="idref" href="#LOCAL_WF_T:400"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:369"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:371"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:401" class="idref" href="#MEM_CLOSED:401"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:371"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:402" class="idref" href="#LOCAL_WF_S:402"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:376"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:378"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:403" class="idref" href="#MEM_CLOSED:403"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:378"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:404" class="idref" href="#MONOTONIC_INJ:404"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:385"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED:405" class="idref" href="#WELL_FOUNDED:405"><span class="id" title="binder">WELL_FOUNDED</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:374"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_I:406" class="idref" href="#WF_I:406"><span class="id" title="binder">WF_I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:387"><span class="id" title="variable">I</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">∃</span></a> <a id="st_src':407" class="idref" href="#st_src':407"><span class="id" title="binder">st_src'</span></a> <a id="lc_src':408" class="idref" href="#lc_src':408"><span class="id" title="binder">lc_src'</span></a> <a id="sc_src':409" class="idref" href="#sc_src':409"><span class="id" title="binder">sc_src'</span></a> <a id="mem_src':410" class="idref" href="#mem_src':410"><span class="id" title="binder">mem_src'</span></a> <a id="e_src':411" class="idref" href="#e_src':411"><span class="id" title="binder">e_src'</span></a> <a id="stw_src':412" class="idref" href="#stw_src':412"><span class="id" title="binder">stw_src'</span></a> <a id="val0:413" class="idref" href="#val0:413"><span class="id" title="binder">val0</span></a><a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="PRE_S:414" class="idref" href="#PRE_S:414"><span class="id" title="binder">PRE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:379"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:367"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:375"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:376"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:377"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:378"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:367"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':407"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':408"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':409"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':410"><span class="id" title="variable">mem_src'</span></a>)<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="WRITE_S:415" class="idref" href="#WRITE_S:415"><span class="id" title="binder">WRITE_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:367"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:380"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val0:413"><span class="id" title="variable">val0</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':407"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#stw_src':412"><span class="id" title="variable">stw_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="RACE_MSG_S':416" class="idref" href="#RACE_MSG_S':416"><span class="id" title="binder">RACE_MSG_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:380"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':382"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':410"><span class="id" title="variable">mem_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#from':388"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#val':389"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#R':390"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="NOT_PROM_S':417" class="idref" href="#NOT_PROM_S':417"><span class="id" title="binder">NOT_PROM_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:380"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#to':382"><span class="id" title="variable">to'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':408"><span class="id" title="variable">lc_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="VIEW_S':418" class="idref" href="#VIEW_S':418"><span class="id" title="binder">VIEW_S'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':408"><span class="id" title="variable">lc_src'</span></a>)) <a class="idref" href="CompOptCert.wwRFPrsv.html#loc:380"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#to':382"><span class="id" title="variable">to'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="FULFILL_S:419" class="idref" href="#FULFILL_S:419"><span class="id" title="binder">FULFILL_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:379"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:367"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src':407"><span class="id" title="variable">st_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src':408"><span class="id" title="variable">lc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src':409"><span class="id" title="variable">sc_src'</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src':410"><span class="id" title="variable">mem_src'</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':411"><span class="id" title="variable">e_src'</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="BOT_S:420" class="idref" href="#BOT_S:420"><span class="id" title="binder">BOT_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#e_src':411"><span class="id" title="variable">e_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BOT</span>. <span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">PROGRESS</span>: <span class="id" title="var">TGT_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#write_not_abort_progress"><span class="id" title="lemma">write_not_abort_progress</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) (<span class="id" title="var">sc</span> := <span class="id" title="var">sc_tgt</span>) (<span class="id" title="var">lc</span> := <span class="id" title="var">lc_tgt</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">PROGRESS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.write"><span class="id" title="constructor">ThreadEvent.write</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <span class="id" title="var">val</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>). <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_write"><span class="id" title="constructor">Local.step_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">THRD_STEP</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">DSET_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="i:422" class="idref" href="#i:422"><span class="id" title="binder">i</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <span class="id" title="var">dset1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:421"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">NA_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get_gss"><span class="id" title="lemma">dset_get_gss</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#na_steps_dset_race_or_not"><span class="id" title="lemma">na_steps_dset_race_or_not</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_LC_BOT'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">BOT</span> <span class="id" title="var">PROGRESS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROGRESS</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill_T_BOT"><span class="id" title="lemma">lsim_ensures_promise_fulfill_T_BOT</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">MONOTONIC_INJ</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FOUNDED</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">TGT_LC_BOT'</span> | | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H3</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc</span>). <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">RACE_WRITE</span>: <span class="id" title="var">RACE0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RACE_WRITE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc1</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem1</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_srcc'</span> <span class="id" title="var">st2</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE2</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">RACE_MSG_PRSV</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to'</span> <span class="id" title="var">memory</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val'</span> <span class="id" title="var">R'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to'</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">local</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_RACE0</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">WF_INDEX</span>: <span class="id" title="var">WELL_FOUNDED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WF_INDEX</span>. <span class="id" title="tactic">specialize</span> (<span class="id" title="var">WF_INDEX</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#source_ww_race_construction1"><span class="id" title="lemma">source_ww_race_construction1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRE_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">BOT</span> <span class="id" title="var">PROGRESS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROGRESS</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEP_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEP_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">AT_OR_NA_LOC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#na_write_on_atomic_loc_is_abort"><span class="id" title="lemma">na_write_on_atomic_loc_is_abort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROGRESS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_ABORT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FULFILL</span>. <span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<a class="idref" href="CompOptCert.Language.html#Language.deterministic"><span class="id" title="projection">Language.deterministic</span></a> <span class="id" title="var">lang</span>); [<span class="id" title="tactic">eapply</span> <span class="id" title="var">TGT_WRITE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STATE</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">STATE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_S'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">local0</span> <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">CLOSED_S'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">DSET_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="i:424" class="idref" href="#i:424"><span class="id" title="binder">i</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to</span> <span class="id" title="var">dset1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#i:423"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">NA_WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get_gss"><span class="id" title="lemma">dset_get_gss</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#na_steps_dset_race_or_not"><span class="id" title="lemma">na_steps_dset_race_or_not</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">RACE_WRITE_S</span>: <span class="id" title="var">RACE0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RACE_WRITE_S</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill"><span class="id" title="lemma">lsim_ensures_promise_fulfill</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> := <span class="id" title="var">n</span>) (<span class="id" title="var">e_tgt'</span> := <span class="id" title="var">e_tgt'</span>) (<span class="id" title="var">mem_tgtc</span> := <span class="id" title="var">memory</span>) (<span class="id" title="var">mem_srcc</span> := <span class="id" title="var">memory0</span>) (<span class="id" title="var">sc_srcc</span> := <span class="id" title="var">sc0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#tau_steps_fulfill_implies_nprm_steps_fulfill"><span class="id" title="lemma">tau_steps_fulfill_implies_nprm_steps_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc1</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem1</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span> <span class="id" title="var">st2</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RACE2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE2</span> | <span class="id" title="tactic">eauto</span>..].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="var">GET_MSG</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_MSG</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PSTEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="var">GET_MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_NONE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_MSG</span>. <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NP_STEPS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV0</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ATOMIC_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ATOMIC_COVER</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_approxEq_loc"><span class="id" title="definition">Mem_approxEq_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_RACE0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_MSG_S'</span>. <span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#source_ww_race_construction2"><span class="id" title="lemma">source_ww_race_construction2</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span> := <span class="id" title="var">n</span>) (<span class="id" title="var">e_tgt'</span> := <span class="id" title="var">e_tgt'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_na_steps_to_nprm_steps"><span class="id" title="lemma">Thread_na_steps_to_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#local_wf_write"><span class="id" title="lemma">local_wf_write</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#write_step_closed_mem"><span class="id" title="lemma">write_step_closed_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PF</span>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">RACE_MSG_PRSV</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to'</span> <span class="id" title="var">memory0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val'</span> <span class="id" title="var">R'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to'</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">local0</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_MSG_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_PROM_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_pf_promise_steps_is_nprm_steps"><span class="id" title="lemma">Thread_pf_promise_steps_is_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">st_tgt</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">state</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src'</span> <span class="id" title="var">lc_src'</span> <span class="id" title="var">sc_src'</span> <span class="id" title="var">mem_src'</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span> <span class="id" title="var">stw_src'</span> <span class="id" title="var">val0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_pf_promise_steps_is_nprm_steps"><span class="id" title="lemma">Thread_pf_promise_steps_is_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#pf_promise_steps_tview_unchange"><span class="id" title="lemma">pf_promise_steps_tview_unchange</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#Thread_pf_promise_steps_is_nprm_steps"><span class="id" title="lemma">Thread_pf_promise_steps_is_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_step_future"><span class="id" title="lemma">Local.promise_step_future</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_step_future"><span class="id" title="lemma">Local.promise_step_future</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#pf_promise_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">pf_promise_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ww_rf_preservation_aux_cur_race" class="idref" href="#ww_rf_preservation_aux_cur_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_race</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="index:425" class="idref" href="#index:425"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>) (<a id="index_order:426" class="idref" href="#index_order:426"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#index:425"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:425"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="I:427" class="idref" href="#I:427"><span class="id" title="binder">I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Invariant"><span class="id" title="definition">Invariant</span></a>) (<a id="lo:428" class="idref" href="#lo:428"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>) <a id="inj:429" class="idref" href="#inj:429"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ths_tgt:430" class="idref" href="#ths_tgt:430"><span class="id" title="binder">ths_tgt</span></a> <a id="ths_src:431" class="idref" href="#ths_src:431"><span class="id" title="binder">ths_src</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Threads.t"><span class="id" title="definition">Threads.t</span></a>) (<a id="sc_tgt:432" class="idref" href="#sc_tgt:432"><span class="id" title="binder">sc_tgt</span></a> <a id="sc_src:433" class="idref" href="#sc_src:433"><span class="id" title="binder">sc_src</span></a>: <a class="idref" href="CompOptCert.View.html#TimeMap.t"><span class="id" title="definition">TimeMap.t</span></a>) (<a id="mem_tgt:434" class="idref" href="#mem_tgt:434"><span class="id" title="binder">mem_tgt</span></a> <a id="mem_src:435" class="idref" href="#mem_src:435"><span class="id" title="binder">mem_src</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ctid:436" class="idref" href="#ctid:436"><span class="id" title="binder">ctid</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED_ORDER:437" class="idref" href="#WELL_FOUNDED_ORDER:437"><span class="id" title="binder">WELL_FOUNDED_ORDER</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:426"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FORMED_INV:438" class="idref" href="#WELL_FORMED_INV:438"><span class="id" title="binder">WELL_FORMED_INV</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:427"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="AUX_WW_RACE:439" class="idref" href="#AUX_WW_RACE:439"><span class="id" title="binder">AUX_WW_RACE</span></a>: <a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:428"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:430"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:436"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:432"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:434"><span class="id" title="variable">mem_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:446" class="idref" href="#LOCAL_SIM:446"><span class="id" title="binder">LOCAL_SIM</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:440" class="idref" href="#lang:440"><span class="id" title="binder">lang</span></a> <a id="st_tgt:441" class="idref" href="#st_tgt:441"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:442" class="idref" href="#lc_tgt:442"><span class="id" title="binder">lc_tgt</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:436"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:430"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:440"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:441"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:442"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="st_src:443" class="idref" href="#st_src:443"><span class="id" title="binder">st_src</span></a> <a id="lc_src:444" class="idref" href="#lc_src:444"><span class="id" title="binder">lc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:436"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:431"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:440"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:443"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:444"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:425"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:426"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:440"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:427"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:428"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:429"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:440"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:441"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:442"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:432"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:434"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:440"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:443"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:444"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:433"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:435"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="TGT_PROM_CONS:445" class="idref" href="#TGT_PROM_CONS:445"><span class="id" title="binder">TGT_PROM_CONS</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:442"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:448" class="idref" href="#SAFE:448"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:447" class="idref" href="#npc:447"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:428"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:431"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:436"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:433"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:435"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:447"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Configuration.html#Configuration.is_abort"><span class="id" title="definition">Configuration.is_abort</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:447"><span class="id" title="variable">npc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:428"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:449" class="idref" href="#MONOTONIC_INJ:449"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:429"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_TGT:450" class="idref" href="#WF_CONFIG_TGT:450"><span class="id" title="binder">WF_CONFIG_TGT</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:430"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:436"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:432"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:434"><span class="id" title="variable">mem_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_SRC:451" class="idref" href="#WF_CONFIG_SRC:451"><span class="id" title="binder">WF_CONFIG_SRC</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:431"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:436"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:433"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:435"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:428"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:431"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:436"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:433"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:435"><span class="id" title="variable">mem_src</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AUX_WW_RACE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">LOCAL_SIM</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#thread_all_step_to_NPThread_all_steps_from_outAtmBlk"><span class="id" title="lemma">thread_all_step_to_NPThread_all_steps_from_outAtmBlk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#tau_steps_fulfill_implies_nprm_steps_fulfill"><span class="id" title="lemma">tau_steps_fulfill_implies_nprm_steps_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#not_abort_implies_thread_safe"><span class="id" title="lemma">not_abort_implies_thread_safe</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">st</span> := <span class="id" title="var">st_src</span>) (<span class="id" title="var">lc</span> := <span class="id" title="var">lc_src</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">SAFE</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#sim_all_steps"><span class="id" title="lemma">sim_all_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eauto</span>..].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_in_starting_mem"><span class="id" title="lemma">race_message_in_starting_mem</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RC_MSG</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RC_MSG0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WWRC</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CTID</span> <span class="id" title="var">WF_CONFIG_TGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CTID</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_POINT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">RACE_POINT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">MEM_RACE_MSG0</span> &amp; <span class="id" title="var">NOT_IN_PROM0</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">RELY_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WELL_FORMED_INV</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_RACE_MSG0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NOT_IN_S_PROM0</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t'</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t'</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc_src</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">GET_S_PROM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET_S_PROM</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">REL_PROMISES0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_S_PROM</span>; <span class="id" title="var">des</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET_S_PROM0</span> <span class="id" title="var">REL_PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_subset"><span class="id" title="definition">dset_subset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REL_PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">REL_PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gempty"><span class="id" title="lemma">DenseOrder.DOMap.gempty</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj_implies_injective"><span class="id" title="lemma">monotonic_inj_implies_injective</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">MONOTONIC_INJ</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">GET_S_PROM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NOT_IN_PROM0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_S_PROM0</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#race_message_stable"><span class="id" title="lemma">race_message_stable</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NOT_IN_S_PROM0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">memory</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_src'</span>, <span class="id" title="var">local</span> <span class="id" title="var">to</span> <span class="id" title="var">lc_src'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">LOCAL_SIM_PSV'</span>: <span class="id" title="var">LOCAL_SIM_PSV</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">INJ</span>: <span class="id" title="var">inj'</span> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t'</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">INJ_INCR</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">VIEW_LE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">RACE_S</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#source_ww_race_construction"><span class="id" title="lemma">source_ww_race_construction</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">FULFILL</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">FULFILL1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_SIM_PSV'</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H3</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RACE_S</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">S_STEPS</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">WW_RACE_S</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid</span> := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRE_S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRE_S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRE_S</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE_S</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">FULFILL_S</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">THREADS</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_all_steps_to_Thread_all_steps"><span class="id" title="lemma">NPThread_all_steps_to_Thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
current thread will not abort 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ww_rf_preservation_aux_cur_not_race" class="idref" href="#ww_rf_preservation_aux_cur_not_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_not_race</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:452" class="idref" href="#n:452"><span class="id" title="binder">n</span></a> (<a id="index:453" class="idref" href="#index:453"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>) (<a id="index_order:454" class="idref" href="#index_order:454"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#index:453"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:453"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="I:455" class="idref" href="#I:455"><span class="id" title="binder">I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Invariant"><span class="id" title="definition">Invariant</span></a>) (<a id="lo:456" class="idref" href="#lo:456"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>) <a id="inj:457" class="idref" href="#inj:457"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ths_tgt:458" class="idref" href="#ths_tgt:458"><span class="id" title="binder">ths_tgt</span></a> <a id="ths_src:459" class="idref" href="#ths_src:459"><span class="id" title="binder">ths_src</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Threads.t"><span class="id" title="definition">Threads.t</span></a>) (<a id="sc_tgt:460" class="idref" href="#sc_tgt:460"><span class="id" title="binder">sc_tgt</span></a> <a id="sc_src:461" class="idref" href="#sc_src:461"><span class="id" title="binder">sc_src</span></a>: <a class="idref" href="CompOptCert.View.html#TimeMap.t"><span class="id" title="definition">TimeMap.t</span></a>) (<a id="mem_tgt:462" class="idref" href="#mem_tgt:462"><span class="id" title="binder">mem_tgt</span></a> <a id="mem_src:463" class="idref" href="#mem_src:463"><span class="id" title="binder">mem_src</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ctid:464" class="idref" href="#ctid:464"><span class="id" title="binder">ctid</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>) <a id="npc_tgt:465" class="idref" href="#npc_tgt:465"><span class="id" title="binder">npc_tgt</span></a> <a id="b_tgt:466" class="idref" href="#b_tgt:466"><span class="id" title="binder">b_tgt</span></a> <a id="b_src:467" class="idref" href="#b_src:467"><span class="id" title="binder">b_src</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED_ORDER:468" class="idref" href="#WELL_FOUNDED_ORDER:468"><span class="id" title="binder">WELL_FOUNDED_ORDER</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:454"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FORMED_INV:469" class="idref" href="#WELL_FORMED_INV:469"><span class="id" title="binder">WELL_FORMED_INV</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:455"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T_STEPS:470" class="idref" href="#T_STEPS:470"><span class="id" title="binder">T_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#n:452"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:458"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:464"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:460"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:462"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:466"><span class="id" title="variable">b_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_tgt:465"><span class="id" title="variable">npc_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WW_RACE:471" class="idref" href="#WW_RACE:471"><span class="id" title="binder">WW_RACE</span></a>: <a class="idref" href="CompOptCert.ww_RF.html#ww_race"><span class="id" title="inductive">ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_tgt:465"><span class="id" title="variable">npc_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_NOT_RACE:472" class="idref" href="#CUR_NOT_RACE:472"><span class="id" title="binder">CUR_NOT_RACE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:458"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:464"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:460"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:462"><span class="id" title="variable">mem_tgt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READY_THRDS:482" class="idref" href="#READY_THRDS:482"><span class="id" title="binder">READY_THRDS</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="tid:473" class="idref" href="#tid:473"><span class="id" title="binder">tid</span></a> (<a id="READY_TID:474" class="idref" href="#READY_TID:474"><span class="id" title="binder">READY_TID</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:473"><span class="id" title="variable">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:464"><span class="id" title="variable">ctid</span></a>) <a id="lang:475" class="idref" href="#lang:475"><span class="id" title="binder">lang</span></a> <a id="st_tgt:476" class="idref" href="#st_tgt:476"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:477" class="idref" href="#lc_tgt:477"><span class="id" title="binder">lc_tgt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READY_TGT_THD:478" class="idref" href="#READY_TGT_THD:478"><span class="id" title="binder">READY_TGT_THD</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:473"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:458"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:475"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:476"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:477"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="st_src:479" class="idref" href="#st_src:479"><span class="id" title="binder">st_src</span></a> <a id="lc_src:480" class="idref" href="#lc_src:480"><span class="id" title="binder">lc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:473"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:459"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:475"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:479"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:480"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state"><span class="id" title="inductive">rely_local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:453"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:454"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:475"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:455"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:457"><span class="id" title="variable">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:475"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:476"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:477"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:460"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:462"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:475"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:479"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:480"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:461"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:463"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="R_TGT_PROM_CONS:481" class="idref" href="#R_TGT_PROM_CONS:481"><span class="id" title="binder">R_TGT_PROM_CONS</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:477"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_THRD:491" class="idref" href="#CUR_THRD:491"><span class="id" title="binder">CUR_THRD</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:483" class="idref" href="#lang:483"><span class="id" title="binder">lang</span></a> <a id="st_tgt:484" class="idref" href="#st_tgt:484"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:485" class="idref" href="#lc_tgt:485"><span class="id" title="binder">lc_tgt</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_TGT_THRD:486" class="idref" href="#CUR_TGT_THRD:486"><span class="id" title="binder">CUR_TGT_THRD</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:464"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:458"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:483"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:484"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:485"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">∃</span></a> <a id="st_src:487" class="idref" href="#st_src:487"><span class="id" title="binder">st_src</span></a> <a id="lc_src:488" class="idref" href="#lc_src:488"><span class="id" title="binder">lc_src</span></a> <a id="dset:489" class="idref" href="#dset:489"><span class="id" title="binder">dset</span></a><a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:464"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:459"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:483"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:487"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:488"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:453"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:454"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:483"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:455"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:457"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:489"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:466"><span class="id" title="variable">b_tgt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:483"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:484"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:485"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:460"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:462"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:483"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:487"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:488"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:461"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:463"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:466"><span class="id" title="variable">b_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#dset:489"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="C_TGT_PROM_CONS:490" class="idref" href="#C_TGT_PROM_CONS:490"><span class="id" title="binder">C_TGT_PROM_CONS</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:485"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONSISTENTS:492" class="idref" href="#CONSISTENTS:492"><span class="id" title="binder">CONSISTENTS</span></a>: <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.consistent"><span class="id" title="definition">NPConfiguration.consistent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:458"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:464"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:460"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:462"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:466"><span class="id" title="variable">b_tgt</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WWRF:494" class="idref" href="#WWRF:494"><span class="id" title="binder">WWRF</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:493" class="idref" href="#npc:493"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:459"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:464"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:461"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:463"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#b_src:467"><span class="id" title="variable">b_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:493"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:493"><span class="id" title="variable">npc</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:496" class="idref" href="#SAFE:496"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:495" class="idref" href="#npc:495"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:459"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:464"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:461"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:463"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#b_src:467"><span class="id" title="variable">b_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:495"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Configuration.html#Configuration.is_abort"><span class="id" title="definition">Configuration.is_abort</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:495"><span class="id" title="variable">npc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_TGT:497" class="idref" href="#WF_CONFIG_TGT:497"><span class="id" title="binder">WF_CONFIG_TGT</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:458"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:464"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:460"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:462"><span class="id" title="variable">mem_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_SRC:498" class="idref" href="#WF_CONFIG_SRC:498"><span class="id" title="binder">WF_CONFIG_SRC</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:459"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:464"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:461"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:463"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_ATM_BIT:499" class="idref" href="#WF_ATM_BIT:499"><span class="id" title="binder">WF_ATM_BIT</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:466"><span class="id" title="variable">b_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#b_src:467"><span class="id" title="variable">b_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INV_OUT_ATM:500" class="idref" href="#INV_OUT_ATM:500"><span class="id" title="binder">INV_OUT_ATM</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#b_tgt:466"><span class="id" title="variable">b_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:462"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:463"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:455"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:457"><span class="id" title="variable">inj</span></a> (<a class="idref" href="CompOptCert.LocalSim.html#Build_Rss"><span class="id" title="constructor">Build_Rss</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:460"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:462"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:461"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:463"><span class="id" title="variable">mem_src</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:501" class="idref" href="#MONOTONIC_INJ:501"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:457"><span class="id" title="variable">inj</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc_src:502" class="idref" href="#npc_src:502"><span class="id" title="binder">npc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:459"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:464"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:461"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:463"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#b_src:467"><span class="id" title="variable">b_src</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_src:502"><span class="id" title="variable">npc_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ww_RF.html#ww_race"><span class="id" title="inductive">ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:456"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_src:502"><span class="id" title="variable">npc_src</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">T_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WW_RACE</span> <span class="id" title="var">CUR_NOT_RACE</span> <span class="id" title="var">CONSISTENTS</span> <span class="id" title="var">WF_CONFIG_TGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">CUR_NOT_RACE</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">CUR_NOT_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.consistent"><span class="id" title="definition">NPConfiguration.consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENTS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Configuration.html#Threads.consistent_nprm"><span class="id" title="definition">Threads.consistent_nprm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENTS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">T_CONSISTENT</span>: <span class="id" title="var">CTID</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CONSISTENTS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">T_CONSISTENT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#Thread_nprm_implies_fulfill"><span class="id" title="lemma">Thread_nprm_implies_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_CONSISTENT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTID</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_CONSISTENT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">T_CONSISTENT</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">CONSISTENTS'</span>: <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentStableEnv.html#threads_consistent_stable"><span class="id" title="lemma">threads_consistent_stable</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENTS'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">T_STEPS</span>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">lo</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <span class="id" title="var">lang</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc1</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>) <span class="id" title="var">b_tgt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <span class="id" title="var">lang</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st2</span> <span class="id" title="var">lc2</span> <span class="id" title="var">sc2</span> <span class="id" title="var">m2</span>) <span class="id" title="var">b</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_n1"><span class="id" title="lemma">rtc_n1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">T_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">T_CONFIG_WF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">TID1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PROM_CONS_T</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#consistent_nprm_promise_consistent"><span class="id" title="lemma">consistent_nprm_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENT</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#sim_tau_steps_aux"><span class="id" title="lemma">sim_tau_steps_aux</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">T_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_ABORT</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_ABORT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_CONFIG_WF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">S_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">S_STEPS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lang</span> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_tgt</span> := <span class="id" title="var">sc2</span>) (<span class="id" title="var">mem_tgt</span> := <span class="id" title="var">m2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory</span>) (<span class="id" title="var">b_src</span> := <span class="id" title="var">b_src'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_SRC</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gsident"><span class="id" title="lemma">IdentMap.gsident</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PSTEPS_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">CUR_NOT_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AUX_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CTID</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CTID</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">TID1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := <span class="id" title="var">n0</span>) (<span class="id" title="var">n_src</span> := 0) (<span class="id" title="var">lang2</span> := <span class="id" title="var">lang0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (4 := <span class="id" title="var">ctid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gsident"><span class="id" title="lemma">IdentMap.gsident</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gsident"><span class="id" title="lemma">IdentMap.gsident</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#out_atmblk_I_inj_hold"><span class="id" title="lemma">out_atmblk_I_inj_hold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_STEPS_CONS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">S_STEPS_CONS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">S_STEPS_CONS</span> &amp; <span class="id" title="var">S_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (@<a class="idref" href="CompOptCert.ww_RF.html#thrd_ww_race"><span class="id" title="inductive">thrd_ww_race</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">sc</span> <span class="id" title="var">memory</span>))) <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">THRD_WW_RACE</span> | <span class="id" title="var">THRD_NOT_WW_RACE</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">AUX_WW_RACE_S</span>: <a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <span class="id" title="var">ths_src</span> <span class="id" title="var">ctid</span> <span class="id" title="var">sc_src</span> <span class="id" title="var">mem_src</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">THRD_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <span class="id" title="var">lo</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st_src</span> <span class="id" title="var">lc_src</span> <span class="id" title="var">sc_src</span> <span class="id" title="var">mem_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st'</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc'</span> <span class="id" title="var">mem'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">WF_CONFIG_T_TEMP</span>: <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WF_CONFIG_T_TEMP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid</span> := <span class="id" title="var">ctid</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">WF_CONFIG_T_TEMP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONSISTENT_S</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a> <span class="id" title="var">lang</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">sc</span> <span class="id" title="var">memory</span>) <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#promise_certified_prsv"><span class="id" title="lemma">promise_certified_prsv</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CONSISTENT</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE</span> <span class="id" title="var">S_STEPS</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">S_ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">S_STEPS_TO_ABORT</span> &amp; <span class="id" title="var">S_ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_TO_ABORT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lang</span> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_tgt</span> := <span class="id" title="var">sc2</span>) (<span class="id" title="var">mem_tgt</span> := <span class="id" title="var">m2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory</span>) (<span class="id" title="var">b_src</span> := <span class="id" title="var">b_src'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_SRC</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_SRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS_CONS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPThread_tau_steps_to_thread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_to_thread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">CUR_NOT_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AUX_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CTID</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CTID</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">TID1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := <span class="id" title="var">n1</span>) (<span class="id" title="var">n_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>) (<span class="id" title="var">lang2</span> := <span class="id" title="var">lang0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#out_atmblk_I_inj_hold"><span class="id" title="lemma">out_atmblk_I_inj_hold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_CONS</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">b_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">ctid</span> <span class="id" title="var">tid2</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">I_INV</span>: <span class="id" title="var">I</span> <span class="id" title="var">lo</span> <span class="id" title="var">inj</span> (<a class="idref" href="CompOptCert.LocalSim.html#Build_Rss"><span class="id" title="constructor">Build_Rss</span></a> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span> <span class="id" title="var">sc_src</span> <span class="id" title="var">mem_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="var">lo</span> <span class="id" title="var">mem_tgt</span> <span class="id" title="var">mem_src</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">INV_OUT_ATM</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">I_INV</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">I_INV</span> &amp; <span class="id" title="var">MEM_AT_EQ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NEW_TH_LOCAL_SIM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">WF_ATM_BIT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span> <span class="id" title="var">b_src</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <span class="id" title="var">ths_tgt</span> <span class="id" title="var">tid2</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">TID2_WW_RACE</span> | <span class="id" title="var">TID2_NOT_WW_RACE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_rf_preservation_aux_cur_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_race</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ths_src</span> := <span class="id" title="var">ths_src</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">tid2</span>) (<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc_src</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">mem_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#aux_wwrace_to_np_wwrace_from_outAtmBlk"><span class="id" title="lemma">aux_wwrace_to_np_wwrace_from_outAtmBlk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">TID2_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid2</span> := <span class="id" title="var">tid2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TH_TID2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TID2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">TH_TID2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TH_TID2</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <span class="id" title="var">ths_src</span>) (<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mem_src</span> := <span class="id" title="var">mem_src</span>) (<span class="id" title="var">b_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_SRC</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_SRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid2</span> := <span class="id" title="var">tid2</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src0</span> <span class="id" title="var">lc_src0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_state_to_rely_local_sim_state"><span class="id" title="lemma">local_sim_state_to_rely_local_sim_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPConfig_abort_to_Config_abort"><span class="id" title="lemma">NPConfig_abort_to_Config_abort</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TID2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">st2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src</span> <span class="id" title="var">lc_src</span> (@<a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a> <span class="id" title="var">index</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">OLD_TID</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st_src</span> <span class="id" title="var">lc_src</span> <span class="id" title="var">e_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_DONE0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NEW_TID_NOT_DONE</span>: <span class="id" title="var">tid2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEW_TID_OK</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEW_TID_OK</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_NPThread_tau_steps"><span class="id" title="lemma">na_steps_dset_to_NPThread_tau_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">b_src</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hprefix_tau_steps</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprefix_tau_steps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprefix_tau_steps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">Hprefix_tau_steps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hprefix_tau_steps</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> <span class="id" title="var">ths_tgt</span>) <span class="id" title="var">tid2</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">TID2_WW_RACE</span> | <span class="id" title="var">TID2_NOT_WW_RACE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_rf_preservation_aux_cur_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_race</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> <span class="id" title="var">ths_src</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">tid2</span>) (<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc_src</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">mem_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#aux_wwrace_to_np_wwrace_from_outAtmBlk"><span class="id" title="lemma">aux_wwrace_to_np_wwrace_from_outAtmBlk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">TID2_WW_RACE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TID2_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := 0) (<span class="id" title="var">lc_tgt1</span> := <span class="id" title="var">lc1</span>) (<span class="id" title="var">lc_src1</span> := <span class="id" title="var">lc_src</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WELL_FORMED_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := 0) (<span class="id" title="var">lc_tgt1</span> := <span class="id" title="var">lc1</span>) (<span class="id" title="var">lc_src1</span> := <span class="id" title="var">lc_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> <span class="id" title="var">ths_src</span>) (<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mem_src</span> := <span class="id" title="var">mem_src</span>) (<span class="id" title="var">b_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_SRC</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_SRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid2</span> := <span class="id" title="var">tid2</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NOT_ORIGIN_TID</span>: <span class="id" title="var">tid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">READY_TGT_THD_ORIGN</span>: <span class="id" title="var">READY_TGT_THD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_THRDS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := 0) (<span class="id" title="var">lc_tgt1</span> := <span class="id" title="var">lc1</span>) (<span class="id" title="var">lc_src1</span> := <span class="id" title="var">lc_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj'</span> := <span class="id" title="var">inj'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NOT_ORIGIN_TID</span>: <span class="id" title="var">tid2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NEW_TID_OK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hprefix_tau_steps</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hprefix_tau_steps'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprefix_tau_steps'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">PREFIX_STEPS</span> &amp; <span class="id" title="var">PREFIX_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PREFIX_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONSISTENT_T</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <span class="id" title="var">e_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hprefix_tau_steps</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">introv</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> <span class="id" title="var">ths_tgt</span>) <span class="id" title="var">tid2</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> [<span class="id" title="var">TID2_WW_RACE</span> | <span class="id" title="var">TID2_NOT_WW_RACE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_rf_preservation_aux_cur_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_race</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="CompOptCert.Language.html#Language.state"><span class="id" title="projection">Language.state</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">state0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ctid</span> := <span class="id" title="var">tid2</span>) (<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc0</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory0</span>) (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#aux_wwrace_to_np_wwrace_from_outAtmBlk"><span class="id" title="lemma">aux_wwrace_to_np_wwrace_from_outAtmBlk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TID2_WW_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PREFIX_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PREFIX_STEP</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">TID2_WW_RACE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NEW_TID_OK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H10</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_AT_EQ</span>: <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="var">lo</span> <span class="id" title="var">mem_tgt</span> <span class="id" title="var">memory0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#out_atmblk_I_inj_hold"><span class="id" title="lemma">out_atmblk_I_inj_hold</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lang</span> <span class="id" title="var">state0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory0</span>) (<span class="id" title="var">b_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_SRC</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PREFIX_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PREFIX_STEP</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_SRC</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">READY_TGT_NOT_DONE</span>: <span class="id" title="var">tid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NEW_TID_OK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_na_steps_prsv"><span class="id" title="lemma">Mem_at_eq_na_steps_prsv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">mem_tgt</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_reflexive"><span class="id" title="lemma">Mem_at_eq_reflexive</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_reflexive"><span class="id" title="lemma">Mem_at_eq_reflexive</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">TID1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#sim_output_steps"><span class="id" title="lemma">sim_output_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_NPThread_out_step_prsv"><span class="id" title="lemma">wf_config_NPThread_out_step_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">T_CONFIG_WF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_CONFIG_WF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_NPThread_out_step_prsv"><span class="id" title="lemma">wf_config_NPThread_out_step_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_OUT</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_CONFIG_WF''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PROM_BOT</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">local</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">local0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">S_OUT</span>. <span class="id" title="var">inv</span> <span class="id" title="var">S_OUT</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">OUT</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PROM_BOT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">PROM_BOT</span> &amp; <span class="id" title="var">PROM_BOT'</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">OUT</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#out_atmblk_I_inj_hold"><span class="id" title="lemma">out_atmblk_I_inj_hold</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lang</span> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_tgt</span> := <span class="id" title="var">sc2</span>) (<span class="id" title="var">mem_tgt</span> := <span class="id" title="var">m2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory</span>) (<span class="id" title="var">b_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PSTEPS_S</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">CUR_NOT_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AUX_WW_RACE_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CTID</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CTID</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H9</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">st1</span>). <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">lc1</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#out_step_is_all_step"><span class="id" title="lemma">out_step_is_all_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_out_rely_condition"><span class="id" title="lemma">local_sim_out_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_src</span> := 0); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_CONFIG_WF''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hprefix_tau_steps'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprefix_tau_steps'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">PREFIX_STEPS</span> &amp; <span class="id" title="var">PREFIX_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">state1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PREFIX_STEPS</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#out_atmblk_I_inj_hold"><span class="id" title="lemma">out_atmblk_I_inj_hold</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths_src</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lang</span> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths_src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_tgt</span> := <span class="id" title="var">sc2</span>) (<span class="id" title="var">mem_tgt</span> := <span class="id" title="var">m2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">memory</span>) (<span class="id" title="var">b_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">CUR_NOT_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AUX_WW_RACE_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CTID</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CTID</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#out_step_is_all_step"><span class="id" title="lemma">out_step_is_all_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_out_rely_condition"><span class="id" title="lemma">local_sim_out_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AUX_WW_RACE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AUX_WW_RACE_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">AUX_WW_RACE_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT_S</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc_src</span> &amp; <span class="id" title="var">PSTEPS_S</span> &amp; <span class="id" title="var">ABORT_S</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_CONFIG_WF''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">lang0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">lang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_src0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_src0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">lang0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
ww-race preservation proof 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ww_RF_preservation_aux" class="idref" href="#ww_RF_preservation_aux"><span class="id" title="lemma">ww_RF_preservation_aux</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="index:503" class="idref" href="#index:503"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>) (<a id="index_order:504" class="idref" href="#index_order:504"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#index:503"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:503"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="I:505" class="idref" href="#I:505"><span class="id" title="binder">I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Invariant"><span class="id" title="definition">Invariant</span></a>) (<a id="lo:506" class="idref" href="#lo:506"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>) <a id="inj:507" class="idref" href="#inj:507"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ths_tgt:508" class="idref" href="#ths_tgt:508"><span class="id" title="binder">ths_tgt</span></a> <a id="ths_src:509" class="idref" href="#ths_src:509"><span class="id" title="binder">ths_src</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Threads.t"><span class="id" title="definition">Threads.t</span></a>) (<a id="ctid:510" class="idref" href="#ctid:510"><span class="id" title="binder">ctid</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="sc_tgt:511" class="idref" href="#sc_tgt:511"><span class="id" title="binder">sc_tgt</span></a> <a id="sc_src:512" class="idref" href="#sc_src:512"><span class="id" title="binder">sc_src</span></a>: <a class="idref" href="CompOptCert.View.html#TimeMap.t"><span class="id" title="definition">TimeMap.t</span></a>) (<a id="mem_tgt:513" class="idref" href="#mem_tgt:513"><span class="id" title="binder">mem_tgt</span></a> <a id="mem_src:514" class="idref" href="#mem_src:514"><span class="id" title="binder">mem_src</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a>) <a id="npc_tgt:515" class="idref" href="#npc_tgt:515"><span class="id" title="binder">npc_tgt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED_ORDER:516" class="idref" href="#WELL_FOUNDED_ORDER:516"><span class="id" title="binder">WELL_FOUNDED_ORDER</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:504"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FORMED_INV:517" class="idref" href="#WELL_FORMED_INV:517"><span class="id" title="binder">WELL_FORMED_INV</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:505"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T_STEPS:518" class="idref" href="#T_STEPS:518"><span class="id" title="binder">T_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:508"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:510"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:511"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:513"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_tgt:515"><span class="id" title="variable">npc_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WW_RACE:519" class="idref" href="#WW_RACE:519"><span class="id" title="binder">WW_RACE</span></a>: <a class="idref" href="CompOptCert.ww_RF.html#ww_race"><span class="id" title="inductive">ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_tgt:515"><span class="id" title="variable">npc_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READY_THRDS:529" class="idref" href="#READY_THRDS:529"><span class="id" title="binder">READY_THRDS</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="tid:520" class="idref" href="#tid:520"><span class="id" title="binder">tid</span></a> (<a id="READY_TID:521" class="idref" href="#READY_TID:521"><span class="id" title="binder">READY_TID</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:520"><span class="id" title="variable">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:510"><span class="id" title="variable">ctid</span></a>) <a id="lang:522" class="idref" href="#lang:522"><span class="id" title="binder">lang</span></a> <a id="st_tgt:523" class="idref" href="#st_tgt:523"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:524" class="idref" href="#lc_tgt:524"><span class="id" title="binder">lc_tgt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READY_TGT_THD:525" class="idref" href="#READY_TGT_THD:525"><span class="id" title="binder">READY_TGT_THD</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:520"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:508"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:522"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:523"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:524"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="st_src:526" class="idref" href="#st_src:526"><span class="id" title="binder">st_src</span></a> <a id="lc_src:527" class="idref" href="#lc_src:527"><span class="id" title="binder">lc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#tid:520"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:509"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:522"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:526"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:527"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state"><span class="id" title="inductive">rely_local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:503"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:504"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:522"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:505"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:507"><span class="id" title="variable">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:522"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:523"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:524"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:511"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:513"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:522"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:526"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:527"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:512"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:514"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="R_PROM_CONS_T:528" class="idref" href="#R_PROM_CONS_T:528"><span class="id" title="binder">R_PROM_CONS_T</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:524"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_THRD:537" class="idref" href="#CUR_THRD:537"><span class="id" title="binder">CUR_THRD</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:530" class="idref" href="#lang:530"><span class="id" title="binder">lang</span></a> <a id="st_tgt:531" class="idref" href="#st_tgt:531"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:532" class="idref" href="#lc_tgt:532"><span class="id" title="binder">lc_tgt</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_TGT_THRD:533" class="idref" href="#CUR_TGT_THRD:533"><span class="id" title="binder">CUR_TGT_THRD</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:510"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:508"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:530"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:531"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:532"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="st_src:534" class="idref" href="#st_src:534"><span class="id" title="binder">st_src</span></a> <a id="lc_src:535" class="idref" href="#lc_src:535"><span class="id" title="binder">lc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:510"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:509"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:530"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:534"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:535"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:503"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:504"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:530"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:505"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:507"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:530"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_tgt:531"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:532"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:511"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:513"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:530"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#st_src:534"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_src:535"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:512"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:514"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="C_PROM_CONS_T:536" class="idref" href="#C_PROM_CONS_T:536"><span class="id" title="binder">C_PROM_CONS_T</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lc_tgt:532"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONSISTENTS:538" class="idref" href="#CONSISTENTS:538"><span class="id" title="binder">CONSISTENTS</span></a>: <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.consistent"><span class="id" title="definition">NPConfiguration.consistent</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:508"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:510"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:511"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:513"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:540" class="idref" href="#SAFE:540"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:539" class="idref" href="#npc:539"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:509"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:510"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:512"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:514"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:539"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Configuration.html#Configuration.is_abort"><span class="id" title="definition">Configuration.is_abort</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:539"><span class="id" title="variable">npc</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WWRF:542" class="idref" href="#WWRF:542"><span class="id" title="binder">WWRF</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:541" class="idref" href="#npc:541"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:509"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:510"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:512"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:514"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:541"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc:541"><span class="id" title="variable">npc</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_TGT:543" class="idref" href="#WF_CONFIG_TGT:543"><span class="id" title="binder">WF_CONFIG_TGT</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_tgt:508"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:510"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:511"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:513"><span class="id" title="variable">mem_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_SRC:544" class="idref" href="#WF_CONFIG_SRC:544"><span class="id" title="binder">WF_CONFIG_SRC</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:509"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:510"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:512"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:514"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INV_OUT_ATM:545" class="idref" href="#INV_OUT_ATM:545"><span class="id" title="binder">INV_OUT_ATM</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:513"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:514"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:505"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:507"><span class="id" title="variable">inj</span></a> (<a class="idref" href="CompOptCert.LocalSim.html#Build_Rss"><span class="id" title="constructor">Build_Rss</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_tgt:511"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_tgt:513"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:512"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:514"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:546" class="idref" href="#MONOTONIC_INJ:546"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#inj:507"><span class="id" title="variable">inj</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc_src:547" class="idref" href="#npc_src:547"><span class="id" title="binder">npc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ths_src:509"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:510"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#sc_src:512"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#mem_src:514"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_src:547"><span class="id" title="variable">npc_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ww_RF.html#ww_race"><span class="id" title="inductive">ww_race</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:506"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#npc_src:547"><span class="id" title="variable">npc_src</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <span class="id" title="var">lo</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <span class="id" title="var">ths_tgt</span> <span class="id" title="var">ctid</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>))) <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">CUR_WILL_RACE</span> | <span class="id" title="var">CUR_WILL_NOT_RACE</span>].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_rf_preservation_aux_cur_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_race</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_WILL_RACE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#sound_np_aux_wwrace"><span class="id" title="lemma">sound_np_aux_wwrace</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_rf_preservation_aux_cur_not_race"><span class="id" title="lemma">ww_rf_preservation_aux_cur_not_race</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CTH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CUR_THRD</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CTH</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab209"></a><h2 class="section">Write-write race freedom preservation</h2>
 It depicts that, if
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">LOCAL_SIM</span></span>: local simulation holds;

</li>
<li> <span class="inlinecode"><span class="id" title="var">SAFE_NP_SRC</span></span>: source program is safe;

</li>
<li> <span class="inlinecode"><span class="id" title="var">WW_RF_NP_SRC</span></span>: source program is write-write race free;

</li>
</ul>
    then the target program is write-write race free. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ww_RF_preservation" class="idref" href="#ww_RF_preservation"><span class="id" title="lemma">ww_RF_preservation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lang:548" class="idref" href="#lang:548"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>) (<a id="index:549" class="idref" href="#index:549"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>) (<a id="index_order:550" class="idref" href="#index_order:550"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.wwRFPrsv.html#index:549"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:549"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="I:551" class="idref" href="#I:551"><span class="id" title="binder">I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Invariant"><span class="id" title="definition">Invariant</span></a>) (<a id="lo:552" class="idref" href="#lo:552"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="code_t:553" class="idref" href="#code_t:553"><span class="id" title="binder">code_t</span></a> <a id="code_s:554" class="idref" href="#code_s:554"><span class="id" title="binder">code_s</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.syntax"><span class="id" title="projection">Language.syntax</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:548"><span class="id" title="variable">lang</span></a>) (<a id="fs:555" class="idref" href="#fs:555"><span class="id" title="binder">fs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>) (<a id="ctid:556" class="idref" href="#ctid:556"><span class="id" title="binder">ctid</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:557" class="idref" href="#LOCAL_SIM:557"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim"><span class="id" title="record">local_sim</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index:549"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#index_order:550"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lang:548"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#I:551"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:552"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#code_t:553"><span class="id" title="variable">code_t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#code_s:554"><span class="id" title="variable">code_s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE_NP_SRC:558" class="idref" href="#SAFE_NP_SRC:558"><span class="id" title="binder">SAFE_NP_SRC</span></a>: <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.safe"><span class="id" title="inductive">NPConfiguration.safe</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:552"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#fs:555"><span class="id" title="variable">fs</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#code_s:554"><span class="id" title="variable">code_s</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:556"><span class="id" title="variable">ctid</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WW_RF_NP_SRC:559" class="idref" href="#WW_RF_NP_SRC:559"><span class="id" title="binder">WW_RF_NP_SRC</span></a>: <a class="idref" href="CompOptCert.ww_RF.html#ww_rf_np"><span class="id" title="definition">ww_rf_np</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:552"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#fs:555"><span class="id" title="variable">fs</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#code_s:554"><span class="id" title="variable">code_s</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:556"><span class="id" title="variable">ctid</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.ww_RF.html#ww_rf_np"><span class="id" title="definition">ww_rf_np</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#lo:552"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#fs:555"><span class="id" title="variable">fs</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#code_t:553"><span class="id" title="variable">code_t</span></a> <a class="idref" href="CompOptCert.wwRFPrsv.html#ctid:556"><span class="id" title="variable">ctid</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ww_RF.html#ww_rf_np"><span class="id" title="definition">ww_rf_np</span></a>. <span class="id" title="var">introv</span> <span class="id" title="var">ww_Race_np_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ww_RF.html#ww_rf_np"><span class="id" title="definition">ww_rf_np</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WW_RF_NP_SRC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WW_RF_NP_SRC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ww_Race_np_tgt</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">NPConfiguration.init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_t</span> <span class="id" title="var">ctid</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H_tgt_init</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">NPLOAD</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">t</span> <span class="id" title="var">to</span> <span class="id" title="var">c_tgt</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">H_src_init</span> : <span class="id" title="var">H_tgt_init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#cons_source_init_from_target_init_program"><span class="id" title="lemma">cons_source_init_from_target_init_program</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_src_init</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">c_src</span> &amp; <span class="id" title="var">H_src_init</span> &amp; <span class="id" title="var">Htgt_2_src</span> &amp; <span class="id" title="var">Hsrc_2_tgt</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c_tgt</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c_src</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">threads</span> <span class="id" title="var">to</span> <span class="id" title="var">ths_tgt</span>, <span class="id" title="var">sc</span> <span class="id" title="var">to</span> <span class="id" title="var">sc_tgt</span>, <span class="id" title="var">memory</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">threads0</span> <span class="id" title="var">to</span> <span class="id" title="var">ths_src</span>, <span class="id" title="var">sc0</span> <span class="id" title="var">to</span> <span class="id" title="var">sc_src</span>, <span class="id" title="var">memory0</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hctid</span>: <span class="id" title="var">tid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">tid0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H_tgt_init</span> <span class="id" title="var">H_src_init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Configuration.init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Threads.init"><span class="id" title="definition">Threads.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_t</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H_tgt_init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Threads.init"><span class="id" title="definition">Threads.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_s</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hctid</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#config_init_ths_sc_mem"><span class="id" title="lemma">config_init_ths_sc_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_tgt_init</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_tgt_init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_tgt_init</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hths_tgt_init</span> &amp; <span class="id" title="var">Hsc_tgt_init</span> &amp; <span class="id" title="var">Hmem_tgt_init</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#config_init_ths_sc_mem"><span class="id" title="lemma">config_init_ths_sc_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_src_init</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_src_init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_src_init</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hths_src_init</span> &amp; <span class="id" title="var">Hsc_src_init</span> &amp; <span class="id" title="var">Hmem_src_init</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NP_CONFIG_INIT</span>: <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.init"><span class="id" title="definition">NPConfiguration.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_s</span> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <span class="id" title="var">ths_src</span> <span class="id" title="var">ctid</span> <a class="idref" href="CompOptCert.View.html#TimeMap.bot"><span class="id" title="definition">TimeMap.bot</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.init"><span class="id" title="definition">Memory.init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hths_src_init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.init"><span class="id" title="definition">NPConfiguration.init</span></a>, <a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hths_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.wwRFPrsv.html#ww_RF_preservation_aux"><span class="id" title="lemma">ww_RF_preservation_aux</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ths_src</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <a class="idref" href="CompOptCert.View.html#TimeMap.bot"><span class="id" title="definition">TimeMap.bot</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <a class="idref" href="CompOptCert.Memory.html#Memory.init"><span class="id" title="definition">Memory.init</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hready_tid</span> <span class="id" title="var">Hready_th</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lang0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">lang</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hths_tgt_init</span> <span class="id" title="var">Hready_th</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#thread_init_same_lang"><span class="id" title="lemma">thread_init_same_lang</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hths_tgt_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Htgt_2_src</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hready_th</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hready_th</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st_src</span> &amp; <span class="id" title="var">lc_src</span> &amp; <span class="id" title="var">Hlc_tgt_init</span> &amp; <span class="id" title="var">Hlc_src_init</span> &amp; <span class="id" title="var">Hsrc_ready_th</span> &amp; <span class="id" title="var">Hlocal_sim_state</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsrc_ready_th</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_state_to_rely_local_sim_state"><span class="id" title="lemma">local_sim_state_to_rely_local_sim_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE_NP_SRC</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">SAFE_NP_SRC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SAFE_EXEC</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_CONFIG_INIT</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">NP_CONFIG_INIT</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>, <a class="idref" href="CompOptCert.Local.html#Local.init"><span class="id" title="definition">Local.init</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>, <a class="idref" href="CompOptCert.Local.html#Local.init"><span class="id" title="definition">Local.init</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hcur_th</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lang0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">lang</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hths_tgt_init</span> <span class="id" title="var">Hcur_th</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#thread_init_same_lang"><span class="id" title="lemma">thread_init_same_lang</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hths_tgt_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Htgt_2_src</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_th</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcur_th</span> <span class="id" title="keyword">as</span>(<span class="id" title="var">st_src</span> &amp; <span class="id" title="var">lc_src</span> &amp; <span class="id" title="var">Hlc_tgt_init</span> &amp; <span class="id" title="var">Hlc_src_init</span> &amp; <span class="id" title="var">Hsrc_cur_th</span> &amp; <span class="id" title="var">Hlocal_sim_state</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>, <a class="idref" href="CompOptCert.Local.html#Local.init"><span class="id" title="definition">Local.init</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.consistent"><span class="id" title="definition">NPConfiguration.consistent</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Configuration.html#Threads.consistent_nprm"><span class="id" title="definition">Threads.consistent_nprm</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lang0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">lang</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hths_tgt_init</span> <span class="id" title="var">TH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#thread_init_same_lang"><span class="id" title="lemma">thread_init_same_lang</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hths_tgt_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#thread_init_lc_init"><span class="id" title="lemma">thread_init_lc_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">fs</span> := <span class="id" title="var">fs</span>) (<span class="id" title="var">code</span> := <span class="id" title="var">code_t</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">TH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#sound_np_abort"><span class="id" title="lemma">sound_np_abort</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE_NP_SRC</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">SAFE_NP_SRC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SAFE_EXEC</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_CONFIG_INIT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hnp_abort</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnp_abort</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">Hrtc_steps</span> &amp; <span class="id" title="var">Habort</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#sound_np_aux_wwrf"><span class="id" title="lemma">sound_np_aux_wwrf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_init"><span class="id" title="lemma">wf_config_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">fs</span> := <span class="id" title="var">fs</span>) (<span class="id" title="var">code</span> := <span class="id" title="var">code_s</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">NPConfiguration.init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_s</span> <span class="id" title="var">ctid</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">NP_CONFIG_INIT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WW_RF_NP_SRC</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">ww_rf_np</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Haux_ww_race</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">WW_RF_NP_SRC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Haux_ww_race</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">Hrtc</span> &amp; <span class="id" title="var">Haux_ww_race</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hrtc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_init"><span class="id" title="lemma">wf_config_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">fs</span> := <span class="id" title="var">fs</span>) (<span class="id" title="var">code</span> := <span class="id" title="var">code_t</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hths_tgt_init</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_init"><span class="id" title="lemma">wf_config_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">fs</span> := <span class="id" title="var">fs</span>) (<span class="id" title="var">code</span> := <span class="id" title="var">code_s</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hths_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_init"><span class="id" title="lemma">Mem_at_eq_init</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a>. <span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#inj_init"><span class="id" title="definition">inj_init</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">INJ1</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">INJ2</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>