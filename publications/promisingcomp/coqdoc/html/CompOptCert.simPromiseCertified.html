<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.simPromiseCertified</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.simPromiseCertified</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.sflib.html#"><span class="id" title="library">sflib</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Axioms.html#"><span class="id" title="library">Axioms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Basic.html#"><span class="id" title="library">Basic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DataStructure.html#"><span class="id" title="library">DataStructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Loc.html#"><span class="id" title="library">Loc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Language.html#"><span class="id" title="library">Language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Time.html#"><span class="id" title="library">Time</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Event.html#"><span class="id" title="library">Event</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.View.html#"><span class="id" title="library">View</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Cell.html#"><span class="id" title="library">Cell</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Memory.html#"><span class="id" title="library">Memory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.TView.html#"><span class="id" title="library">TView</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Local.html#"><span class="id" title="library">Local</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Thread.html#"><span class="id" title="library">Thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPThread.html#"><span class="id" title="library">NPThread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Configuration.html#"><span class="id" title="library">Configuration</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MsgMapping.html#"><span class="id" title="library">MsgMapping</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DelaySet.html#"><span class="id" title="library">DelaySet</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPConfiguration.html#"><span class="id" title="library">NPConfiguration</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.LocalSim.html#"><span class="id" title="library">LocalSim</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ww_RF.html#"><span class="id" title="library">ww_RF</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.LibTactics.html#"><span class="id" title="library">LibTactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#"><span class="id" title="library">ConfigInitLemmas</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#"><span class="id" title="library">CompThreadSteps</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.CompAuxDef.html#"><span class="id" title="library">CompAuxDef</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.WFConfig.html#"><span class="id" title="library">WFConfig</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Reordering.html#"><span class="id" title="library">Reordering</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#"><span class="id" title="library">ps_to_np_thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#"><span class="id" title="library">np_to_ps_thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MsgMapping.html#"><span class="id" title="library">MsgMapping</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.PromiseInjection.html#"><span class="id" title="library">PromiseInjection</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConsistentLemmas.html#"><span class="id" title="library">ConsistentLemmas</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConsistentProp.html#"><span class="id" title="library">ConsistentProp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemoryProps.html#"><span class="id" title="library">MemoryProps</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#"><span class="id" title="library">Mem_at_eq_lemmas</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#"><span class="id" title="library">ps_to_np_thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#"><span class="id" title="library">np_to_ps_thread</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#"><span class="id" title="library">PromiseConsistent</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#"><span class="id" title="library">PromiseInjectionWeak</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.promiseCertifiedAux.html#"><span class="id" title="library">promiseCertifiedAux</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_closed_addition_rsv" class="idref" href="#memory_closed_addition_rsv"><span class="id" title="lemma">memory_closed_addition_rsv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="mem:1" class="idref" href="#mem:1"><span class="id" title="binder">mem</span></a> <a id="mem':2" class="idref" href="#mem':2"><span class="id" title="binder">mem'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:3" class="idref" href="#MEM_CLOSED:3"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:1"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_LE:4" class="idref" href="#MEM_LE:4"><span class="id" title="binder">MEM_LE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:1"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem':2"><span class="id" title="variable">mem'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MORE_RESERVE:9" class="idref" href="#MORE_RESERVE:9"><span class="id" title="binder">MORE_RESERVE</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="loc:5" class="idref" href="#loc:5"><span class="id" title="binder">loc</span></a> <a id="to:6" class="idref" href="#to:6"><span class="id" title="binder">to</span></a> <a id="from:7" class="idref" href="#from:7"><span class="id" title="binder">from</span></a> <a id="msg:8" class="idref" href="#msg:8"><span class="id" title="binder">msg</span></a>, <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:5"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:6"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:1"><span class="id" title="variable">mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:5"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:6"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem':2"><span class="id" title="variable">mem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:7"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:8"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#msg:8"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem':2"><span class="id" title="variable">mem'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM_CLOSED</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <span class="id" title="var">mem</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">MEM_LE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">MSG</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>. <span class="id" title="var">inv</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">CLOSED</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#message_closed_rsv_concrete_prsv"><span class="id" title="lemma">message_closed_rsv_concrete_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">MORE_RESERVE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">econs</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="aux_ww_race_to_thrd_ww_race" class="idref" href="#aux_ww_race_to_thrd_ww_race"><span class="id" title="lemma">aux_ww_race_to_thrd_ww_race</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:10" class="idref" href="#lang:10"><span class="id" title="binder">lang</span></a> <a id="lo:11" class="idref" href="#lo:11"><span class="id" title="binder">lo</span></a> <a id="pc:12" class="idref" href="#pc:12"><span class="id" title="binder">pc</span></a> <a id="st:13" class="idref" href="#st:13"><span class="id" title="binder">st</span></a> <a id="lc:14" class="idref" href="#lc:14"><span class="id" title="binder">lc</span></a> <a id="e':15" class="idref" href="#e':15"><span class="id" title="binder">e'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="AUX_WW_RACE:16" class="idref" href="#AUX_WW_RACE:16"><span class="id" title="binder">AUX_WW_RACE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:11"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pc:12"><span class="id" title="variable">pc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TH:17" class="idref" href="#TH:17"><span class="id" title="binder">TH</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.tid"><span class="id" title="projection">Configuration.tid</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pc:12"><span class="id" title="variable">pc</span></a>) (<a class="idref" href="CompOptCert.Configuration.html#Configuration.threads"><span class="id" title="projection">Configuration.threads</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pc:12"><span class="id" title="variable">pc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:10"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:13"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:14"><span class="id" title="variable">lc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEPS:18" class="idref" href="#STEPS:18"><span class="id" title="binder">STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:10"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:11"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:10"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:13"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:14"><span class="id" title="variable">lc</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.sc"><span class="id" title="projection">Configuration.sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pc:12"><span class="id" title="variable">pc</span></a>) (<a class="idref" href="CompOptCert.Configuration.html#Configuration.memory"><span class="id" title="projection">Configuration.memory</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pc:12"><span class="id" title="variable">pc</span></a>)) <a class="idref" href="CompOptCert.simPromiseCertified.html#e':15"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONFIG_WF:19" class="idref" href="#CONFIG_WF:19"><span class="id" title="binder">CONFIG_WF</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pc:12"><span class="id" title="variable">pc</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> @<a class="idref" href="CompOptCert.ww_RF.html#thrd_ww_race"><span class="id" title="inductive">thrd_ww_race</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:10"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:11"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e':15"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pc</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">AUX_WW_RACE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">STEPS'</span>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <span class="id" title="var">lo</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st</span> <span class="id" title="var">lc</span> <span class="id" title="var">sc</span> <span class="id" title="var">memory</span>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st'</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc'</span> <span class="id" title="var">mem'</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_thread_steps_prsv"><span class="id" title="lemma">wf_config_rtc_thread_steps_prsv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">TH</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS0</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">tid</span> := <span class="id" title="var">tid</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="thrd_ww_race_cap_prsv'" class="idref" href="#thrd_ww_race_cap_prsv'"><span class="id" title="lemma">thrd_ww_race_cap_prsv'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:20" class="idref" href="#n:20"><span class="id" title="binder">n</span></a> <a id="lang:21" class="idref" href="#lang:21"><span class="id" title="binder">lang</span></a> <a id="lo:22" class="idref" href="#lo:22"><span class="id" title="binder">lo</span></a> <a id="st:23" class="idref" href="#st:23"><span class="id" title="binder">st</span></a> <a id="lc:24" class="idref" href="#lc:24"><span class="id" title="binder">lc</span></a> <a id="sc:25" class="idref" href="#sc:25"><span class="id" title="binder">sc</span></a> <a id="mem:26" class="idref" href="#mem:26"><span class="id" title="binder">mem</span></a> <a id="mem_c:27" class="idref" href="#mem_c:27"><span class="id" title="binder">mem_c</span></a> <a id="st':28" class="idref" href="#st':28"><span class="id" title="binder">st'</span></a> <a id="lc':29" class="idref" href="#lc':29"><span class="id" title="binder">lc'</span></a> <a id="sc':30" class="idref" href="#sc':30"><span class="id" title="binder">sc'</span></a> <a id="mem_c':31" class="idref" href="#mem_c':31"><span class="id" title="binder">mem_c'</span></a> <a id="stw:32" class="idref" href="#stw:32"><span class="id" title="binder">stw</span></a> <a id="loc:33" class="idref" href="#loc:33"><span class="id" title="binder">loc</span></a> <a id="val:34" class="idref" href="#val:34"><span class="id" title="binder">val</span></a> <a id="from:35" class="idref" href="#from:35"><span class="id" title="binder">from</span></a> <a id="to:36" class="idref" href="#to:36"><span class="id" title="binder">to</span></a> <a id="val':37" class="idref" href="#val':37"><span class="id" title="binder">val'</span></a> <a id="R':38" class="idref" href="#R':38"><span class="id" title="binder">R'</span></a> <a id="e_c':39" class="idref" href="#e_c':39"><span class="id" title="binder">e_c'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEPS_TO_RACE:40" class="idref" href="#STEPS_TO_RACE:40"><span class="id" title="binder">STEPS_TO_RACE</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:22"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#n:20"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:21"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:23"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:24"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:25"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:27"><span class="id" title="variable">mem_c</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:21"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st':28"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc':29"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc':30"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c':31"><span class="id" title="variable">mem_c'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE:41" class="idref" href="#WRITE:41"><span class="id" title="binder">WRITE</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:21"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:33"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:34"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#st':28"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#stw:32"><span class="id" title="variable">stw</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE_MSG:42" class="idref" href="#RACE_MSG:42"><span class="id" title="binder">RACE_MSG</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:33"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:36"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c':31"><span class="id" title="variable">mem_c'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:35"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val':37"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#R':38"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_PROM:43" class="idref" href="#NOT_PROM:43"><span class="id" title="binder">NOT_PROM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:33"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:36"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc':29"><span class="id" title="variable">lc'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RACE:44" class="idref" href="#RACE:44"><span class="id" title="binder">RACE</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.View.html#View.rlx"><span class="id" title="projection">View.rlx</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc':29"><span class="id" title="variable">lc'</span></a>)) <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:33"><span class="id" title="variable">loc</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#to:36"><span class="id" title="variable">to</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:45" class="idref" href="#FULFILL:45"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:21"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:22"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:21"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st':28"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc':29"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc':30"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c':31"><span class="id" title="variable">mem_c'</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e_c':39"><span class="id" title="variable">e_c'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:46" class="idref" href="#BOT:46"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e_c':39"><span class="id" title="variable">e_c'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_LE:47" class="idref" href="#MEM_LE:47"><span class="id" title="binder">MEM_LE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:26"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:27"><span class="id" title="variable">mem_c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MORE_RESERVE:52" class="idref" href="#MORE_RESERVE:52"><span class="id" title="binder">MORE_RESERVE</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="loc:48" class="idref" href="#loc:48"><span class="id" title="binder">loc</span></a> <a id="to:49" class="idref" href="#to:49"><span class="id" title="binder">to</span></a> <a id="from:50" class="idref" href="#from:50"><span class="id" title="binder">from</span></a> <a id="msg:51" class="idref" href="#msg:51"><span class="id" title="binder">msg</span></a>, <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:48"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:49"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:26"><span class="id" title="variable">mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:48"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:49"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:27"><span class="id" title="variable">mem_c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:50"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:51"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#msg:51"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PRM_LE:53" class="idref" href="#PRM_LE:53"><span class="id" title="binder">PRM_LE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:24"><span class="id" title="variable">lc</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:26"><span class="id" title="variable">mem</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="mem':54" class="idref" href="#mem':54"><span class="id" title="binder">mem'</span></a> <a id="e':55" class="idref" href="#e':55"><span class="id" title="binder">e'</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:22"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:21"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:23"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:24"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:25"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:26"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:21"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st':28"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc':29"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc':30"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem':54"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:33"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:36"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem':54"><span class="id" title="variable">mem'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:35"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val':37"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#R':38"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:21"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:22"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:21"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st':28"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc':29"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc':30"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem':54"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e':55"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e':55"><span class="id" title="variable">e'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">STEPS_TO_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#fulfill_cap"><span class="id" title="lemma">fulfill_cap</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#memory_additional_rsv_concrete_prsv"><span class="id" title="lemma">memory_additional_rsv_concrete_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">STEPS_TO_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#all_step_cap_prsv"><span class="id" title="lemma">all_step_cap_prsv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">A12</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="thrd_ww_race_cap_prsv" class="idref" href="#thrd_ww_race_cap_prsv"><span class="id" title="lemma">thrd_ww_race_cap_prsv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:56" class="idref" href="#lang:56"><span class="id" title="binder">lang</span></a> <a id="lo:57" class="idref" href="#lo:57"><span class="id" title="binder">lo</span></a> <a id="st:58" class="idref" href="#st:58"><span class="id" title="binder">st</span></a> <a id="lc:59" class="idref" href="#lc:59"><span class="id" title="binder">lc</span></a> <a id="sc:60" class="idref" href="#sc:60"><span class="id" title="binder">sc</span></a> <a id="mem:61" class="idref" href="#mem:61"><span class="id" title="binder">mem</span></a> <a id="mem_c:62" class="idref" href="#mem_c:62"><span class="id" title="binder">mem_c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="THRD_WW_RACE_CAP:63" class="idref" href="#THRD_WW_RACE_CAP:63"><span class="id" title="binder">THRD_WW_RACE_CAP</span></a>: @<a class="idref" href="CompOptCert.ww_RF.html#thrd_ww_race"><span class="id" title="inductive">thrd_ww_race</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:56"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:57"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:56"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:58"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:59"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:60"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:62"><span class="id" title="variable">mem_c</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_LE:64" class="idref" href="#MEM_LE:64"><span class="id" title="binder">MEM_LE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:61"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:62"><span class="id" title="variable">mem_c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MORE_RESERVE:69" class="idref" href="#MORE_RESERVE:69"><span class="id" title="binder">MORE_RESERVE</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="loc:65" class="idref" href="#loc:65"><span class="id" title="binder">loc</span></a> <a id="to:66" class="idref" href="#to:66"><span class="id" title="binder">to</span></a> <a id="from:67" class="idref" href="#from:67"><span class="id" title="binder">from</span></a> <a id="msg:68" class="idref" href="#msg:68"><span class="id" title="binder">msg</span></a>, <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:65"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:66"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:61"><span class="id" title="variable">mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:65"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:66"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:62"><span class="id" title="variable">mem_c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:67"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:68"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#msg:68"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PRM_LE:70" class="idref" href="#PRM_LE:70"><span class="id" title="binder">PRM_LE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:59"><span class="id" title="variable">lc</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:61"><span class="id" title="variable">mem</span></a>):<br/>
&nbsp;&nbsp;@<a class="idref" href="CompOptCert.ww_RF.html#thrd_ww_race"><span class="id" title="inductive">thrd_ww_race</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:56"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:57"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:56"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:58"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:59"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:60"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:61"><span class="id" title="variable">mem</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">THRD_WW_RACE_CAP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#thrd_ww_race_cap_prsv'"><span class="id" title="lemma">thrd_ww_race_cap_prsv'</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
local sim to promise certified preserving 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="at_CAP_MEM" class="idref" href="#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> (<a id="mem1:71" class="idref" href="#mem1:71"><span class="id" title="binder">mem1</span></a> <a id="mem2:72" class="idref" href="#mem2:72"><span class="id" title="binder">mem2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a>) (<a id="lo:73" class="idref" href="#lo:73"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>) : <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="loc:74" class="idref" href="#loc:74"><span class="id" title="binder">loc</span></a> ⇒ <span class="id" title="keyword">match</span> (<a class="idref" href="CompOptCert.simPromiseCertified.html#lo:73"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:74"><span class="id" title="variable">loc</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CompOptCert.Event.html#Ordering.atomic"><span class="id" title="constructor">Ordering.atomic</span></a> ⇒ <a class="idref" href="CompOptCert.simPromiseCertified.html#mem2:72"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:74"><span class="id" title="variable">loc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="CompOptCert.Event.html#Ordering.nonatomic"><span class="id" title="constructor">Ordering.nonatomic</span></a> ⇒ <a class="idref" href="CompOptCert.simPromiseCertified.html#mem1:71"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:74"><span class="id" title="variable">loc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="at_CAP_MEM_mem_le" class="idref" href="#at_CAP_MEM_mem_le"><span class="id" title="lemma">at_CAP_MEM_mem_le</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="mem:75" class="idref" href="#mem:75"><span class="id" title="binder">mem</span></a> <a id="mem1:76" class="idref" href="#mem1:76"><span class="id" title="binder">mem1</span></a> <a id="mem2:77" class="idref" href="#mem2:77"><span class="id" title="binder">mem2</span></a> <a id="lo:78" class="idref" href="#lo:78"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LE1:79" class="idref" href="#LE1:79"><span class="id" title="binder">LE1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:75"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem1:76"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LE2:80" class="idref" href="#LE2:80"><span class="id" title="binder">LE2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:75"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem2:77"><span class="id" title="variable">mem2</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:75"><span class="id" title="variable">mem</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem1:76"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem2:77"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:78"><span class="id" title="variable">lo</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Mem_at_eq_at_CAP_MEM" class="idref" href="#Mem_at_eq_at_CAP_MEM"><span class="id" title="lemma">Mem_at_eq_at_CAP_MEM</span></a><br/>
&nbsp;&nbsp;<a id="lo:81" class="idref" href="#lo:81"><span class="id" title="binder">lo</span></a> <a id="mem:82" class="idref" href="#mem:82"><span class="id" title="binder">mem</span></a> <a id="mem0:83" class="idref" href="#mem0:83"><span class="id" title="binder">mem0</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:81"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:82"><span class="id" title="variable">mem</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem0:83"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:82"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:81"><span class="id" title="variable">lo</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_approxEq_loc"><span class="id" title="definition">Mem_approxEq_loc</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">ii</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">ii</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Mem_at_eq_at_CAP_MEM2" class="idref" href="#Mem_at_eq_at_CAP_MEM2"><span class="id" title="lemma">Mem_at_eq_at_CAP_MEM2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lo:84" class="idref" href="#lo:84"><span class="id" title="binder">lo</span></a> <a id="mem_tgt:85" class="idref" href="#mem_tgt:85"><span class="id" title="binder">mem_tgt</span></a> <a id="mem_src:86" class="idref" href="#mem_src:86"><span class="id" title="binder">mem_src</span></a> <a id="mem:87" class="idref" href="#mem:87"><span class="id" title="binder">mem</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_AT_EQ:88" class="idref" href="#MEM_AT_EQ:88"><span class="id" title="binder">MEM_AT_EQ</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:84"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:85"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:86"><span class="id" title="variable">mem_src</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:84"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:85"><span class="id" title="variable">mem_tgt</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:87"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:86"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:84"><span class="id" title="variable">lo</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">MEM_AT_EQ</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">MEM_AT_EQ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_approxEq_loc"><span class="id" title="definition">Mem_approxEq_loc</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="memory_concrete_le_at_CAP_MEM" class="idref" href="#memory_concrete_le_at_CAP_MEM"><span class="id" title="lemma">memory_concrete_le_at_CAP_MEM</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="mem:89" class="idref" href="#mem:89"><span class="id" title="binder">mem</span></a> <a id="mem1:90" class="idref" href="#mem1:90"><span class="id" title="binder">mem1</span></a> <a id="mem2:91" class="idref" href="#mem2:91"><span class="id" title="binder">mem2</span></a> <a id="lo:92" class="idref" href="#lo:92"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_C_LE1:93" class="idref" href="#MEM_C_LE1:93"><span class="id" title="binder">MEM_C_LE1</span></a>: <a class="idref" href="CompOptCert.MemoryProps.html#memory_concrete_le"><span class="id" title="definition">memory_concrete_le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:89"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem1:90"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_C_LE2:94" class="idref" href="#MEM_C_LE2:94"><span class="id" title="binder">MEM_C_LE2</span></a>: <a class="idref" href="CompOptCert.MemoryProps.html#memory_concrete_le"><span class="id" title="definition">memory_concrete_le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:89"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem2:91"><span class="id" title="variable">mem2</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.MemoryProps.html#memory_concrete_le"><span class="id" title="definition">memory_concrete_le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:89"><span class="id" title="variable">mem</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem1:90"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem2:91"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:92"><span class="id" title="variable">lo</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_concrete_le"><span class="id" title="definition">memory_concrete_le</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>); <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="rel_promises_TBOT" class="idref" href="#rel_promises_TBOT"><span class="id" title="inductive">rel_promises_TBOT</span></a> {<a id="index:95" class="idref" href="#index:95"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>} (<a id="inj:96" class="idref" href="#inj:96"><span class="id" title="binder">inj</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#Mapping"><span class="id" title="definition">Mapping</span></a>) (<a id="pdset:97" class="idref" href="#pdset:97"><span class="id" title="binder">pdset</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:95"><span class="id" title="variable">index</span></a>) (<a id="prm_src:98" class="idref" href="#prm_src:98"><span class="id" title="binder">prm_src</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a>) :=<br/>
| <a id="rel_promises_intro" class="idref" href="#rel_promises_intro"><span class="id" title="constructor">rel_promises_intro</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SOUND1:108" class="idref" href="#SOUND1:108"><span class="id" title="binder">SOUND1</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:101" class="idref" href="#loc:101"><span class="id" title="binder">loc</span></a> <a id="t:102" class="idref" href="#t:102"><span class="id" title="binder">t</span></a> <a id="i:103" class="idref" href="#i:103"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:101"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:102"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:97"><span class="id" title="variable">pdset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:103"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">∃</span></a> <a id="t':104" class="idref" href="#t':104"><span class="id" title="binder">t'</span></a> <a id="f':105" class="idref" href="#f':105"><span class="id" title="binder">f'</span></a> <a id="val':106" class="idref" href="#val':106"><span class="id" title="binder">val'</span></a> <a id="R':107" class="idref" href="#R':107"><span class="id" title="binder">R'</span></a><a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#inj:96"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:101"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:102"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t':104"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a>  <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:101"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t':104"><span class="id" title="variable">t'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#prm_src:98"><span class="id" title="variable">prm_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#f':105"><span class="id" title="variable">f'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val':106"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#R':107"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="COMPLETE:116" class="idref" href="#COMPLETE:116"><span class="id" title="binder">COMPLETE</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:109" class="idref" href="#loc:109"><span class="id" title="binder">loc</span></a> <a id="f':110" class="idref" href="#f':110"><span class="id" title="binder">f'</span></a> <a id="t':111" class="idref" href="#t':111"><span class="id" title="binder">t'</span></a> <a id="val':112" class="idref" href="#val':112"><span class="id" title="binder">val'</span></a> <a id="R':113" class="idref" href="#R':113"><span class="id" title="binder">R'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:109"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t':111"><span class="id" title="variable">t'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#prm_src:98"><span class="id" title="variable">prm_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#f':110"><span class="id" title="variable">f'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val':112"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#R':113"><span class="id" title="variable">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="t:114" class="idref" href="#t:114"><span class="id" title="binder">t</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:96"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:109"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:114"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t':111"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="i:115" class="idref" href="#i:115"><span class="id" title="binder">i</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:109"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:114"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:97"><span class="id" title="variable">pdset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a>  <a class="idref" href="CompOptCert.simPromiseCertified.html#i:115"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="finite_dset" class="idref" href="#finite_dset"><span class="id" title="definition">finite_dset</span></a> {<a id="index:117" class="idref" href="#index:117"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>} (<a id="dset:118" class="idref" href="#dset:118"><span class="id" title="binder">dset</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:117"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ls:119" class="idref" href="#ls:119"><span class="id" title="binder">ls</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CompOptCert.Loc.html#Loc.t"><span class="id" title="definition">Loc.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.Time.html#Time.t"><span class="id" title="definition">Time.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:117"><span class="id" title="variable">index</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="loc:120" class="idref" href="#loc:120"><span class="id" title="binder">loc</span></a> <a id="t:121" class="idref" href="#t:121"><span class="id" title="binder">t</span></a> <a id="i:122" class="idref" href="#i:122"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:120"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:121"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset:118"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:122"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:120"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:121"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:122"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:119"><span class="id" title="variable">ls</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="no_Dup_ls_dset" class="idref" href="#no_Dup_ls_dset"><span class="id" title="definition">no_Dup_ls_dset</span></a> {<a id="index:123" class="idref" href="#index:123"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>} (<a id="dset:124" class="idref" href="#dset:124"><span class="id" title="binder">dset</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:123"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ls:125" class="idref" href="#ls:125"><span class="id" title="binder">ls</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CompOptCert.Loc.html#Loc.t"><span class="id" title="definition">Loc.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.Time.html#Time.t"><span class="id" title="definition">Time.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:123"><span class="id" title="variable">index</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="loc:126" class="idref" href="#loc:126"><span class="id" title="binder">loc</span></a> <a id="t:127" class="idref" href="#t:127"><span class="id" title="binder">t</span></a> <a id="i:128" class="idref" href="#i:128"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:126"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:127"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:128"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:125"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:126"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:127"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset:124"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:128"><span class="id" title="variable">i</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="no_Dup_ls" class="idref" href="#no_Dup_ls"><span class="id" title="definition">no_Dup_ls</span></a> {<a id="index:129" class="idref" href="#index:129"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>} (<a id="ls:130" class="idref" href="#ls:130"><span class="id" title="binder">ls</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CompOptCert.Loc.html#Loc.t"><span class="id" title="definition">Loc.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.Time.html#Time.t"><span class="id" title="definition">Time.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:129"><span class="id" title="variable">index</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="loc:131" class="idref" href="#loc:131"><span class="id" title="binder">loc</span></a> <a id="t:132" class="idref" href="#t:132"><span class="id" title="binder">t</span></a> <a id="i:133" class="idref" href="#i:133"><span class="id" title="binder">i</span></a> <a id="j:134" class="idref" href="#j:134"><span class="id" title="binder">j</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:131"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:132"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:133"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:130"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:131"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:132"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:134"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:130"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#i:133"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:134"><span class="id" title="variable">j</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_promises_convert_to_list'" class="idref" href="#finite_promises_convert_to_list'"><span class="id" title="lemma">finite_promises_convert_to_list'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="promises:135" class="idref" href="#promises:135"><span class="id" title="binder">promises</span></a> <a id="index:136" class="idref" href="#index:136"><span class="id" title="binder">index</span></a> <a id="inj:137" class="idref" href="#inj:137"><span class="id" title="binder">inj</span></a> <a id="pdset:138" class="idref" href="#pdset:138"><span class="id" title="binder">pdset</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FINITE_MEM:139" class="idref" href="#FINITE_MEM:139"><span class="id" title="binder">FINITE_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.finite"><span class="id" title="definition">Memory.finite</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#promises:135"><span class="id" title="variable">promises</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL_PROM_BOT:140" class="idref" href="#REL_PROM_BOT:140"><span class="id" title="binder">REL_PROM_BOT</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#rel_promises_TBOT"><span class="id" title="inductive">rel_promises_TBOT</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:137"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:138"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#promises:135"><span class="id" title="variable">promises</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC:141" class="idref" href="#MONOTONIC:141"><span class="id" title="binder">MONOTONIC</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:137"><span class="id" title="variable">inj</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="ls:142" class="idref" href="#ls:142"><span class="id" title="binder">ls</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> @<a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset"><span class="id" title="definition">finite_dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:136"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:138"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:142"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> @<a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls_dset"><span class="id" title="definition">no_Dup_ls_dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:136"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:138"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:142"><span class="id" title="variable">ls</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.finite"><span class="id" title="definition">Memory.finite</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">promises</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">pdset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">inj</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">index</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">dom</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">∃</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> (<a class="idref" href="CompOptCert.Loc.html#Loc.t"><span class="id" title="definition">Loc.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.Time.html#Time.t"><span class="id" title="definition">Time.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <span class="id" title="var">index</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset"><span class="id" title="definition">finite_dset</span></a>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">REL_PROM_BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">FINITE_MEM</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls_dset"><span class="id" title="definition">no_Dup_ls_dset</span></a>. <span class="id" title="var">ii</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="var">renames</span> <span class="id" title="var">t</span> <span class="id" title="var">to</span> <span class="id" title="var">loc0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t0</span> <span class="id" title="var">promises</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">f0</span> &amp; <span class="id" title="var">msg0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="keyword">∀</span> <a id="loc:147" class="idref" href="#loc:147"><span class="id" title="binder">loc</span></a> <a id="from:148" class="idref" href="#from:148"><span class="id" title="binder">from</span></a> <a id="to:149" class="idref" href="#to:149"><span class="id" title="binder">to</span></a> <a id="msg:150" class="idref" href="#msg:150"><span class="id" title="binder">msg</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:143"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:145"><span class="id" title="variable">to</span></a> <span class="id" title="var">mem2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:144"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:146"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:143"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:145"><span class="id" title="variable">to</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">dom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">FINITE_MEM</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">FINITE_MEM</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">REL_PROM_BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdom</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">pdset</span> := <a class="idref" href="CompOptCert.DelaySet.html#dset_remove"><span class="id" title="definition">dset_remove</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">pdset</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := <span class="id" title="var">inj</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ls</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset"><span class="id" title="definition">finite_dset</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t1</span> (<a class="idref" href="CompOptCert.DelaySet.html#dset_remove"><span class="id" title="definition">dset_remove</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t</span> <span class="id" title="var">pdset</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">REMOVE_GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">REMOVE_GET'</span>: <span class="id" title="var">REMOVE_GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_remove"><span class="id" title="definition">dset_remove</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">REMOVE_GET'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.grs"><span class="id" title="lemma">DenseOrder.DOMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gro"><span class="id" title="lemma">DenseOrder.DOMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">REMOVE_GET'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">REMOVE_GET'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">REMOVE_GET'</span>: <span class="id" title="var">REMOVE_GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_remove"><span class="id" title="definition">dset_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">REMOVE_GET'</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">x1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gro"><span class="id" title="lemma">DenseOrder.DOMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET'</span>. <span class="id" title="var">inv</span> <span class="id" title="var">REMOVE_GET'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET'</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls_dset"><span class="id" title="definition">no_Dup_ls_dset</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls_dset"><span class="id" title="definition">no_Dup_ls_dset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_remove"><span class="id" title="definition">dset_remove</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.eq_dec"><span class="id" title="axiom">Time.eq_dec</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.grs"><span class="id" title="lemma">DenseOrder.DOMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gro"><span class="id" title="lemma">DenseOrder.DOMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">REMOVE_GET</span>: <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_remove"><span class="id" title="definition">dset_remove</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">REMOVE_GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.grs"><span class="id" title="lemma">DenseOrder.DOMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gro"><span class="id" title="lemma">DenseOrder.DOMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t'</span> <span class="id" title="var">f'</span> <span class="id" title="var">val'</span> <span class="id" title="var">R'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj_implies_disj_mapping"><span class="id" title="lemma">monotonic_inj_implies_disj_mapping</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">MONOTONIC</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_GET</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">n</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_GET</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t'</span> <span class="id" title="var">f'</span> <span class="id" title="var">val'</span> <span class="id" title="var">R'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_remove"><span class="id" title="definition">dset_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_remove"><span class="id" title="definition">dset_remove</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">x2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gro"><span class="id" title="lemma">DenseOrder.DOMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdom</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">REL_PROM_BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t'</span> <span class="id" title="var">f'</span> <span class="id" title="var">val'</span> <span class="id" title="var">R'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="keyword">∀</span> <a id="loc:155" class="idref" href="#loc:155"><span class="id" title="binder">loc</span></a> <a id="from:156" class="idref" href="#from:156"><span class="id" title="binder">from</span></a> <a id="to:157" class="idref" href="#to:157"><span class="id" title="binder">to</span></a> <a id="msg:158" class="idref" href="#msg:158"><span class="id" title="binder">msg</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:151"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:153"><span class="id" title="variable">to</span></a> <span class="id" title="var">promises</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:152"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:154"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:151"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:153"><span class="id" title="variable">to</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">dom</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">FINITE_MEM</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_promises_convert_to_list" class="idref" href="#finite_promises_convert_to_list"><span class="id" title="lemma">finite_promises_convert_to_list</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="promises:159" class="idref" href="#promises:159"><span class="id" title="binder">promises</span></a> <a id="index:160" class="idref" href="#index:160"><span class="id" title="binder">index</span></a> <a id="inj:161" class="idref" href="#inj:161"><span class="id" title="binder">inj</span></a> <a id="pdset:162" class="idref" href="#pdset:162"><span class="id" title="binder">pdset</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FINITE_MEM:163" class="idref" href="#FINITE_MEM:163"><span class="id" title="binder">FINITE_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.finite"><span class="id" title="definition">Memory.finite</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#promises:159"><span class="id" title="variable">promises</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL_PROM_BOT:164" class="idref" href="#REL_PROM_BOT:164"><span class="id" title="binder">REL_PROM_BOT</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#rel_promises_TBOT"><span class="id" title="inductive">rel_promises_TBOT</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:161"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:162"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#promises:159"><span class="id" title="variable">promises</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC:165" class="idref" href="#MONOTONIC:165"><span class="id" title="binder">MONOTONIC</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:161"><span class="id" title="variable">inj</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="ls:166" class="idref" href="#ls:166"><span class="id" title="binder">ls</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> @<a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset"><span class="id" title="definition">finite_dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:160"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:162"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:166"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> @<a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls"><span class="id" title="definition">no_Dup_ls</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:160"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:166"><span class="id" title="variable">ls</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_promises_convert_to_list'"><span class="id" title="lemma">finite_promises_convert_to_list'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls"><span class="id" title="definition">no_Dup_ls</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls_dset"><span class="id" title="definition">no_Dup_ls_dset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="dset_init_rel_promises_implies_only_reserve" class="idref" href="#dset_init_rel_promises_implies_only_reserve"><span class="id" title="lemma">dset_init_rel_promises_implies_only_reserve</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:167" class="idref" href="#index:167"><span class="id" title="binder">index</span></a> <a id="inj:168" class="idref" href="#inj:168"><span class="id" title="binder">inj</span></a> (<a id="pdset:169" class="idref" href="#pdset:169"><span class="id" title="binder">pdset</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:167"><span class="id" title="variable">index</span></a>) <a id="promises:170" class="idref" href="#promises:170"><span class="id" title="binder">promises</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL_PROMISES_TBOT:171" class="idref" href="#REL_PROMISES_TBOT:171"><span class="id" title="binder">REL_PROMISES_TBOT</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#rel_promises_TBOT"><span class="id" title="inductive">rel_promises_TBOT</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:168"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:169"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#promises:170"><span class="id" title="variable">promises</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="DSET_SUBSET:172" class="idref" href="#DSET_SUBSET:172"><span class="id" title="binder">DSET_SUBSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_subset"><span class="id" title="definition">dset_subset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:169"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="RSV:173" class="idref" href="#RSV:173"><span class="id" title="binder">RSV</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <span class="id" title="keyword">∀</span> <a id="loc:174" class="idref" href="#loc:174"><span class="id" title="binder">loc</span></a> <a id="to:175" class="idref" href="#to:175"><span class="id" title="binder">to</span></a> <a id="from:176" class="idref" href="#from:176"><span class="id" title="binder">from</span></a> <a id="msg:177" class="idref" href="#msg:177"><span class="id" title="binder">msg</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:174"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:175"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#promises:170"><span class="id" title="variable">promises</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:176"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:177"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#msg:177"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">REL_PROMISES_TBOT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">DSET_SUBSET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">x0</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gempty"><span class="id" title="lemma">DenseOrder.DOMap.gempty</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="only_reservations_fulfill" class="idref" href="#only_reservations_fulfill"><span class="id" title="lemma">only_reservations_fulfill</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:178" class="idref" href="#lang:178"><span class="id" title="binder">lang</span></a> <a id="lo:179" class="idref" href="#lo:179"><span class="id" title="binder">lo</span></a> <a id="st:180" class="idref" href="#st:180"><span class="id" title="binder">st</span></a> <a id="lc:181" class="idref" href="#lc:181"><span class="id" title="binder">lc</span></a> <a id="sc:182" class="idref" href="#sc:182"><span class="id" title="binder">sc</span></a> <a id="mem:183" class="idref" href="#mem:183"><span class="id" title="binder">mem</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ONLY_RSVs:188" class="idref" href="#ONLY_RSVs:188"><span class="id" title="binder">ONLY_RSVs</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:184" class="idref" href="#loc:184"><span class="id" title="binder">loc</span></a> <a id="to:185" class="idref" href="#to:185"><span class="id" title="binder">to</span></a> <a id="from:186" class="idref" href="#from:186"><span class="id" title="binder">from</span></a> <a id="msg:187" class="idref" href="#msg:187"><span class="id" title="binder">msg</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:184"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:185"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:181"><span class="id" title="variable">lc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:186"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:187"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#msg:187"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_FINITE:189" class="idref" href="#MEM_FINITE:189"><span class="id" title="binder">MEM_FINITE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.finite"><span class="id" title="definition">Memory.finite</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:181"><span class="id" title="variable">lc</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_LE:190" class="idref" href="#MEM_LE:190"><span class="id" title="binder">MEM_LE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:181"><span class="id" title="variable">lc</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:183"><span class="id" title="variable">mem</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':191" class="idref" href="#e_src':191"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step"><span class="id" title="inductive">no_scfence_nprm_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:178"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:179"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:178"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:180"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:181"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:182"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:183"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e_src':191"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e_src':191"><span class="id" title="variable">e_src'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.finite"><span class="id" title="definition">Memory.finite</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_FINITE</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">sc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">mem</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">dom</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">∃</span></a> <a id="loc:196" class="idref" href="#loc:196"><span class="id" title="binder">loc</span></a> <a id="to:197" class="idref" href="#to:197"><span class="id" title="binder">to</span></a> <a id="from:198" class="idref" href="#from:198"><span class="id" title="binder">from</span></a> <a id="msg:199" class="idref" href="#msg:199"><span class="id" title="binder">msg</span></a><a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:192"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:193"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:194"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:195"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_FINITE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.ext"><span class="id" title="lemma">Memory.ext</span></a>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">t</span> <span class="id" title="var">into</span> <span class="id" title="var">loc0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">t0</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">ONLY_RSVs</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">MEM_LE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_exists"><span class="id" title="lemma">Memory.remove_exists</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_LE'</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc</span>) <span class="id" title="var">mem2</span>)) <span class="id" title="var">mem0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#memory_remove_le_rsv_prsv"><span class="id" title="lemma">memory_remove_le_rsv_prsv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_LE</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_LE'</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_LE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">st</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_LE'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro2"><span class="id" title="constructor">no_scfence_nprm_step_intro2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.promise_cancel"><span class="id" title="constructor">Memory.promise_cancel</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_LE'</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">MEM_FINITE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">x1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">MEM_FINITE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">x1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHdom</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM_LE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">MEM_FINITE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="write_not_abort_progress" class="idref" href="#write_not_abort_progress"><span class="id" title="lemma">write_not_abort_progress</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:200" class="idref" href="#lang:200"><span class="id" title="binder">lang</span></a> <a id="loc:201" class="idref" href="#loc:201"><span class="id" title="binder">loc</span></a> <a id="val:202" class="idref" href="#val:202"><span class="id" title="binder">val</span></a> <a id="st:203" class="idref" href="#st:203"><span class="id" title="binder">st</span></a> <a id="st':204" class="idref" href="#st':204"><span class="id" title="binder">st'</span></a> <a id="lc:205" class="idref" href="#lc:205"><span class="id" title="binder">lc</span></a> <a id="sc:206" class="idref" href="#sc:206"><span class="id" title="binder">sc</span></a> <a id="mem:207" class="idref" href="#mem:207"><span class="id" title="binder">mem</span></a> <a id="lo:208" class="idref" href="#lo:208"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_WRITE:209" class="idref" href="#NA_WRITE:209"><span class="id" title="binder">NA_WRITE</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:200"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:201"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:202"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#st:203"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st':204"><span class="id" title="variable">st'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ORD_MATCH:210" class="idref" href="#ORD_MATCH:210"><span class="id" title="binder">ORD_MATCH</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:208"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:201"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.nonatomic"><span class="id" title="constructor">Ordering.nonatomic</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:211" class="idref" href="#LOCAL_WF:211"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:205"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:207"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:212" class="idref" href="#MEM_CLOSED:212"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:207"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:213" class="idref" href="#BOT:213"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:205"><span class="id" title="variable">lc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">∃</span></a> <a id="lc':214" class="idref" href="#lc':214"><span class="id" title="binder">lc'</span></a> <a id="mem':215" class="idref" href="#mem':215"><span class="id" title="binder">mem'</span></a> <a id="from:216" class="idref" href="#from:216"><span class="id" title="binder">from</span></a> <a id="to:217" class="idref" href="#to:217"><span class="id" title="binder">to</span></a><a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:205"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:206"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:207"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:201"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#from:216"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:217"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:202"><span class="id" title="variable">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc':214"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:206"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem':215"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:208"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">WRITE_ADD</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="mem':219" class="idref" href="#mem':219"><span class="id" title="binder">mem'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.write"><span class="id" title="inductive">Memory.write</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span>) <span class="id" title="var">mem</span> <span class="id" title="var">loc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>)) <span class="id" title="var">val</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span>) <a class="idref" href="CompOptCert.simPromiseCertified.html#mem':218"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#write_succeed_valid"><span class="id" title="lemma">write_succeed_valid</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">COVER</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> <span class="id" title="var">t</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>)). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">FROM0</span> <span class="id" title="var">H</span>. <span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">TO</span> <span class="id" title="var">MAX</span>. <span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.View.html#TimeMap.bot"><span class="id" title="definition">TimeMap.bot</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.bot_spec"><span class="id" title="lemma">Time.bot_spec</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">x1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>))). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MAX</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>)) (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">x0</span>. <span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>. <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">mem'</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">ORD_MATCH</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RLX</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MAX</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>) (<a class="idref" href="CompOptCert.Time.html#Time.incr"><span class="id" title="definition">Time.incr</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem</span>))). <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_in_not_abort_progress" class="idref" href="#state_in_not_abort_progress"><span class="id" title="lemma">state_in_not_abort_progress</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:220" class="idref" href="#lang:220"><span class="id" title="binder">lang</span></a> <a id="pe:221" class="idref" href="#pe:221"><span class="id" title="binder">pe</span></a> <a id="st:222" class="idref" href="#st:222"><span class="id" title="binder">st</span></a> <a id="st':223" class="idref" href="#st':223"><span class="id" title="binder">st'</span></a> <a id="lo:224" class="idref" href="#lo:224"><span class="id" title="binder">lo</span></a> <a id="lc:225" class="idref" href="#lc:225"><span class="id" title="binder">lc</span></a> <a id="mem:226" class="idref" href="#mem:226"><span class="id" title="binder">mem</span></a> <a id="sc:227" class="idref" href="#sc:227"><span class="id" title="binder">sc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STATE_STEP:228" class="idref" href="#STATE_STEP:228"><span class="id" title="binder">STATE_STEP</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:220"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pe:221"><span class="id" title="variable">pe</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:222"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st':223"><span class="id" title="variable">st'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_STEP_T:229" class="idref" href="#NA_STEP_T:229"><span class="id" title="binder">NA_STEP_T</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#state_in_step"><span class="id" title="definition">state_in_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pe:221"><span class="id" title="variable">pe</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_ABORT1:234" class="idref" href="#NOT_ABORT1:234"><span class="id" title="binder">NOT_ABORT1</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">∃</span></a> <a id="st':230" class="idref" href="#st':230"><span class="id" title="binder">st'</span></a> <a id="x:231" class="idref" href="#x:231"><span class="id" title="binder">x</span></a> <a id="o:232" class="idref" href="#o:232"><span class="id" title="binder">o</span></a> <a id="v:233" class="idref" href="#v:233"><span class="id" title="binder">v</span></a><a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:220"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.read"><span class="id" title="constructor">ProgramEvent.read</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#x:231"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#v:233"><span class="id" title="variable">v</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#o:232"><span class="id" title="variable">o</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#st:222"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st':230"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:220"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#x:231"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#v:233"><span class="id" title="variable">v</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#o:232"><span class="id" title="variable">o</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#st:222"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st':230"><span class="id" title="variable">st'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.mem_ord_match"><span class="id" title="definition">Ordering.mem_ord_match</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#o:232"><span class="id" title="variable">o</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#lo:224"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#x:231"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_ABORT2:241" class="idref" href="#NOT_ABORT2:241"><span class="id" title="binder">NOT_ABORT2</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#dbf98c592cb9e01772eaad2e05dfa946"><span class="id" title="notation">∃</span></a> <a id="st2:235" class="idref" href="#st2:235"><span class="id" title="binder">st2</span></a> <a id="x:236" class="idref" href="#x:236"><span class="id" title="binder">x</span></a> <a id="vr:237" class="idref" href="#vr:237"><span class="id" title="binder">vr</span></a> <a id="vw:238" class="idref" href="#vw:238"><span class="id" title="binder">vw</span></a> <a id="or:239" class="idref" href="#or:239"><span class="id" title="binder">or</span></a> <a id="ow:240" class="idref" href="#ow:240"><span class="id" title="binder">ow</span></a><a class="idref" href="CompOptCert.LibTactics.html#dbf98c592cb9e01772eaad2e05dfa946"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:220"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.update"><span class="id" title="constructor">ProgramEvent.update</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#x:236"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#vr:237"><span class="id" title="variable">vr</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#vw:238"><span class="id" title="variable">vw</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#or:239"><span class="id" title="variable">or</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ow:240"><span class="id" title="variable">ow</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#st:222"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st2:235"><span class="id" title="variable">st2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:224"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#x:236"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.nonatomic"><span class="id" title="constructor">Ordering.nonatomic</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:242" class="idref" href="#LOCAL_WF:242"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:225"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:226"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:243" class="idref" href="#MEM_CLOSED:243"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:226"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:244" class="idref" href="#BOT:244"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:225"><span class="id" title="variable">lc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#pe:221"><span class="id" title="variable">pe</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#ProgramEvent.silent"><span class="id" title="constructor">ProgramEvent.silent</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#dbf98c592cb9e01772eaad2e05dfa946"><span class="id" title="notation">∃</span></a> <a id="releasedr:245" class="idref" href="#releasedr:245"><span class="id" title="binder">releasedr</span></a> <a id="loc:246" class="idref" href="#loc:246"><span class="id" title="binder">loc</span></a> <a id="to:247" class="idref" href="#to:247"><span class="id" title="binder">to</span></a> <a id="val:248" class="idref" href="#val:248"><span class="id" title="binder">val</span></a> <a id="lc':249" class="idref" href="#lc':249"><span class="id" title="binder">lc'</span></a> <a id="st2:250" class="idref" href="#st2:250"><span class="id" title="binder">st2</span></a><a class="idref" href="CompOptCert.LibTactics.html#dbf98c592cb9e01772eaad2e05dfa946"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:220"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.read"><span class="id" title="constructor">ProgramEvent.read</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:246"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:248"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#st:222"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st2:250"><span class="id" title="variable">st2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:225"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:226"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:246"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:247"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:248"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#releasedr:245"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc':249"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:224"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">∃</span></a> <a id="lc':251" class="idref" href="#lc':251"><span class="id" title="binder">lc'</span></a> <a id="mem':252" class="idref" href="#mem':252"><span class="id" title="binder">mem'</span></a> <a id="from:253" class="idref" href="#from:253"><span class="id" title="binder">from</span></a> <a id="to:254" class="idref" href="#to:254"><span class="id" title="binder">to</span></a> <a id="loc:255" class="idref" href="#loc:255"><span class="id" title="binder">loc</span></a> <a id="val:256" class="idref" href="#val:256"><span class="id" title="binder">val</span></a> <a id="st2:257" class="idref" href="#st2:257"><span class="id" title="binder">st2</span></a><a class="idref" href="CompOptCert.LibTactics.html#d16069e154279c7558bd30768337f68a"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:220"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:255"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:256"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#st:222"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st2:257"><span class="id" title="variable">st2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:225"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:227"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:226"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:255"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#from:253"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:254"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:256"><span class="id" title="variable">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc':251"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:227"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem':252"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:224"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">pe</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF</span>. <span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PLN</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">PLN</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NA_LOC</span>: <span class="id" title="var">lo</span> <span class="id" title="var">loc</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.nonatomic"><span class="id" title="constructor">Ordering.nonatomic</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">TYPE_LOC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">NOT_ABORT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TYPE_LOC</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<a class="idref" href="CompOptCert.Language.html#Language.read_abitrary_1"><span class="id" title="projection">Language.read_abitrary_1</span></a> <span class="id" title="var">lang</span>); [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STATE_STEP</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">val0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">released</span> <span class="id" title="var">loc</span> (<a class="idref" href="CompOptCert.View.html#View.pln"><span class="id" title="projection">View.pln</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <span class="id" title="var">lc</span>)) <span class="id" title="var">loc</span>) <span class="id" title="var">val0</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NA_LOC</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">NOT_ABORT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 6 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NA_LOC</span>: <span class="id" title="var">lo</span> <span class="id" title="var">loc</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.nonatomic"><span class="id" title="constructor">Ordering.nonatomic</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">TYPE_LOC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">NOT_ABORT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">TYPE_LOC</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#write_not_abort_progress"><span class="id" title="lemma">write_not_abort_progress</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc</span>). <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">lc'</span> <span class="id" title="var">mem'</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <span class="id" title="var">loc</span> <span class="id" title="var">val</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">st'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="state_in_not_abort_thread_step" class="idref" href="#state_in_not_abort_thread_step"><span class="id" title="lemma">state_in_not_abort_thread_step</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:258" class="idref" href="#lang:258"><span class="id" title="binder">lang</span></a> <a id="pe:259" class="idref" href="#pe:259"><span class="id" title="binder">pe</span></a> <a id="st:260" class="idref" href="#st:260"><span class="id" title="binder">st</span></a> <a id="st':261" class="idref" href="#st':261"><span class="id" title="binder">st'</span></a> <a id="lo:262" class="idref" href="#lo:262"><span class="id" title="binder">lo</span></a> <a id="lc:263" class="idref" href="#lc:263"><span class="id" title="binder">lc</span></a> <a id="mem:264" class="idref" href="#mem:264"><span class="id" title="binder">mem</span></a> <a id="sc:265" class="idref" href="#sc:265"><span class="id" title="binder">sc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STATE_STEP:266" class="idref" href="#STATE_STEP:266"><span class="id" title="binder">STATE_STEP</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:258"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pe:259"><span class="id" title="variable">pe</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:260"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st':261"><span class="id" title="variable">st'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_STEP_T:267" class="idref" href="#NA_STEP_T:267"><span class="id" title="binder">NA_STEP_T</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#state_in_step"><span class="id" title="definition">state_in_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pe:259"><span class="id" title="variable">pe</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_ABORT1:272" class="idref" href="#NOT_ABORT1:272"><span class="id" title="binder">NOT_ABORT1</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">∃</span></a> <a id="st':268" class="idref" href="#st':268"><span class="id" title="binder">st'</span></a> <a id="x:269" class="idref" href="#x:269"><span class="id" title="binder">x</span></a> <a id="o:270" class="idref" href="#o:270"><span class="id" title="binder">o</span></a> <a id="v:271" class="idref" href="#v:271"><span class="id" title="binder">v</span></a><a class="idref" href="CompOptCert.LibTactics.html#5cb261e84fb56b9e50b66c2164c8e50f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:258"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.read"><span class="id" title="constructor">ProgramEvent.read</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#x:269"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#v:271"><span class="id" title="variable">v</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#o:270"><span class="id" title="variable">o</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#st:260"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st':268"><span class="id" title="variable">st'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:258"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.write"><span class="id" title="constructor">ProgramEvent.write</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#x:269"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#v:271"><span class="id" title="variable">v</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#o:270"><span class="id" title="variable">o</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#st:260"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st':268"><span class="id" title="variable">st'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.mem_ord_match"><span class="id" title="definition">Ordering.mem_ord_match</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#o:270"><span class="id" title="variable">o</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#lo:262"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#x:269"><span class="id" title="variable">x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_ABORT2:279" class="idref" href="#NOT_ABORT2:279"><span class="id" title="binder">NOT_ABORT2</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#dbf98c592cb9e01772eaad2e05dfa946"><span class="id" title="notation">∃</span></a> <a id="st2:273" class="idref" href="#st2:273"><span class="id" title="binder">st2</span></a> <a id="x:274" class="idref" href="#x:274"><span class="id" title="binder">x</span></a> <a id="vr:275" class="idref" href="#vr:275"><span class="id" title="binder">vr</span></a> <a id="vw:276" class="idref" href="#vw:276"><span class="id" title="binder">vw</span></a> <a id="or:277" class="idref" href="#or:277"><span class="id" title="binder">or</span></a> <a id="ow:278" class="idref" href="#ow:278"><span class="id" title="binder">ow</span></a><a class="idref" href="CompOptCert.LibTactics.html#dbf98c592cb9e01772eaad2e05dfa946"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Language.html#Language.step"><span class="id" title="projection">Language.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:258"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Event.html#ProgramEvent.update"><span class="id" title="constructor">ProgramEvent.update</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#x:274"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#vr:275"><span class="id" title="variable">vr</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#vw:276"><span class="id" title="variable">vw</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#or:277"><span class="id" title="variable">or</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ow:278"><span class="id" title="variable">ow</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#st:260"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st2:273"><span class="id" title="variable">st2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:262"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#x:274"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.nonatomic"><span class="id" title="constructor">Ordering.nonatomic</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF:280" class="idref" href="#LOCAL_WF:280"><span class="id" title="binder">LOCAL_WF</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:263"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:264"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED:281" class="idref" href="#MEM_CLOSED:281"><span class="id" title="binder">MEM_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:264"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:282" class="idref" href="#BOT:282"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:263"><span class="id" title="variable">lc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="te:283" class="idref" href="#te:283"><span class="id" title="binder">te</span></a> <a id="e':284" class="idref" href="#e':284"><span class="id" title="binder">e'</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.step"><span class="id" title="inductive">Thread.step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:262"><span class="id" title="variable">lo</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#te:283"><span class="id" title="variable">te</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:258"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:260"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:263"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:265"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:264"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e':284"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#ThreadEvent.is_na_step"><span class="id" title="definition">ThreadEvent.is_na_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#te:283"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:263"><span class="id" title="variable">lc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e':284"><span class="id" title="variable">e'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#state_in_not_abort_progress"><span class="id" title="lemma">state_in_not_abort_progress</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_silent"><span class="id" title="constructor">Local.step_silent</span></a>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_read"><span class="id" title="constructor">Local.step_read</span></a>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">x1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.step_write"><span class="id" title="constructor">Local.step_write</span></a>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">x1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="cons_ols" class="idref" href="#cons_ols"><span class="id" title="definition">cons_ols</span></a> {<a id="index:285" class="idref" href="#index:285"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>} (<a id="pdset:286" class="idref" href="#pdset:286"><span class="id" title="binder">pdset</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:285"><span class="id" title="variable">index</span></a>) (<a id="ls:287" class="idref" href="#ls:287"><span class="id" title="binder">ls</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="CompOptCert.Loc.html#Loc.t"><span class="id" title="definition">Loc.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.Time.html#Time.t"><span class="id" title="definition">Time.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:285"><span class="id" title="variable">index</span></a>)) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:287"><span class="id" title="variable">ls</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ls'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:286"><span class="id" title="variable">pdset</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols:288"><span class="id" title="definition">cons_ols</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:286"><span class="id" title="variable">pdset</span></a> <span class="id" title="var">ls'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">j</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">j</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols:288"><span class="id" title="definition">cons_ols</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:286"><span class="id" title="variable">pdset</span></a> <span class="id" title="var">ls'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="na_steps_promises_fulfill'" class="idref" href="#na_steps_promises_fulfill'"><span class="id" title="lemma">na_steps_promises_fulfill'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:290" class="idref" href="#n:290"><span class="id" title="binder">n</span></a> <a id="lang:291" class="idref" href="#lang:291"><span class="id" title="binder">lang</span></a> <a id="e:292" class="idref" href="#e:292"><span class="id" title="binder">e</span></a> <a id="e':293" class="idref" href="#e':293"><span class="id" title="binder">e'</span></a> <a id="lo:294" class="idref" href="#lo:294"><span class="id" title="binder">lo</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_STEPS:295" class="idref" href="#NA_STEPS:295"><span class="id" title="binder">NA_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:291"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:294"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#n:290"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e:292"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e':293"><span class="id" title="variable">e'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <a id="loc:296" class="idref" href="#loc:296"><span class="id" title="binder">loc</span></a> <a id="to:297" class="idref" href="#to:297"><span class="id" title="binder">to</span></a> <a id="from':298" class="idref" href="#from':298"><span class="id" title="binder">from'</span></a> <a id="val:299" class="idref" href="#val:299"><span class="id" title="binder">val</span></a> <a id="R:300" class="idref" href="#R:300"><span class="id" title="binder">R</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:296"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:297"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e':293"><span class="id" title="variable">e'</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from':298"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:299"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#R:300"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="from:301" class="idref" href="#from:301"><span class="id" title="binder">from</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:296"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:297"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e:292"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:301"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:299"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#R:300"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">NA_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">NA_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">A12</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A23</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A23</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A23</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A23</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A23</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="na_steps_promises_fulfill" class="idref" href="#na_steps_promises_fulfill"><span class="id" title="lemma">na_steps_promises_fulfill</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:302" class="idref" href="#lang:302"><span class="id" title="binder">lang</span></a> <a id="e:303" class="idref" href="#e:303"><span class="id" title="binder">e</span></a> <a id="e':304" class="idref" href="#e':304"><span class="id" title="binder">e'</span></a> <a id="lo:305" class="idref" href="#lo:305"><span class="id" title="binder">lo</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_STEPS:306" class="idref" href="#NA_STEPS:306"><span class="id" title="binder">NA_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:302"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:305"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e:303"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e':304"><span class="id" title="variable">e'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <a id="loc:307" class="idref" href="#loc:307"><span class="id" title="binder">loc</span></a> <a id="to:308" class="idref" href="#to:308"><span class="id" title="binder">to</span></a> <a id="from':309" class="idref" href="#from':309"><span class="id" title="binder">from'</span></a> <a id="val:310" class="idref" href="#val:310"><span class="id" title="binder">val</span></a> <a id="R:311" class="idref" href="#R:311"><span class="id" title="binder">R</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:307"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:308"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e':304"><span class="id" title="variable">e'</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from':309"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:310"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#R:311"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="from:312" class="idref" href="#from:312"><span class="id" title="binder">from</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:307"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:308"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e:303"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:312"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:310"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#R:311"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#na_steps_promises_fulfill'"><span class="id" title="lemma">na_steps_promises_fulfill'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pdset_less" class="idref" href="#pdset_less"><span class="id" title="lemma">pdset_less</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:313" class="idref" href="#index:313"><span class="id" title="binder">index</span></a> (<a id="index_order:314" class="idref" href="#index_order:314"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#index:313"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:313"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="dset:315" class="idref" href="#dset:315"><span class="id" title="binder">dset</span></a> <a id="dset1:316" class="idref" href="#dset1:316"><span class="id" title="binder">dset1</span></a> <a id="dset2:317" class="idref" href="#dset2:317"><span class="id" title="binder">dset2</span></a> <a id="dset2':318" class="idref" href="#dset2':318"><span class="id" title="binder">dset2'</span></a> <a id="pdset:319" class="idref" href="#pdset:319"><span class="id" title="binder">pdset</span></a> <a id="pdset':320" class="idref" href="#pdset':320"><span class="id" title="binder">pdset'</span></a> <a id="te:321" class="idref" href="#te:321"><span class="id" title="binder">te</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="DSET_SUBSET:322" class="idref" href="#DSET_SUBSET:322"><span class="id" title="binder">DSET_SUBSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_subset"><span class="id" title="definition">dset_subset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:319"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset:315"><span class="id" title="variable">dset</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="DSET_UPD:323" class="idref" href="#DSET_UPD:323"><span class="id" title="binder">DSET_UPD</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_after_na_step"><span class="id" title="inductive">dset_after_na_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#te:321"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset:315"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset1:316"><span class="id" title="variable">dset1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="DSET_SUBSET1:324" class="idref" href="#DSET_SUBSET1:324"><span class="id" title="binder">DSET_SUBSET1</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_subset"><span class="id" title="definition">dset_subset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset2:317"><span class="id" title="variable">dset2</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset1:316"><span class="id" title="variable">dset1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REDUCE_DSET:325" class="idref" href="#REDUCE_DSET:325"><span class="id" title="binder">REDUCE_DSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#reduce_dset"><span class="id" title="inductive">reduce_dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:314"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset2':318"><span class="id" title="variable">dset2'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset2:317"><span class="id" title="variable">dset2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="DSET_SUBSET':326" class="idref" href="#DSET_SUBSET':326"><span class="id" title="binder">DSET_SUBSET'</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_subset"><span class="id" title="definition">dset_subset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset':320"><span class="id" title="variable">pdset'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset2':318"><span class="id" title="variable">dset2'</span></a>):<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <a id="loc:327" class="idref" href="#loc:327"><span class="id" title="binder">loc</span></a> <a id="to:328" class="idref" href="#to:328"><span class="id" title="binder">to</span></a> <a id="j:329" class="idref" href="#j:329"><span class="id" title="binder">j</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:327"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:328"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset':320"><span class="id" title="variable">pdset'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:329"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:327"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:328"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:319"><span class="id" title="variable">pdset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="i:330" class="idref" href="#i:330"><span class="id" title="binder">i</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:327"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:328"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:319"><span class="id" title="variable">pdset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:330"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:314"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:329"><span class="id" title="variable">j</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:330"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <span class="id" title="var">pdset</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">DSET_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_subset"><span class="id" title="definition">dset_subset</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">DSET_SUBSET</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">DSET_GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">DSET_SUBSET'</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">REDUCE_DSET</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">REDUCE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">DSET_UPD</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">DSET_SUBSET1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_get_proper"><span class="id" title="lemma">dset_get_proper</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x2</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">x2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">DSET_SUBSET1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">x</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">x2</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_none_empty_all_none" class="idref" href="#remove_none_empty_all_none"><span class="id" title="lemma">remove_none_empty_all_none</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="A:331" class="idref" href="#A:331"><span class="id" title="binder">A</span></a> <a id="ols:332" class="idref" href="#ols:332"><span class="id" title="binder">ols</span></a> (<a id="x:333" class="idref" href="#x:333"><span class="id" title="binder">x</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#A:331"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REMOVE_NONE:334" class="idref" href="#REMOVE_NONE:334"><span class="id" title="binder">REMOVE_NONE</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#remove_none"><span class="id" title="definition">remove_none</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ols:332"><span class="id" title="variable">ols</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LIST_IN:335" class="idref" href="#LIST_IN:335"><span class="id" title="binder">LIST_IN</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#x:333"><span class="id" title="variable">x</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ols:332"><span class="id" title="variable">ols</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#x:333"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ols</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_none_empty_implies_pdset_init" class="idref" href="#remove_none_empty_implies_pdset_init"><span class="id" title="lemma">remove_none_empty_implies_pdset_init</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="index:336" class="idref" href="#index:336"><span class="id" title="binder">index</span></a> <a id="ls:337" class="idref" href="#ls:337"><span class="id" title="binder">ls</span></a> (<a id="pdset:338" class="idref" href="#pdset:338"><span class="id" title="binder">pdset</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:336"><span class="id" title="variable">index</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REMOVE_NONE:339" class="idref" href="#REMOVE_NONE:339"><span class="id" title="binder">REMOVE_NONE</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#remove_none"><span class="id" title="definition">remove_none</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols"><span class="id" title="definition">cons_ols</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:338"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:337"><span class="id" title="variable">ls</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IN:344" class="idref" href="#IN:344"><span class="id" title="binder">IN</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:340" class="idref" href="#loc:340"><span class="id" title="binder">loc</span></a> <a id="t:341" class="idref" href="#t:341"><span class="id" title="binder">t</span></a> <a id="j:342" class="idref" href="#j:342"><span class="id" title="binder">j</span></a>, <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:340"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:341"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:338"><span class="id" title="variable">pdset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:342"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="i:343" class="idref" href="#i:343"><span class="id" title="binder">i</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:340"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:341"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:343"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:337"><span class="id" title="variable">ls</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:338"><span class="id" title="variable">pdset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ls</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" title="lemma">functional_extensionality</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.eq_leibniz"><span class="id" title="lemma">DenseOrder.DOMap.eq_leibniz</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.Equal"><span class="id" title="definition">DenseOrder.DOMap.Equal</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.DenseOrder.html#DOMap.gempty"><span class="id" title="lemma">DenseOrder.DOMap.gempty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.DenseOrder.html#DOMap.find"><span class="id" title="definition">DenseOrder.DOMap.find</span></a> <span class="id" title="var">y</span> (<span class="id" title="var">pdset</span> <span class="id" title="var">x</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IN</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">des</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">pdset</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHls</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_NONE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">IN</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lt_dset_cons_ols'" class="idref" href="#lt_dset_cons_ols'"><span class="id" title="lemma">lt_dset_cons_ols'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="index:345" class="idref" href="#index:345"><span class="id" title="binder">index</span></a> <a id="ls:346" class="idref" href="#ls:346"><span class="id" title="binder">ls</span></a> (<a id="pdset0:347" class="idref" href="#pdset0:347"><span class="id" title="binder">pdset0</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:345"><span class="id" title="variable">index</span></a>) (<a id="index_order:348" class="idref" href="#index_order:348"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#index:345"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:345"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_DUP_DSET:349" class="idref" href="#NO_DUP_DSET:349"><span class="id" title="binder">NO_DUP_DSET</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls"><span class="id" title="definition">no_Dup_ls</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:346"><span class="id" title="variable">ls</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROM_LESS:354" class="idref" href="#PROM_LESS:354"><span class="id" title="binder">PROM_LESS</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:350" class="idref" href="#loc:350"><span class="id" title="binder">loc</span></a> <a id="t:351" class="idref" href="#t:351"><span class="id" title="binder">t</span></a> <a id="i:352" class="idref" href="#i:352"><span class="id" title="binder">i</span></a> <a id="j:353" class="idref" href="#j:353"><span class="id" title="binder">j</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:350"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:351"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:352"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:346"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:350"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#t:351"><span class="id" title="variable">t</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset0:347"><span class="id" title="variable">pdset0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:353"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:348"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:353"><span class="id" title="variable">j</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:352"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_NIL:355" class="idref" href="#NOT_NIL:355"><span class="id" title="binder">NOT_NIL</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:346"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#lt_dset"><span class="id" title="inductive">lt_dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:348"><span class="id" title="variable">index_order</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols"><span class="id" title="definition">cons_ols</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset0:347"><span class="id" title="variable">pdset0</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:346"><span class="id" title="variable">ls</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:346"><span class="id" title="variable">ls</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ls</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">pdset0</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">DSET_GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">PROM_LESS'</span>: <span class="id" title="var">PROM_LESS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">PROM_LESS</span> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROM_LESS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">DSET_GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#lt_dset_some_nil"><span class="id" title="constructor">lt_dset_some_nil</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#lt_dset_some"><span class="id" title="constructor">lt_dset_some</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NO_DUP_DSET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls"><span class="id" title="definition">no_Dup_ls</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">NO_DUP_DSET</span> <span class="id" title="var">loc</span> <span class="id" title="var">t1</span> <span class="id" title="var">j</span> <span class="id" title="var">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">NO_DUP_DSET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">NO_DUP_DSET</span> <span class="id" title="var">loc</span> <span class="id" title="var">t1</span> <span class="id" title="var">i0</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">NO_DUP_DSET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">NO_DUP_DSET</span> <span class="id" title="var">loc</span> <span class="id" title="var">t1</span> <span class="id" title="var">i0</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">NO_DUP_DSET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#lt_dset_none_nil"><span class="id" title="constructor">lt_dset_none_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#lt_dset_none"><span class="id" title="constructor">lt_dset_none</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NO_DUP_DSET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls"><span class="id" title="definition">no_Dup_ls</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">NO_DUP_DSET</span> <span class="id" title="var">loc</span> <span class="id" title="var">t1</span> <span class="id" title="var">j</span> <span class="id" title="var">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">NO_DUP_DSET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">NO_DUP_DSET</span> <span class="id" title="var">loc</span> <span class="id" title="var">t1</span> <span class="id" title="var">i0</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">NO_DUP_DSET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">NO_DUP_DSET</span> <span class="id" title="var">loc</span> <span class="id" title="var">t1</span> <span class="id" title="var">i0</span> <span class="id" title="var">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">NO_DUP_DSET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lt_dset_cons_ols" class="idref" href="#lt_dset_cons_ols"><span class="id" title="lemma">lt_dset_cons_ols</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="index:356" class="idref" href="#index:356"><span class="id" title="binder">index</span></a> <a id="ls:357" class="idref" href="#ls:357"><span class="id" title="binder">ls</span></a> (<a id="pdset:358" class="idref" href="#pdset:358"><span class="id" title="binder">pdset</span></a> <a id="pdset0:359" class="idref" href="#pdset0:359"><span class="id" title="binder">pdset0</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:356"><span class="id" title="variable">index</span></a>) (<a id="index_order:360" class="idref" href="#index_order:360"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#index:356"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:356"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FINITE_DSET:361" class="idref" href="#FINITE_DSET:361"><span class="id" title="binder">FINITE_DSET</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset"><span class="id" title="definition">finite_dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:358"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:357"><span class="id" title="variable">ls</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_DUP_DSET:362" class="idref" href="#NO_DUP_DSET:362"><span class="id" title="binder">NO_DUP_DSET</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls"><span class="id" title="definition">no_Dup_ls</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:357"><span class="id" title="variable">ls</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROM_LESS:367" class="idref" href="#PROM_LESS:367"><span class="id" title="binder">PROM_LESS</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:363" class="idref" href="#loc:363"><span class="id" title="binder">loc</span></a> <a id="to:364" class="idref" href="#to:364"><span class="id" title="binder">to</span></a> <a id="j:365" class="idref" href="#j:365"><span class="id" title="binder">j</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:363"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:364"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset0:359"><span class="id" title="variable">pdset0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:365"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="i:366" class="idref" href="#i:366"><span class="id" title="binder">i</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:363"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:364"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:358"><span class="id" title="variable">pdset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:366"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:360"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:365"><span class="id" title="variable">j</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:366"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOT_NIL:368" class="idref" href="#NOT_NIL:368"><span class="id" title="binder">NOT_NIL</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:357"><span class="id" title="variable">ls</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#lt_dset"><span class="id" title="inductive">lt_dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:360"><span class="id" title="variable">index_order</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols"><span class="id" title="definition">cons_ols</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset0:359"><span class="id" title="variable">pdset0</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:357"><span class="id" title="variable">ls</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:357"><span class="id" title="variable">ls</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lt_dset_cons_ols'"><span class="id" title="lemma">lt_dset_cons_ols'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROM_LESS</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset"><span class="id" title="definition">finite_dset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FINITE_DSET</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">FINITE_DSET</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls"><span class="id" title="definition">no_Dup_ls</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NO_DUP_DSET</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">NO_DUP_DSET</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="List_in_remove_none_cons_ols" class="idref" href="#List_in_remove_none_cons_ols"><span class="id" title="lemma">List_in_remove_none_cons_ols</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="index:369" class="idref" href="#index:369"><span class="id" title="binder">index</span></a> <a id="ls:370" class="idref" href="#ls:370"><span class="id" title="binder">ls</span></a> (<a id="pdset:371" class="idref" href="#pdset:371"><span class="id" title="binder">pdset</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:369"><span class="id" title="variable">index</span></a>) <a id="loc:372" class="idref" href="#loc:372"><span class="id" title="binder">loc</span></a> <a id="to:373" class="idref" href="#to:373"><span class="id" title="binder">to</span></a> <a id="i:374" class="idref" href="#i:374"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LIST_IN:375" class="idref" href="#LIST_IN:375"><span class="id" title="binder">LIST_IN</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:372"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:373"><span class="id" title="variable">to</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:374"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="CompOptCert.DelaySet.html#remove_none"><span class="id" title="definition">remove_none</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols"><span class="id" title="definition">cons_ols</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:371"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:370"><span class="id" title="variable">ls</span></a>))),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:372"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:373"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:371"><span class="id" title="variable">pdset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:374"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ls</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">pdset</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LIST_IN</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="no_Dup_ls_remove_none_cons_ols" class="idref" href="#no_Dup_ls_remove_none_cons_ols"><span class="id" title="lemma">no_Dup_ls_remove_none_cons_ols</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:376" class="idref" href="#index:376"><span class="id" title="binder">index</span></a> <a id="ls:377" class="idref" href="#ls:377"><span class="id" title="binder">ls</span></a> (<a id="pdset:378" class="idref" href="#pdset:378"><span class="id" title="binder">pdset</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:376"><span class="id" title="variable">index</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls"><span class="id" title="definition">no_Dup_ls</span></a> (<a class="idref" href="CompOptCert.DelaySet.html#remove_none"><span class="id" title="definition">remove_none</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols"><span class="id" title="definition">cons_ols</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:378"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:377"><span class="id" title="variable">ls</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls"><span class="id" title="definition">no_Dup_ls</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#List_in_remove_none_cons_ols"><span class="id" title="lemma">List_in_remove_none_cons_ols</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#List_in_remove_none_cons_ols"><span class="id" title="lemma">List_in_remove_none_cons_ols</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_dset_remove_none_cons_ols'" class="idref" href="#finite_dset_remove_none_cons_ols'"><span class="id" title="lemma">finite_dset_remove_none_cons_ols'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="index:379" class="idref" href="#index:379"><span class="id" title="binder">index</span></a> <a id="ls:380" class="idref" href="#ls:380"><span class="id" title="binder">ls</span></a> (<a id="pdset:381" class="idref" href="#pdset:381"><span class="id" title="binder">pdset</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:379"><span class="id" title="variable">index</span></a>) <a id="loc:382" class="idref" href="#loc:382"><span class="id" title="binder">loc</span></a> <a id="to:383" class="idref" href="#to:383"><span class="id" title="binder">to</span></a> <a id="i:384" class="idref" href="#i:384"><span class="id" title="binder">i</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="GET:385" class="idref" href="#GET:385"><span class="id" title="binder">GET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:382"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:383"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:381"><span class="id" title="variable">pdset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:384"><span class="id" title="variable">i</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:382"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:383"><span class="id" title="variable">to</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:384"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="CompOptCert.DelaySet.html#remove_none"><span class="id" title="definition">remove_none</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols"><span class="id" title="definition">cons_ols</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:381"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:380"><span class="id" title="variable">ls</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="j:386" class="idref" href="#j:386"><span class="id" title="binder">j</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:382"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:383"><span class="id" title="variable">to</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:386"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:380"><span class="id" title="variable">ls</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ls</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">pdset</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">DSET_GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">IHls</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">t</span> <span class="id" title="var">loc</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.eq_dec"><span class="id" title="axiom">Time.eq_dec</span></a> <span class="id" title="var">to</span> <span class="id" title="var">t0</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">DSET_GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">IHls</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">x</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">DSET_GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="finite_dset_remove_none_cons_ols" class="idref" href="#finite_dset_remove_none_cons_ols"><span class="id" title="lemma">finite_dset_remove_none_cons_ols</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:387" class="idref" href="#index:387"><span class="id" title="binder">index</span></a> (<a id="pdset:388" class="idref" href="#pdset:388"><span class="id" title="binder">pdset</span></a>: @<a class="idref" href="CompOptCert.DelaySet.html#DelaySet"><span class="id" title="definition">DelaySet</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:387"><span class="id" title="variable">index</span></a>) <a id="ls:389" class="idref" href="#ls:389"><span class="id" title="binder">ls</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FINITE_DSET:394" class="idref" href="#FINITE_DSET:394"><span class="id" title="binder">FINITE_DSET</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:390" class="idref" href="#loc:390"><span class="id" title="binder">loc</span></a> <a id="to:391" class="idref" href="#to:391"><span class="id" title="binder">to</span></a> <a id="i:392" class="idref" href="#i:392"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:390"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:391"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:388"><span class="id" title="variable">pdset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:392"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="j:393" class="idref" href="#j:393"><span class="id" title="binder">j</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#loc:390"><span class="id" title="variable">loc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:391"><span class="id" title="variable">to</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:393"><span class="id" title="variable">j</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:389"><span class="id" title="variable">ls</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset"><span class="id" title="definition">finite_dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:388"><span class="id" title="variable">pdset</span></a> (<a class="idref" href="CompOptCert.DelaySet.html#remove_none"><span class="id" title="definition">remove_none</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols"><span class="id" title="definition">cons_ols</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:388"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:389"><span class="id" title="variable">ls</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset"><span class="id" title="definition">finite_dset</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset_remove_none_cons_ols'"><span class="id" title="lemma">finite_dset_remove_none_cons_ols'</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">ls</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lsim_ensures_promise_fulfill_T_BOT'" class="idref" href="#lsim_ensures_promise_fulfill_T_BOT'"><span class="id" title="lemma">lsim_ensures_promise_fulfill_T_BOT'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:395" class="idref" href="#index:395"><span class="id" title="binder">index</span></a> (<a id="index_order:396" class="idref" href="#index_order:396"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#index:395"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:395"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <a id="pdset:397" class="idref" href="#pdset:397"><span class="id" title="binder">pdset</span></a> <a id="dset:398" class="idref" href="#dset:398"><span class="id" title="binder">dset</span></a> <a id="ls:399" class="idref" href="#ls:399"><span class="id" title="binder">ls</span></a> <a id="lang:400" class="idref" href="#lang:400"><span class="id" title="binder">lang</span></a> <a id="I:401" class="idref" href="#I:401"><span class="id" title="binder">I</span></a> <a id="lo:402" class="idref" href="#lo:402"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_tgt:403" class="idref" href="#st_tgt:403"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:404" class="idref" href="#lc_tgt:404"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:405" class="idref" href="#sc_tgt:405"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:406" class="idref" href="#mem_tgt:406"><span class="id" title="binder">mem_tgt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_src:407" class="idref" href="#st_src:407"><span class="id" title="binder">st_src</span></a> <a id="lc_src:408" class="idref" href="#lc_src:408"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:409" class="idref" href="#sc_src:409"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:410" class="idref" href="#mem_src:410"><span class="id" title="binder">mem_src</span></a> <a id="sc_srcc:411" class="idref" href="#sc_srcc:411"><span class="id" title="binder">sc_srcc</span></a> <a id="mem_srcc:412" class="idref" href="#mem_srcc:412"><span class="id" title="binder">mem_srcc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="b:413" class="idref" href="#b:413"><span class="id" title="binder">b</span></a> <a id="inj:414" class="idref" href="#inj:414"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ACC_LT_DSET:415" class="idref" href="#ACC_LT_DSET:415"><span class="id" title="binder">ACC_LT_DSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#Acc_lt_dset"><span class="id" title="inductive">Acc_lt_dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:396"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:399"><span class="id" title="variable">ls</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL_PROM_TBOT:416" class="idref" href="#REL_PROM_TBOT:416"><span class="id" title="binder">REL_PROM_TBOT</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#rel_promises_TBOT"><span class="id" title="inductive">rel_promises_TBOT</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:414"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:397"><span class="id" title="variable">pdset</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:408"><span class="id" title="variable">lc_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SUBSET:417" class="idref" href="#SUBSET:417"><span class="id" title="binder">SUBSET</span></a>: <a class="idref" href="CompOptCert.DelaySet.html#dset_subset"><span class="id" title="definition">dset_subset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:397"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset:398"><span class="id" title="variable">dset</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FINITE_DSET:418" class="idref" href="#FINITE_DSET:418"><span class="id" title="binder">FINITE_DSET</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset"><span class="id" title="definition">finite_dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:397"><span class="id" title="variable">pdset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:399"><span class="id" title="variable">ls</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_DUP_DSET:419" class="idref" href="#NO_DUP_DSET:419"><span class="id" title="binder">NO_DUP_DSET</span></a>: <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls"><span class="id" title="definition">no_Dup_ls</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ls:399"><span class="id" title="variable">ls</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:420" class="idref" href="#MONOTONIC_INJ:420"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:414"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUND:421" class="idref" href="#WELL_FOUND:421"><span class="id" title="binder">WELL_FOUND</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:396"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T_BOT:422" class="idref" href="#T_BOT:422"><span class="id" title="binder">T_BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:404"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:423" class="idref" href="#LOCAL_SIM:423"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:395"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:396"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:400"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#I:401"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:402"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:414"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset:398"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#b:413"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:400"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_tgt:403"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:404"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_tgt:405"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:406"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:400"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:407"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:408"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_src:409"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:410"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE_S:425" class="idref" href="#SAFE_S:425"><span class="id" title="binder">SAFE_S</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':424" class="idref" href="#e_src':424"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:400"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:402"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:400"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:407"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:408"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_src:409"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:410"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e_src':424"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e_src':424"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:402"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_SAME:427" class="idref" href="#NA_SAME:427"><span class="id" title="binder">NA_SAME</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:426" class="idref" href="#loc:426"><span class="id" title="binder">loc</span></a>, <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:402"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:426"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.nonatomic"><span class="id" title="constructor">Ordering.nonatomic</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:410"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:426"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_srcc:412"><span class="id" title="variable">mem_srcc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:426"><span class="id" title="variable">loc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:428" class="idref" href="#LOCAL_WF_S:428"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:408"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:410"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED_S:429" class="idref" href="#MEM_CLOSED_S:429"><span class="id" title="binder">MEM_CLOSED_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:410"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_LE_S:430" class="idref" href="#MEM_LE_S:430"><span class="id" title="binder">MEM_LE_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:410"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_srcc:412"><span class="id" title="variable">mem_srcc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:431" class="idref" href="#LOCAL_WF_T:431"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:404"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:406"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED_T:432" class="idref" href="#MEM_CLOSED_T:432"><span class="id" title="binder">MEM_CLOSED_T</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:406"><span class="id" title="variable">mem_tgt</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_srcc':433" class="idref" href="#e_srcc':433"><span class="id" title="binder">e_srcc'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:400"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:402"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:400"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:407"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:408"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_srcc:411"><span class="id" title="variable">sc_srcc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_srcc:412"><span class="id" title="variable">mem_srcc</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e_srcc':433"><span class="id" title="variable">e_srcc'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e_srcc':433"><span class="id" title="variable">e_srcc'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">pdset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">dset</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lc_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">sc_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">mem_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">lc_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">sc_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">mem_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">mem_srcc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">sc_srcc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">ACC_LT_DSET</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NOT_ABORT_T</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st_tgt</span> <span class="id" title="var">lc_tgt</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>) <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_ABORT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#not_and_or"><span class="id" title="lemma">not_and_or</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NOT_ABORT_T</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">NOT_ABORT_T</span> | <span class="id" title="var">NOT_ABORT_T</span>].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">T_BOT</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">NOT_ABORT_T</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#not_or_and"><span class="id" title="lemma">not_or_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#NNPP"><span class="id" title="lemma">NNPP</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.LocalSim.html#state_in_or_out"><span class="id" title="lemma">state_in_or_out</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">AT_OR_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">AT_OR_NA_STEP</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">AT_STEP_T</span> | <span class="id" title="var">NA_STEP_T</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">DSET_EMP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ONLY_RSVs</span>: <span class="id" title="keyword">∀</span> <a id="loc:438" class="idref" href="#loc:438"><span class="id" title="binder">loc</span></a> <a id="to:439" class="idref" href="#to:439"><span class="id" title="binder">to</span></a> <a id="from:440" class="idref" href="#from:440"><span class="id" title="binder">from</span></a> <a id="msg:441" class="idref" href="#msg:441"><span class="id" title="binder">msg</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:434"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:435"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:436"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:437"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#msg:437"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset_init_rel_promises_implies_only_reserve"><span class="id" title="lemma">dset_init_rel_promises_implies_only_reserve</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#only_reservations_fulfill"><span class="id" title="lemma">only_reservations_fulfill</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 3. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_S</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_S</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM_LE_S</span> <span class="id" title="var">PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">LHS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#not_or_and"><span class="id" title="lemma">not_or_and</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NOT_ABORT_T0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#state_in_not_abort_thread_step"><span class="id" title="lemma">state_in_not_abort_thread_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc_tgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TGT_THREAD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TGT_THREAD_STEP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">te</span> &amp; <span class="id" title="var">e_tgt</span> &amp; <span class="id" title="var">TGT_THREAD_STEP</span> &amp; <span class="id" title="var">IS_NA_STEP</span> &amp; <span class="id" title="var">PROM_EQ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">state</span> <span class="id" title="var">to</span> <span class="id" title="var">st_tgt'</span>, <span class="id" title="var">local</span> <span class="id" title="var">to</span> <span class="id" title="var">lc_tgt'</span>, <span class="id" title="var">sc</span> <span class="id" title="var">to</span> <span class="id" title="var">sc_tgt'</span>, <span class="id" title="var">memory</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_tgt'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_NA_STEP</span>: @<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">lo</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st_tgt</span> <span class="id" title="var">lc_tgt</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st_tgt'</span> <span class="id" title="var">lc_tgt'</span> <span class="id" title="var">sc_tgt'</span> <span class="id" title="var">mem_tgt'</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">TGT_THREAD_STEP</span> <span class="id" title="var">IS_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">te</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_THREAD_STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_tau_step_intro"><span class="id" title="constructor">Thread.na_tau_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_THREAD_STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_read_step_intro"><span class="id" title="constructor">Thread.na_plain_read_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_THREAD_STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_write_step_intro"><span class="id" title="constructor">Thread.na_plain_write_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PROM_EQ</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">TGT_THREAD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x0</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">LOCAL_SIM_STATE'</span>: <span class="id" title="var">x2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM_STATE'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_NPThread_tau_steps"><span class="id" title="lemma">na_steps_dset_to_NPThread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">NP_STEPS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PROM_EQ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL_PROMISES0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">REL_PROMISES0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">REL_PROM_TBOT'</span>: <a class="idref" href="CompOptCert.simPromiseCertified.html#rel_promises_TBOT"><span class="id" title="inductive">rel_promises_TBOT</span></a> <span class="id" title="var">inj</span> <span class="id" title="var">pdset0</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc_src0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REL_PROMISES0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">REL_PROMISES0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LESS_PROMISES</span>: <span class="id" title="keyword">∀</span> <a id="loc:448" class="idref" href="#loc:448"><span class="id" title="binder">loc</span></a> <a id="from0:449" class="idref" href="#from0:449"><span class="id" title="binder">from0</span></a> <a id="to:450" class="idref" href="#to:450"><span class="id" title="binder">to</span></a> <a id="val:451" class="idref" href="#val:451"><span class="id" title="binder">val</span></a> <a id="R:452" class="idref" href="#R:452"><span class="id" title="binder">R</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:442"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:444"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc_src0</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from0:443"><span class="id" title="variable">from0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:445"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#R:446"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="from:453" class="idref" href="#from:453"><span class="id" title="binder">from</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:442"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:444"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:447"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:445"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#R:446"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#na_steps_promises_fulfill"><span class="id" title="lemma">na_steps_promises_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PDSET_LESS</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="loc:458" class="idref" href="#loc:458"><span class="id" title="binder">loc</span></a> <a id="to:459" class="idref" href="#to:459"><span class="id" title="binder">to</span></a> <a id="j:460" class="idref" href="#j:460"><span class="id" title="binder">j</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:454"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:455"><span class="id" title="variable">to</span></a> <span class="id" title="var">pdset0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:456"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:454"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:455"><span class="id" title="variable">to</span></a> <span class="id" title="var">pdset</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="i:461" class="idref" href="#i:461"><span class="id" title="binder">i</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:454"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:455"><span class="id" title="variable">to</span></a> <span class="id" title="var">pdset</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:457"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">index_order</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:456"><span class="id" title="variable">j</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:457"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_subset"><span class="id" title="lemma">na_steps_dset_subset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset_less"><span class="id" title="lemma">pdset_less</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">SUBSET</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">REL_PROMISES</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PDSET_LESS0</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="loc:466" class="idref" href="#loc:466"><span class="id" title="binder">loc</span></a> <a id="to:467" class="idref" href="#to:467"><span class="id" title="binder">to</span></a> <a id="j:468" class="idref" href="#j:468"><span class="id" title="binder">j</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:462"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:463"><span class="id" title="variable">to</span></a> <span class="id" title="var">pdset0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:464"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="i:469" class="idref" href="#i:469"><span class="id" title="binder">i</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_get"><span class="id" title="definition">dset_get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:462"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:463"><span class="id" title="variable">to</span></a> <span class="id" title="var">pdset</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:465"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">index_order</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#j:464"><span class="id" title="variable">j</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#i:465"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REL_PROM_TBOT</span> <span class="id" title="var">REL_PROM_TBOT'</span> <span class="id" title="var">LESS_PROMISES</span> <span class="id" title="var">PDSET_LESS</span> <span class="id" title="var">MONOTONIC_INJ</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PDSET_LESS</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">REL_PROM_TBOT</span>. <span class="id" title="var">inv</span> <span class="id" title="var">REL_PROM_TBOT'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LESS_PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.eq_dec"><span class="id" title="axiom">Time.eq_dec</span></a> <span class="id" title="var">to</span> <span class="id" title="var">t</span>); <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj_implies_disj_mapping"><span class="id" title="lemma">monotonic_inj_implies_disj_mapping</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">MONOTONIC_INJ</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">n</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">NA_STEPS_S</span>: <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#na_steps_na_loc_same_prsv"><span class="id" title="lemma">na_steps_na_loc_same_prsv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NA_STEP_CAP</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_not_care_sc"><span class="id" title="lemma">no_scfence_nprm_steps_not_care_sc</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">sc0</span> := <span class="id" title="var">sc_srcc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">x3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.DelaySet.html#remove_none"><span class="id" title="definition">remove_none</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols"><span class="id" title="definition">cons_ols</span></a> <span class="id" title="var">pdset0</span> <span class="id" title="var">ls</span>)) <span class="id" title="var">eqn</span>: <span class="id" title="var">REMOVE_NONE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PDSET_EMPTY</span>: <span class="id" title="var">pdset0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#remove_none_empty_implies_pdset_init"><span class="id" title="lemma">remove_none_empty_implies_pdset_init</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">FINITE_DSET</span> <span class="id" title="var">REL_PROM_TBOT</span> <span class="id" title="var">REL_PROM_TBOT'</span> <span class="id" title="var">H0</span> <span class="id" title="var">LESS_PROMISES</span> <span class="id" title="var">MONOTONIC_INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">REL_PROM_TBOT</span>. <span class="id" title="var">inv</span> <span class="id" title="var">REL_PROM_TBOT'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND0</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">LESS_PROMISES</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.eq_dec"><span class="id" title="axiom">Time.eq_dec</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t0</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset"><span class="id" title="definition">finite_dset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FINITE_DSET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">FINITE_DSET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj_implies_disj_mapping"><span class="id" title="lemma">monotonic_inj_implies_disj_mapping</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">MONOTONIC_INJ</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x2</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">ONLY_RSVs</span>: <span class="id" title="keyword">∀</span> <a id="loc:474" class="idref" href="#loc:474"><span class="id" title="binder">loc</span></a> <a id="to:475" class="idref" href="#to:475"><span class="id" title="binder">to</span></a> <a id="from:476" class="idref" href="#from:476"><span class="id" title="binder">from</span></a> <a id="msg:477" class="idref" href="#msg:477"><span class="id" title="binder">msg</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:470"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:471"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc_src0</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:472"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:473"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#msg:473"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset_init_rel_promises_implies_only_reserve"><span class="id" title="lemma">dset_init_rel_promises_implies_only_reserve</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.DelaySet.html#dset_subset"><span class="id" title="definition">dset_subset</span></a>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF_T'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc_src0</span> <span class="id" title="var">mem_src0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#only_reservations_fulfill"><span class="id" title="lemma">only_reservations_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ONLY_RSVs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ONLY_RSVs</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">NPRM_STEPS</span> &amp; <span class="id" title="var">T_BOT'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">mem_c'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">NPRM_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc_srcc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">NPRM_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">st_src0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">NPRM_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">NPRM_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">x3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NPRM_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_T'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_T'</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">AT_NA_LOC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#na_steps_atomic_loc_stable_rtc"><span class="id" title="lemma">na_steps_atomic_loc_stable_rtc</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">loc</span> := <span class="id" title="var">loc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#na_steps_atomic_loc_stable_rtc"><span class="id" title="lemma">na_steps_atomic_loc_stable_rtc</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">loc</span> := <span class="id" title="var">loc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEP_CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">NA_STEP_CAP</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">NA_STEPS_S</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <span class="id" title="var">NA_SAME_PRSV</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H</span> (<a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols"><span class="id" title="definition">cons_ols</span></a> <span class="id" title="var">pdset0</span> <span class="id" title="var">ls</span>) (<a class="idref" href="CompOptCert.DelaySet.html#remove_none"><span class="id" title="definition">remove_none</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#cons_ols"><span class="id" title="definition">cons_ols</span></a> <span class="id" title="var">pdset0</span> <span class="id" title="var">ls</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lt_dset_cons_ols"><span class="id" title="lemma">lt_dset_cons_ols</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">REMOVE_NONE</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#no_Dup_ls_remove_none_cons_ols"><span class="id" title="lemma">no_Dup_ls_remove_none_cons_ols</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NA_SAME_PRSV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">NA_AT_LOC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#na_steps_atomic_loc_stable_rtc"><span class="id" title="lemma">na_steps_atomic_loc_stable_rtc</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">loc</span> := <span class="id" title="var">loc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#na_steps_atomic_loc_stable_rtc"><span class="id" title="lemma">na_steps_atomic_loc_stable_rtc</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">loc</span> := <span class="id" title="var">loc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEP_CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">NA_STEPS_S</span> <span class="id" title="tactic">in</span> <span class="id" title="var">LHS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">NA_STEP_CAP</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">NA_SAME_PRSV</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">lc_src0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_steps_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">st_src0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc_src0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE_S</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_src'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NA_STEPS_S</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">mem_tgt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_step_is_no_scfence_nprm_step"><span class="id" title="lemma">Thread_na_step_is_no_scfence_nprm_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">lc_tgt'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">PROM_EQ</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_step_is_no_scfence_nprm_step"><span class="id" title="lemma">Thread_na_step_is_no_scfence_nprm_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TGT_NA_STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">pdset0</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset_remove_none_cons_ols"><span class="id" title="lemma">finite_dset_remove_none_cons_ols</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PDSET_LESS0</span> <span class="id" title="var">FINITE_DSET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_dset"><span class="id" title="definition">finite_dset</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FINITE_DSET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PDSET_LESS0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">FINITE_DSET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc_srcc</span>). <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_srcc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x3</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_DONE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#na_steps_na_loc_same_prsv"><span class="id" title="lemma">na_steps_na_loc_same_prsv</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NO_SC_FENCE_NPRM_STEP_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#Thread_na_steps_is_no_scfence_nprm_steps"><span class="id" title="lemma">Thread_na_steps_is_no_scfence_nprm_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NA_STEP_CAP</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NO_SC_FENCE_NPRM_STEP_S_CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_not_care_sc"><span class="id" title="lemma">no_scfence_nprm_steps_not_care_sc</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">sc0</span> := <span class="id" title="var">sc_srcc</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">NO_SC_FENCE_NPRM_STEP_S_CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_steps_is_nprm_steps"><span class="id" title="lemma">no_scfence_nprm_steps_is_nprm_steps</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NO_SC_FENCE_NPRM_STEP_S_CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lsim_ensures_promise_fulfill_T_BOT" class="idref" href="#lsim_ensures_promise_fulfill_T_BOT"><span class="id" title="lemma">lsim_ensures_promise_fulfill_T_BOT</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="index:478" class="idref" href="#index:478"><span class="id" title="binder">index</span></a> <a id="index_order:479" class="idref" href="#index_order:479"><span class="id" title="binder">index_order</span></a> <a id="dset:480" class="idref" href="#dset:480"><span class="id" title="binder">dset</span></a> <a id="lang:481" class="idref" href="#lang:481"><span class="id" title="binder">lang</span></a> <a id="I:482" class="idref" href="#I:482"><span class="id" title="binder">I</span></a> <a id="lo:483" class="idref" href="#lo:483"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_tgt:484" class="idref" href="#st_tgt:484"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:485" class="idref" href="#lc_tgt:485"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:486" class="idref" href="#sc_tgt:486"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:487" class="idref" href="#mem_tgt:487"><span class="id" title="binder">mem_tgt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_src:488" class="idref" href="#st_src:488"><span class="id" title="binder">st_src</span></a> <a id="lc_src:489" class="idref" href="#lc_src:489"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:490" class="idref" href="#sc_src:490"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:491" class="idref" href="#mem_src:491"><span class="id" title="binder">mem_src</span></a> <a id="sc_srcc:492" class="idref" href="#sc_srcc:492"><span class="id" title="binder">sc_srcc</span></a> <a id="mem_srcc:493" class="idref" href="#mem_srcc:493"><span class="id" title="binder">mem_srcc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="b:494" class="idref" href="#b:494"><span class="id" title="binder">b</span></a> <a id="inj:495" class="idref" href="#inj:495"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:496" class="idref" href="#MONOTONIC_INJ:496"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:495"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUND:497" class="idref" href="#WELL_FOUND:497"><span class="id" title="binder">WELL_FOUND</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:479"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T_BOT:498" class="idref" href="#T_BOT:498"><span class="id" title="binder">T_BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:485"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:499" class="idref" href="#LOCAL_WF_T:499"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:485"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:487"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED_T:500" class="idref" href="#MEM_CLOSED_T:500"><span class="id" title="binder">MEM_CLOSED_T</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:487"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:501" class="idref" href="#LOCAL_SIM:501"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:478"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:479"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:481"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#I:482"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:483"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:495"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset:480"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#b:494"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:481"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_tgt:484"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:485"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_tgt:486"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:487"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:481"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:488"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:489"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_src:490"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:491"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE_S:503" class="idref" href="#SAFE_S:503"><span class="id" title="binder">SAFE_S</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':502" class="idref" href="#e_src':502"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:481"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:483"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:481"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:488"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:489"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_src:490"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:491"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e_src':502"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e_src':502"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:483"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_SAME:505" class="idref" href="#NA_SAME:505"><span class="id" title="binder">NA_SAME</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:504" class="idref" href="#loc:504"><span class="id" title="binder">loc</span></a>, <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:483"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:504"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.nonatomic"><span class="id" title="constructor">Ordering.nonatomic</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:491"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:504"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_srcc:493"><span class="id" title="variable">mem_srcc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:504"><span class="id" title="variable">loc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:506" class="idref" href="#LOCAL_WF_S:506"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:489"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:491"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED_S:507" class="idref" href="#MEM_CLOSED_S:507"><span class="id" title="binder">MEM_CLOSED_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:491"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_LE_SRC:508" class="idref" href="#MEM_LE_SRC:508"><span class="id" title="binder">MEM_LE_SRC</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:491"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_srcc:493"><span class="id" title="variable">mem_srcc</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_srcc':509" class="idref" href="#e_srcc':509"><span class="id" title="binder">e_srcc'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:481"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:483"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:481"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:488"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:489"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_srcc:492"><span class="id" title="variable">sc_srcc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_srcc:493"><span class="id" title="variable">mem_srcc</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e_srcc':509"><span class="id" title="variable">e_srcc'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e_srcc':509"><span class="id" title="variable">e_srcc'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span>. <span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE_S</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PSET</span>: <a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="pdset:511" class="idref" href="#pdset:511"><span class="id" title="binder">pdset</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_subset"><span class="id" title="definition">dset_subset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:510"><span class="id" title="variable">pdset</span></a> <span class="id" title="var">dset</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#rel_promises_TBOT"><span class="id" title="inductive">rel_promises_TBOT</span></a> <span class="id" title="var">inj</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#pdset:510"><span class="id" title="variable">pdset</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc_src</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">STEP_INV</span> <span class="id" title="var">T_BOT</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">pdset</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">REL_PROMISES0</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#finite_promises_convert_to_list"><span class="id" title="lemma">finite_promises_convert_to_list</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_S</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#well_founded_index_implies_Acc_lt_dset"><span class="id" title="lemma">well_founded_index_implies_Acc_lt_dset</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">ls</span>). <span class="id" title="var">introv</span> <span class="id" title="var">ACC_LT_DSET</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill_T_BOT'"><span class="id" title="lemma">lsim_ensures_promise_fulfill_T_BOT'</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.LocalSim.html#local_sim_state_step_intro"><span class="id" title="constructor">local_sim_state_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="lsim_ensures_promise_fulfill" class="idref" href="#lsim_ensures_promise_fulfill"><span class="id" title="lemma">lsim_ensures_promise_fulfill</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:512" class="idref" href="#n:512"><span class="id" title="binder">n</span></a> <a id="lang:513" class="idref" href="#lang:513"><span class="id" title="binder">lang</span></a> <a id="index:514" class="idref" href="#index:514"><span class="id" title="binder">index</span></a> <a id="index_order:515" class="idref" href="#index_order:515"><span class="id" title="binder">index_order</span></a> <a id="I:516" class="idref" href="#I:516"><span class="id" title="binder">I</span></a> <a id="lo:517" class="idref" href="#lo:517"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_tgt:518" class="idref" href="#st_tgt:518"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:519" class="idref" href="#lc_tgt:519"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:520" class="idref" href="#sc_tgt:520"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:521" class="idref" href="#mem_tgt:521"><span class="id" title="binder">mem_tgt</span></a> <a id="sc_tgtc:522" class="idref" href="#sc_tgtc:522"><span class="id" title="binder">sc_tgtc</span></a> <a id="mem_tgtc:523" class="idref" href="#mem_tgtc:523"><span class="id" title="binder">mem_tgtc</span></a> <a id="e_tgt':524" class="idref" href="#e_tgt':524"><span class="id" title="binder">e_tgt'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_src:525" class="idref" href="#st_src:525"><span class="id" title="binder">st_src</span></a> <a id="lc_src:526" class="idref" href="#lc_src:526"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:527" class="idref" href="#sc_src:527"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:528" class="idref" href="#mem_src:528"><span class="id" title="binder">mem_src</span></a> <a id="sc_srcc:529" class="idref" href="#sc_srcc:529"><span class="id" title="binder">sc_srcc</span></a> <a id="mem_srcc:530" class="idref" href="#mem_srcc:530"><span class="id" title="binder">mem_srcc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="b:531" class="idref" href="#b:531"><span class="id" title="binder">b</span></a> <a id="dset:532" class="idref" href="#dset:532"><span class="id" title="binder">dset</span></a> <a id="inj:533" class="idref" href="#inj:533"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUND:534" class="idref" href="#WELL_FOUND:534"><span class="id" title="binder">WELL_FOUND</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:515"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:535" class="idref" href="#MONOTONIC_INJ:535"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:533"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_I:536" class="idref" href="#WF_I:536"><span class="id" title="binder">WF_I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#I:516"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL_TGT:537" class="idref" href="#FULFILL_TGT:537"><span class="id" title="binder">FULFILL_TGT</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:513"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:517"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#n:512"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:513"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_tgt:518"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:519"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_tgtc:522"><span class="id" title="variable">sc_tgtc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgtc:523"><span class="id" title="variable">mem_tgtc</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e_tgt':524"><span class="id" title="variable">e_tgt'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="T_BOT:538" class="idref" href="#T_BOT:538"><span class="id" title="binder">T_BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e_tgt':524"><span class="id" title="variable">e_tgt'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:539" class="idref" href="#LOCAL_WF_T:539"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:519"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:521"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED_T:540" class="idref" href="#MEM_CLOSED_T:540"><span class="id" title="binder">MEM_CLOSED_T</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:521"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_LE:541" class="idref" href="#MEM_LE:541"><span class="id" title="binder">MEM_LE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:521"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgtc:523"><span class="id" title="variable">mem_tgtc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MORE_RESERVE:546" class="idref" href="#MORE_RESERVE:546"><span class="id" title="binder">MORE_RESERVE</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="loc:542" class="idref" href="#loc:542"><span class="id" title="binder">loc</span></a> <a id="to:543" class="idref" href="#to:543"><span class="id" title="binder">to</span></a> <a id="from:544" class="idref" href="#from:544"><span class="id" title="binder">from</span></a> <a id="msg:545" class="idref" href="#msg:545"><span class="id" title="binder">msg</span></a>, <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:542"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:543"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:521"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:542"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:543"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgtc:523"><span class="id" title="variable">mem_tgtc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:544"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:545"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#msg:545"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:547" class="idref" href="#LOCAL_SIM:547"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:514"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:515"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:513"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#I:516"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:517"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:533"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset:532"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#b:531"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:513"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_tgt:518"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:519"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_tgt:520"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:521"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:513"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:525"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:526"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_src:527"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:528"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE_S:549" class="idref" href="#SAFE_S:549"><span class="id" title="binder">SAFE_S</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':548" class="idref" href="#e_src':548"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:513"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:517"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:513"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:525"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:526"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_src:527"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:528"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e_src':548"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e_src':548"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:517"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_LE_SRC:550" class="idref" href="#MEM_LE_SRC:550"><span class="id" title="binder">MEM_LE_SRC</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:528"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_srcc:530"><span class="id" title="variable">mem_srcc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MORE_RESERVE_SRC:555" class="idref" href="#MORE_RESERVE_SRC:555"><span class="id" title="binder">MORE_RESERVE_SRC</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="loc:551" class="idref" href="#loc:551"><span class="id" title="binder">loc</span></a> <a id="to:552" class="idref" href="#to:552"><span class="id" title="binder">to</span></a> <a id="from:553" class="idref" href="#from:553"><span class="id" title="binder">from</span></a> <a id="msg:554" class="idref" href="#msg:554"><span class="id" title="binder">msg</span></a>, <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:551"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:552"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:528"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:551"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:552"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_srcc:530"><span class="id" title="variable">mem_srcc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:553"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#msg:554"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.simPromiseCertified.html#msg:554"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_SAME:557" class="idref" href="#NA_SAME:557"><span class="id" title="binder">NA_SAME</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:556" class="idref" href="#loc:556"><span class="id" title="binder">loc</span></a>, <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:517"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:556"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.nonatomic"><span class="id" title="constructor">Ordering.nonatomic</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:528"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:556"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_srcc:530"><span class="id" title="variable">mem_srcc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:556"><span class="id" title="variable">loc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="AT_COVER:561" class="idref" href="#AT_COVER:561"><span class="id" title="binder">AT_COVER</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:558" class="idref" href="#loc:558"><span class="id" title="binder">loc</span></a>, <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:517"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:558"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.atomic"><span class="id" title="constructor">Ordering.atomic</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="from:559" class="idref" href="#from:559"><span class="id" title="binder">from</span></a> <a id="to:560" class="idref" href="#to:560"><span class="id" title="binder">to</span></a>, <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:558"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:560"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_srcc:530"><span class="id" title="variable">mem_srcc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:559"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:558"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:560"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgtc:523"><span class="id" title="variable">mem_tgtc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:559"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:562" class="idref" href="#LOCAL_WF_S:562"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:526"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:528"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_CLOSED_S:563" class="idref" href="#MEM_CLOSED_S:563"><span class="id" title="binder">MEM_CLOSED_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:528"><span class="id" title="variable">mem_src</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_srcc':564" class="idref" href="#e_srcc':564"><span class="id" title="binder">e_srcc'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:513"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:517"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:513"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:525"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:526"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_srcc:529"><span class="id" title="variable">sc_srcc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_srcc:530"><span class="id" title="variable">mem_srcc</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e_srcc':564"><span class="id" title="variable">e_srcc'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e_srcc':564"><span class="id" title="variable">e_srcc'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FULFILL_TGT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill_T_BOT"><span class="id" title="lemma">lsim_ensures_promise_fulfill_T_BOT</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_TGT_C</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc_tgt</span> <span class="id" title="var">mem_tgtc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_concrete_le_local_wf"><span class="id" title="lemma">memory_concrete_le_local_wf</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_T</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">PROMISES</span> <span class="id" title="var">MEM_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">LHS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_LE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">LHS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">CLOSED_TGT_C</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem_tgtc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#memory_closed_addition_rsv"><span class="id" title="lemma">memory_closed_addition_rsv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem</span> := <span class="id" title="var">mem_tgt</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROMS_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_TGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FULFILL_TGT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="ordr:566" class="idref" href="#ordr:566"><span class="id" title="binder">ordr</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <span class="id" title="var">e</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.fence"><span class="id" title="constructor">ThreadEvent.fence</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#ordr:565"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">LOCAL_WF_TGT_C</span> <span class="id" title="var">CLOSED_TGT_C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill_T_BOT"><span class="id" title="lemma">lsim_ensures_promise_fulfill_T_BOT</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_T'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">local</span> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro1"><span class="id" title="constructor">no_scfence_nprm_step_intro1</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROG</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_CLOSED_T'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro1"><span class="id" title="constructor">no_scfence_nprm_step_intro1</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROG</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PROM_CONS_T'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#tgt_no_scfence_program_step_cap_sim"><span class="id" title="lemma">tgt_no_scfence_program_step_cap_sim</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROG</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">TAU</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WF_T</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED_T</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_SIM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc_srcc</span>). <span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">mem_srcc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">st_src</span> := <span class="id" title="var">st_src'</span>) (<span class="id" title="var">lc_src</span> := <span class="id" title="var">lc_src'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc_src</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">mem_src'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>) (<span class="id" title="var">mem_tgt</span> := <span class="id" title="var">mem_tgt'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_srcc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE_S</span> <span class="id" title="var">S_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">ABORT</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">ABORT</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCAL_WF_T'</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">local</span> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_local_wf"><span class="id" title="lemma">no_scfence_nprm_step_prsv_local_wf</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro2"><span class="id" title="constructor">no_scfence_nprm_step_intro2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PF</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">MEM_CLOSED_T'</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">memory</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_prsv_memory_closed"><span class="id" title="lemma">no_scfence_nprm_step_prsv_memory_closed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#no_scfence_nprm_step_intro2"><span class="id" title="constructor">no_scfence_nprm_step_intro2</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PF</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">PROM_CONS_T'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#nprm_steps_to_bot_promise_consistent"><span class="id" title="lemma">nprm_steps_to_bot_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#tgt_pf_promise_step_cap_sim"><span class="id" title="lemma">tgt_pf_promise_step_cap_sim</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">eapply</span> <span class="id" title="var">PF</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_WF_T</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM_CLOSED_T</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL_SIM</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc_srcc</span>). <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">st_src</span> := <span class="id" title="var">st_src'</span>) (<span class="id" title="var">lc_src</span> := <span class="id" title="var">lc_src'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_src</span> := <span class="id" title="var">sc_src</span>) (<span class="id" title="var">mem_src</span> := <span class="id" title="var">mem_src'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e_srcc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE_S</span> <span class="id" title="var">S_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">ABORT</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">ABORT</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">lo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">lo</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fulfill_ww_race_free_implies_promise_certified" class="idref" href="#fulfill_ww_race_free_implies_promise_certified"><span class="id" title="lemma">fulfill_ww_race_free_implies_promise_certified</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:567" class="idref" href="#lang:567"><span class="id" title="binder">lang</span></a> <a id="lo:568" class="idref" href="#lo:568"><span class="id" title="binder">lo</span></a> <a id="st:569" class="idref" href="#st:569"><span class="id" title="binder">st</span></a> <a id="lc:570" class="idref" href="#lc:570"><span class="id" title="binder">lc</span></a> <a id="sc:571" class="idref" href="#sc:571"><span class="id" title="binder">sc</span></a> <a id="mem:572" class="idref" href="#mem:572"><span class="id" title="binder">mem</span></a> <a id="sc_c:573" class="idref" href="#sc_c:573"><span class="id" title="binder">sc_c</span></a> <a id="mem_c:574" class="idref" href="#mem_c:574"><span class="id" title="binder">mem_c</span></a> <a id="e':575" class="idref" href="#e':575"><span class="id" title="binder">e'</span></a> <a id="mem_cap:576" class="idref" href="#mem_cap:576"><span class="id" title="binder">mem_cap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:577" class="idref" href="#FULFILL:577"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:567"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:568"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:567"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:569"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:570"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_c:573"><span class="id" title="variable">sc_c</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:574"><span class="id" title="variable">mem_c</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e':575"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:578" class="idref" href="#BOT:578"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e':575"><span class="id" title="variable">e'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_WW_RACE:579" class="idref" href="#NO_WW_RACE:579"><span class="id" title="binder">NO_WW_RACE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> @<a class="idref" href="CompOptCert.ww_RF.html#thrd_ww_race"><span class="id" title="inductive">thrd_ww_race</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:567"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:568"><span class="id" title="variable">lo</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:567"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:569"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:570"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:571"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:574"><span class="id" title="variable">mem_c</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NA_SAME:581" class="idref" href="#NA_SAME:581"><span class="id" title="binder">NA_SAME</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:580" class="idref" href="#loc:580"><span class="id" title="binder">loc</span></a>, <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:568"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:580"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.nonatomic"><span class="id" title="constructor">Ordering.nonatomic</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:572"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:580"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:574"><span class="id" title="variable">mem_c</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:580"><span class="id" title="variable">loc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CAP_MEM:582" class="idref" href="#CAP_MEM:582"><span class="id" title="binder">CAP_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:572"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_cap:576"><span class="id" title="variable">mem_cap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="AT_COVER:584" class="idref" href="#AT_COVER:584"><span class="id" title="binder">AT_COVER</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:583" class="idref" href="#loc:583"><span class="id" title="binder">loc</span></a>, <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:568"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:583"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.atomic"><span class="id" title="constructor">Ordering.atomic</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_cap:576"><span class="id" title="variable">mem_cap</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:583"><span class="id" title="variable">loc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:574"><span class="id" title="variable">mem_c</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:583"><span class="id" title="variable">loc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF1:585" class="idref" href="#LOCAL_WF1:585"><span class="id" title="binder">LOCAL_WF1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:570"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:572"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF2:586" class="idref" href="#LOCAL_WF2:586"><span class="id" title="binder">LOCAL_WF2</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:570"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:574"><span class="id" title="variable">mem_c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM1:587" class="idref" href="#CLOSED_MEM1:587"><span class="id" title="binder">CLOSED_MEM1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:572"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM2:588" class="idref" href="#CLOSED_MEM2:588"><span class="id" title="binder">CLOSED_MEM2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_c:574"><span class="id" title="variable">mem_c</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:567"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st:569"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc:570"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc:571"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem:572"><span class="id" title="variable">mem</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:568"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inj"><span class="id" title="lemma">Memory.cap_inj</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_MEM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">mem1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">PROMISE_CONSISTENT</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#promise_consistent_prsv_thread_nprm_step"><span class="id" title="lemma">promise_consistent_prsv_thread_nprm_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BOT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">WF_CONCRETE_PROM</span>: <span class="id" title="keyword">∀</span> <a id="loc:594" class="idref" href="#loc:594"><span class="id" title="binder">loc</span></a> <a id="from:595" class="idref" href="#from:595"><span class="id" title="binder">from</span></a> <a id="to:596" class="idref" href="#to:596"><span class="id" title="binder">to</span></a> <a id="val:597" class="idref" href="#val:597"><span class="id" title="binder">val</span></a> <a id="R:598" class="idref" href="#R:598"><span class="id" title="binder">R</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:589"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:591"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.simPromiseCertified.html#from:590"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#val:592"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#R:593"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#from:590"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#to:591"><span class="id" title="variable">to</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE_CONSISTENT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISE_CONSISTENT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">LT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LT</span>. <span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF_CAP</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc</span> <span class="id" title="var">mem_cap</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">MEM_CLOSED_CAP</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <span class="id" title="var">mem_cap</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.promiseCertifiedAux.html#no_na_race_consistent_construction"><span class="id" title="lemma">no_na_race_consistent_construction</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">inj</span> := <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="var">mem_c</span>) (<span class="id" title="var">mem'</span> := <span class="id" title="var">mem_cap</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">sc1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">FULFILL</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st'</span> &amp; <span class="id" title="var">lc'</span> &amp; <span class="id" title="var">sc'</span> &amp; <span class="id" title="var">mem'</span> &amp; <span class="id" title="var">CAP_STEPS</span> &amp; <span class="id" title="var">CAP_BOT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st'</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc'</span> <span class="id" title="var">mem'</span>). <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t</span> <span class="id" title="var">mem_c</span>); <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">AT_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">AT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">sc1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="keyword">fun</span> <a id="loc:599" class="idref" href="#loc:599"><span class="id" title="binder">loc</span></a> ⇒ <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#loc:599"><span class="id" title="variable">loc</span></a> <span class="id" title="var">mem_cap</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap"><span class="id" title="definition">Memory.max_concrete_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">SC_MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">SC_MAX</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM_CLOSED_CAP</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.inhabited"><span class="id" title="definition">Memory.inhabited</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INHABITED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">INHABITED</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_ts_spec"><span class="id" title="lemma">Memory.max_concrete_ts_spec</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv_concrete"><span class="id" title="lemma">Memory.cap_inv_concrete</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">CLOSED_MEM1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">GET_c</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> (<span class="id" title="var">sc1</span> <span class="id" title="var">loc</span>) <span class="id" title="var">mem_c</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val'</span> <span class="id" title="var">released'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">NA_SAME</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_c</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">GET</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">MSG</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_optviewinj"><span class="id" title="lemma">spec_inj_optviewinj</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">AT_NA_LOC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">AT_COVER</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">GET</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t</span> <span class="id" title="var">mem</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">f</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val</span> <span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NA_SAME</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">t</span> <span class="id" title="var">mem_c</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj_monotonic"><span class="id" title="lemma">spec_inj_monotonic</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#TViewInj_spec_inj_id"><span class="id" title="lemma">TViewInj_spec_inj_id</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">to</span> <span class="id" title="var">released</span> <span class="id" title="var">from</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">introv</span> <span class="id" title="var">GET_MEMC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_MEMC</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">to'</span> <span class="id" title="var">released'</span> <span class="id" title="var">from'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">introv</span> <span class="id" title="var">GET_MEMC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ConsistentProp.html#spec_inj"><span class="id" title="definition">spec_inj</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET_MEMC</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NA_LOC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.promiseCertifiedAux.html#na_view_intro_le_max_ts"><span class="id" title="constructor">na_view_intro_le_max_ts</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SC_MAX</span> <span class="id" title="var">LOCAL_WF_CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_CAP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">TVIEW_CLOSED</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ACQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">RLX</span> <span class="id" title="var">loc</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#max_concrete_timemap_get"><span class="id" title="lemma">max_concrete_timemap_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">RLX</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">GET_MEM</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <span class="id" title="var">mem</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val</span> <span class="id" title="var">released</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">NA_SAME</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#max_concrete_timemap_get"><span class="id" title="lemma">max_concrete_timemap_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET_MEM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">GET_MEM</span>. <span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ITV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_ts_spec"><span class="id" title="lemma">Memory.max_ts_spec</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">MAX</span> <span class="id" title="var">TO</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> <span class="id" title="var">ts'</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.max_ts"><span class="id" title="definition">Memory.max_ts</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">mem_cap</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">H0</span>. <span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap"><span class="id" title="definition">Memory.max_concrete_timemap</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">SC_MAX</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">SC_MAX</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM_CLOSED_CAP</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.inhabited"><span class="id" title="definition">Memory.inhabited</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INHABITED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">INHABITED</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_ts_spec"><span class="id" title="lemma">Memory.max_concrete_ts_spec</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">INHABITED</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv_concrete"><span class="id" title="lemma">Memory.cap_inv_concrete</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;3: <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP</span>. 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> &lt;- <span class="id" title="var">NA_SAME</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#max_concrete_timemap_get"><span class="id" title="lemma">max_concrete_timemap_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="promise_certified_prsv" class="idref" href="#promise_certified_prsv"><span class="id" title="lemma">promise_certified_prsv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:600" class="idref" href="#lang:600"><span class="id" title="binder">lang</span></a> <a id="index:601" class="idref" href="#index:601"><span class="id" title="binder">index</span></a> <a id="index_order:602" class="idref" href="#index_order:602"><span class="id" title="binder">index_order</span></a> <a id="I:603" class="idref" href="#I:603"><span class="id" title="binder">I</span></a> <a id="lo:604" class="idref" href="#lo:604"><span class="id" title="binder">lo</span></a> <a id="inj:605" class="idref" href="#inj:605"><span class="id" title="binder">inj</span></a> <a id="dset:606" class="idref" href="#dset:606"><span class="id" title="binder">dset</span></a> <a id="b:607" class="idref" href="#b:607"><span class="id" title="binder">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="st_tgt:608" class="idref" href="#st_tgt:608"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:609" class="idref" href="#lc_tgt:609"><span class="id" title="binder">lc_tgt</span></a> <a id="sc_tgt:610" class="idref" href="#sc_tgt:610"><span class="id" title="binder">sc_tgt</span></a> <a id="mem_tgt:611" class="idref" href="#mem_tgt:611"><span class="id" title="binder">mem_tgt</span></a> <a id="st_src:612" class="idref" href="#st_src:612"><span class="id" title="binder">st_src</span></a> <a id="lc_src:613" class="idref" href="#lc_src:613"><span class="id" title="binder">lc_src</span></a> <a id="sc_src:614" class="idref" href="#sc_src:614"><span class="id" title="binder">sc_src</span></a> <a id="mem_src:615" class="idref" href="#mem_src:615"><span class="id" title="binder">mem_src</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUND:616" class="idref" href="#WELL_FOUND:616"><span class="id" title="binder">WELL_FOUND</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:602"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONSISTENT_T:617" class="idref" href="#CONSISTENT_T:617"><span class="id" title="binder">CONSISTENT_T</span></a>: <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:600"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:600"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_tgt:608"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:609"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_tgt:610"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:611"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:604"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:618" class="idref" href="#LOCAL_SIM:618"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index:601"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#index_order:602"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:600"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#I:603"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:604"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:605"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#dset:606"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#b:607"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:600"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_tgt:608"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:609"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_tgt:610"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:611"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:600"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:612"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:613"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_src:614"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:615"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:620" class="idref" href="#SAFE:620"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e_src':619" class="idref" href="#e_src':619"><span class="id" title="binder">e_src'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:600"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:604"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:600"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:612"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:613"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_src:614"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:615"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#e_src':619"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.is_abort"><span class="id" title="definition">Thread.is_abort</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#e_src':619"><span class="id" title="variable">e_src'</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:604"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_WW_RACE:621" class="idref" href="#NO_WW_RACE:621"><span class="id" title="binder">NO_WW_RACE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> @<a class="idref" href="CompOptCert.ww_RF.html#thrd_ww_race"><span class="id" title="inductive">thrd_ww_race</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:600"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:604"><span class="id" title="variable">lo</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:600"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:612"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:613"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_src:614"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:615"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_T:622" class="idref" href="#LOCAL_WF_T:622"><span class="id" title="binder">LOCAL_WF_T</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_tgt:609"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:611"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_WF_S:623" class="idref" href="#LOCAL_WF_S:623"><span class="id" title="binder">LOCAL_WF_S</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:613"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:615"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_SC_T:624" class="idref" href="#CLOSED_SC_T:624"><span class="id" title="binder">CLOSED_SC_T</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_tgt:610"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:611"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_SC_S:625" class="idref" href="#CLOSED_SC_S:625"><span class="id" title="binder">CLOSED_SC_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed_timemap"><span class="id" title="definition">Memory.closed_timemap</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_src:614"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:615"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM_T:626" class="idref" href="#CLOSED_MEM_T:626"><span class="id" title="binder">CLOSED_MEM_T</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_tgt:611"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED_MEM_S:627" class="idref" href="#CLOSED_MEM_S:627"><span class="id" title="binder">CLOSED_MEM_S</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:615"><span class="id" title="variable">mem_src</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_I:628" class="idref" href="#WF_I:628"><span class="id" title="binder">WF_I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#I:603"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ':629" class="idref" href="#MONOTONIC_INJ':629"><span class="id" title="binder">MONOTONIC_INJ'</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#inj:605"><span class="id" title="variable">inj</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="CONSISTENT_S:630" class="idref" href="#CONSISTENT_S:630"><span class="id" title="binder">CONSISTENT_S</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:600"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lang:600"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#st_src:612"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#lc_src:613"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#sc_src:614"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.simPromiseCertified.html#mem_src:615"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.simPromiseCertified.html#lo:604"><span class="id" title="variable">lo</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENT_T</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_exists"><span class="id" title="lemma">Memory.cap_exists</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">CLOSED_MEM_T</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">CAP_TGT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">CAP_TGT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem_tgt_cap</span> &amp; <span class="id" title="var">CAP_TGT</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.max_concrete_timemap_exists"><span class="id" title="lemma">Memory.max_concrete_timemap_exists</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">mem_tgt_cap</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CAP_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">MAX_CONCRETE_TM_TGT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">MAX_CONCRETE_TM_TGT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">max_tm_tgt</span> &amp; <span class="id" title="var">MAX_CONCRETE_TM_TGT</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CONSISTENT_T</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">CONSISTENT_T</span>. <span class="id" title="var">introv</span> <span class="id" title="var">CONSISTENT_T</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">CONSISTENT_T</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_tgt</span> &amp; <span class="id" title="var">FULFILL_TGT</span> &amp; <span class="id" title="var">BOT_TGT</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">FULFILL_SRC</span>: <span class="id" title="var">FULFILL_TGT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_SRC</span>. <span class="id" title="var">des</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc_tgt</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#promise_consistent_prsv_thread_nprm_step"><span class="id" title="lemma">promise_consistent_prsv_thread_nprm_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_SRC</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_closed"><span class="id" title="lemma">Memory.cap_closed</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Local.html#Local.cap_wf"><span class="id" title="lemma">Local.cap_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">BOT_TGT</span>. <span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#lsim_ensures_promise_fulfill"><span class="id" title="lemma">lsim_ensures_promise_fulfill</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sc_srcc</span> := <span class="id" title="var">sc1</span>) (<span class="id" title="var">mem_srcc</span> := <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <span class="id" title="var">mem_src</span> <span class="id" title="var">mem1</span> <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_SRC</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">FULFILL_SRC</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_srcc'</span> &amp; <span class="id" title="var">FULFILL_SRC</span> &amp; <span class="id" title="var">BOT_SRC</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LOCAL_WF_MEM_AT_CAP</span>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <span class="id" title="var">lc_src</span> (<a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <span class="id" title="var">mem_src</span> <span class="id" title="var">mem1</span> <span class="id" title="var">lo</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_concrete_le_local_wf"><span class="id" title="lemma">memory_concrete_le_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_concrete_le"><span class="id" title="definition">memory_concrete_le</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">CAP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">SOUND</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL_WF_S</span> <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_S</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SOUND</span> <span class="id" title="var">PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a>. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CLOSED_MEM_AT_CAP</span>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> (<a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <span class="id" title="var">mem_src</span> <span class="id" title="var">mem1</span> <span class="id" title="var">lo</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#memory_closed_additional_rsv"><span class="id" title="lemma">memory_closed_additional_rsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM_mem_le"><span class="id" title="lemma">at_CAP_MEM_mem_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le_PreOrder_obligation_1"><span class="id" title="lemma">Memory.Memory.le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>); <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_SRC</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#tau_steps_fulfill_implies_nprm_steps_fulfill"><span class="id" title="lemma">tau_steps_fulfill_implies_nprm_steps_fulfill</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_SRC</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#fulfill_ww_race_free_implies_promise_certified"><span class="id" title="lemma">fulfill_ww_race_free_implies_promise_certified</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FULFILL_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">LOCAL_WF_MEM_AT_CAP</span> <span class="id" title="var">CLOSED_MEM_AT_CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">THRD_WW_RACE_CAP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">NO_WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#thrd_ww_race_cap_prsv"><span class="id" title="lemma">thrd_ww_race_cap_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM_mem_le"><span class="id" title="lemma">at_CAP_MEM_mem_le</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le_PreOrder_obligation_1"><span class="id" title="lemma">Memory.Memory.le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>, <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_WF_S</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP_TGT</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a>, <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CAP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a>, <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> (<span class="id" title="var">lo</span> <span class="id" title="var">loc</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cap_inv"><span class="id" title="lemma">Memory.cap_inv</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CAP</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="var">lo</span> <span class="id" title="var">mem_tgt_cap</span> (<a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <span class="id" title="var">mem_src</span> <span class="id" title="var">mem1</span> <span class="id" title="var">lo</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#Mem_at_eq_at_CAP_MEM2"><span class="id" title="lemma">Mem_at_eq_at_CAP_MEM2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_cap"><span class="id" title="lemma">Mem_at_eq_cap</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#at_CAP_MEM"><span class="id" title="definition">at_CAP_MEM</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#Mem_approxEq_loc"><span class="id" title="definition">Mem_approxEq_loc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">x0</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span>). <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x1</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>